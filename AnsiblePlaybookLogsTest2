ansible-playbook [core 2.12.6]
  config file = None
  configured module search path = ['/root/.ansible/plugins/modules', '/usr/share/ansible/plugins/modules']
  ansible python module location = /usr/local/lib/python3.8/dist-packages/ansible
  ansible collection location = /root/.ansible/collections:/usr/share/ansible/collections
  executable location = /usr/local/bin/ansible-playbook
  python version = 3.8.10 (default, Mar 15 2022, 12:22:08) [GCC 9.4.0]
  jinja version = 3.1.2
  libyaml = True
No config file found; using defaults
setting up inventory plugins
host_list declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
script declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
auto declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
Set default localhost to localhost
Parsed /etc/ansible/hosts inventory source with ini plugin
redirecting (type: modules) ansible.builtin.npm to community.general.npm
Loading collection community.general from /usr/local/lib/python3.8/dist-packages/ansible_collections/community/general
Loading callback plugin default of type stdout, v2.0 from /usr/local/lib/python3.8/dist-packages/ansible/plugins/callback/default.py
Skipping callback 'default', as we already have a stdout callback.
Skipping callback 'minimal', as we already have a stdout callback.
Skipping callback 'oneline', as we already have a stdout callback.

PLAYBOOK: site.yaml ************************************************************
Positional arguments: platforms/shared/configuration/site.yaml
verbosity: 4
connection: smart
timeout: 10
become_method: sudo
tags: ('all',)
inventory: ('/etc/ansible/hosts',)
extra_vars: ('@/home/bevel/build/network.yaml',)
forks: 5
17 plays in platforms/shared/configuration/site.yaml

PLAY [all] *********************************************************************
META: ran handlers
META: ran handlers
META: ran handlers

PLAY [ansible_provisioners] ****************************************************

TASK [Gathering Facts] *********************************************************
task path: /home/bevel/platforms/shared/configuration/network-schema-validator.yaml:12
<localhost> ESTABLISH LOCAL CONNECTION FOR USER: root
<localhost> EXEC /bin/sh -c 'echo ~root && sleep 0'
<localhost> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp `"&& mkdir "` echo /root/.ansible/tmp/ansible-tmp-1666377364.430019-11-239878969696464 `" && echo ansible-tmp-1666377364.430019-11-239878969696464="` echo /root/.ansible/tmp/ansible-tmp-1666377364.430019-11-239878969696464 `" ) && sleep 0'
<localhost> Attempting python interpreter discovery
<localhost> EXEC /bin/sh -c 'echo PLATFORM; uname; echo FOUND; command -v '"'"'python3.10'"'"'; command -v '"'"'python3.9'"'"'; command -v '"'"'python3.8'"'"'; command -v '"'"'python3.7'"'"'; command -v '"'"'python3.6'"'"'; command -v '"'"'python3.5'"'"'; command -v '"'"'/usr/bin/python3'"'"'; command -v '"'"'/usr/libexec/platform-python'"'"'; command -v '"'"'python2.7'"'"'; command -v '"'"'python2.6'"'"'; command -v '"'"'/usr/bin/python'"'"'; command -v '"'"'python'"'"'; echo ENDFOUND && sleep 0'
<localhost> EXEC /bin/sh -c '/usr/bin/python3.8 && sleep 0'
Using module file /usr/local/lib/python3.8/dist-packages/ansible/modules/setup.py
<localhost> PUT /root/.ansible/tmp/ansible-local-44xot_wk5/tmpaikis_a3 TO /root/.ansible/tmp/ansible-tmp-1666377364.430019-11-239878969696464/AnsiballZ_setup.py
<localhost> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1666377364.430019-11-239878969696464/ /root/.ansible/tmp/ansible-tmp-1666377364.430019-11-239878969696464/AnsiballZ_setup.py && sleep 0'
<localhost> EXEC /bin/sh -c '/usr/bin/python3 /root/.ansible/tmp/ansible-tmp-1666377364.430019-11-239878969696464/AnsiballZ_setup.py && sleep 0'
<localhost> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1666377364.430019-11-239878969696464/ > /dev/null 2>&1 && sleep 0'
ok: [localhost]
META: ran handlers

TASK [install ajv-cli] *********************************************************
task path: /home/bevel/platforms/shared/configuration/network-schema-validator.yaml:16
<localhost> ESTABLISH LOCAL CONNECTION FOR USER: root
<localhost> EXEC /bin/sh -c 'echo ~root && sleep 0'
<localhost> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp `"&& mkdir "` echo /root/.ansible/tmp/ansible-tmp-1666377365.4558153-59-273537860687679 `" && echo ansible-tmp-1666377365.4558153-59-273537860687679="` echo /root/.ansible/tmp/ansible-tmp-1666377365.4558153-59-273537860687679 `" ) && sleep 0'
redirecting (type: modules) ansible.builtin.npm to community.general.npm
Using module file /usr/local/lib/python3.8/dist-packages/ansible_collections/community/general/plugins/modules/npm.py
<localhost> PUT /root/.ansible/tmp/ansible-local-44xot_wk5/tmp3lh6yi7u TO /root/.ansible/tmp/ansible-tmp-1666377365.4558153-59-273537860687679/AnsiballZ_npm.py
<localhost> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1666377365.4558153-59-273537860687679/ /root/.ansible/tmp/ansible-tmp-1666377365.4558153-59-273537860687679/AnsiballZ_npm.py && sleep 0'
<localhost> EXEC /bin/sh -c '/usr/bin/python3 /root/.ansible/tmp/ansible-tmp-1666377365.4558153-59-273537860687679/AnsiballZ_npm.py && sleep 0'
<localhost> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1666377365.4558153-59-273537860687679/ > /dev/null 2>&1 && sleep 0'
ok: [localhost] => {
    "changed": false,
    "invocation": {
        "module_args": {
            "ci": false,
            "executable": null,
            "global": true,
            "ignore_scripts": false,
            "name": "ajv-cli",
            "no_bin_links": false,
            "no_optional": false,
            "path": null,
            "production": false,
            "registry": null,
            "state": "present",
            "unsafe_perm": false,
            "version": null
        }
    }
}

TASK [set_fact] ****************************************************************
task path: /home/bevel/platforms/shared/configuration/network-schema-validator.yaml:22
ok: [localhost] => {
    "ansible_facts": {
        "tempNetworkyaml": {
            "network": {
                "docker": {
                    "url": "ghcr.io/hyperledger"
                },
                "env": {
                    "ambassadorPorts": {
                        "portRange": {
                            "from": 15010,
                            "to": 15020
                        }
                    },
                    "external_dns": "disabled",
                    "proxy": "none",
                    "retry_count": 20,
                    "type": "local"
                },
                "frontend": "enabled",
                "network_services": [
                    {
                        "certificate": "/home/bevel/platforms/r3-corda/configuration/build/corda/doorman/tls/ambassador.crt",
                        "service": null,
                        "type": "doorman",
                        "uri": "http://192.168.49.2:30030"
                    },
                    {
                        "certificate": "/home/bevel/platforms/r3-corda/configuration/build/corda/networkmap/tls/ambassador.crt",
                        "service": null,
                        "type": "networkmap",
                        "uri": "http://192.168.49.2:30040"
                    }
                ],
                "organizations": [
                    {
                        "cloud_provider": "minikube",
                        "country": "UK",
                        "external_url_suffix": "develop.local.com",
                        "gitops": {
                            "branch": "test2",
                            "chart_source": "platforms/r3-corda/charts",
                            "email": "git@email.com",
                            "git_protocol": "ssh",
                            "git_repo": "github.com/SynthNetics/bevel.git",
                            "git_url": "ssh://git@github.com/SynthNetics/bevel.git",
                            "password": "git_access_token",
                            "private_key": "/home/bevel/build/gitops",
                            "release_dir": "platforms/r3-corda/releases/dev",
                            "username": "SynthNetics"
                        },
                        "k8s": {
                            "config_file": "/home/bevel/build/config",
                            "context": "minikube"
                        },
                        "location": "London",
                        "name": "supplychain",
                        "organization": null,
                        "services": {
                            "doorman": {
                                "db_subject": "/C=US/ST=California/L=San Francisco/O=My Company Ltd/OU=DBA/CN=mongoDB",
                                "name": "doorman",
                                "ports": {
                                    "nodePort": 30030,
                                    "servicePort": 8080,
                                    "targetPort": 8080
                                },
                                "subject": "CN=Corda Doorman CA,OU=DLT,O=DLT,L=Berlin,C=DE",
                                "tls": "on",
                                "type": "doorman"
                            },
                            "nms": {
                                "db_subject": "/C=US/ST=California/L=San Francisco/O=My Company Ltd/OU=DBA/CN=mongoDB",
                                "name": "networkmap",
                                "ports": {
                                    "nodePort": 30040,
                                    "servicePort": 8080,
                                    "targetPort": 8080
                                },
                                "subject": "CN=Network Map,OU=FRA,O=FRA,L=Berlin,C=DE",
                                "tls": "on",
                                "type": "networkmap"
                            },
                            "notary": {
                                "dbtcp": {
                                    "port": 9101,
                                    "targetPort": 1521
                                },
                                "dbweb": {
                                    "port": 8080,
                                    "targetPort": 81
                                },
                                "name": "notary",
                                "p2p": {
                                    "ambassador": 15010,
                                    "port": 10002,
                                    "targetPort": 10002
                                },
                                "rpc": {
                                    "port": 10003,
                                    "targetPort": 10003
                                },
                                "rpcadmin": {
                                    "port": 10005,
                                    "targetPort": 10005
                                },
                                "subject": "O=Notary,OU=Notary,L=London,C=GB",
                                "type": "notary",
                                "validating": false
                            }
                        },
                        "state": "London",
                        "subject": "CN=DLT Root CA,OU=DLT,O=DLT,L=London,C=GB",
                        "type": "doorman-nms-notary",
                        "vault": {
                            "root_token": "s.WtD9absblrkGSMkMYh3OlbzD",
                            "url": "http://192.168.1.21:8217"
                        }
                    },
                    {
                        "cloud_provider": "minikube",
                        "country": "CH",
                        "external_url_suffix": "develop.local.com",
                        "gitops": {
                            "branch": "local",
                            "chart_source": "platforms/r3-corda/charts",
                            "email": "git@email.com",
                            "git_protocol": "ssh",
                            "git_repo": "github.com/SynthNetics/bevel.git",
                            "git_url": "ssh://git@github.com/SynthNetics/bevel.git",
                            "password": "git_access_token",
                            "private_key": "/home/bevel/build/gitops",
                            "release_dir": "platforms/r3-corda/releases/dev",
                            "username": "SynthNetics"
                        },
                        "k8s": {
                            "config_file": "/home/bevel/build/config",
                            "context": "minikube"
                        },
                        "location": "Zurich",
                        "name": "manufacturer",
                        "organization": null,
                        "services": {
                            "peers": [
                                {
                                    "dbtcp": {
                                        "port": 9101,
                                        "targetPort": 1521
                                    },
                                    "dbweb": {
                                        "port": 8080,
                                        "targetPort": 81
                                    },
                                    "expressapi": {
                                        "port": 3000,
                                        "targetPort": 3000
                                    },
                                    "name": "manufacturer",
                                    "p2p": {
                                        "ambassador": 15020,
                                        "port": 10002,
                                        "targetPort": 10002
                                    },
                                    "peer": null,
                                    "rpc": {
                                        "port": 10003,
                                        "targetPort": 10003
                                    },
                                    "rpcadmin": {
                                        "port": 10005,
                                        "targetPort": 10005
                                    },
                                    "springboot": {
                                        "port": 20001,
                                        "targetPort": 20001
                                    },
                                    "subject": "O=Manufacturer,OU=Manufacturer,L=47.38/8.54/Zurich,C=CH",
                                    "type": "node"
                                }
                            ]
                        },
                        "state": "Zurich",
                        "subject": "O=Manufacturer,OU=Manufacturer,L=Zurich,C=CH",
                        "type": "node",
                        "vault": {
                            "root_token": "s.WtD9absblrkGSMkMYh3OlbzD",
                            "url": "http://192.168.1.21:8217"
                        }
                    }
                ],
                "type": "corda",
                "version": 4.4
            }
        }
    },
    "changed": false
}

TASK [Ensures build dir exists] ************************************************
task path: /home/bevel/platforms/shared/configuration/network-schema-validator.yaml:24
redirecting (type: modules) ansible.builtin.k8s_info to kubernetes.core.k8s_info
Loading collection kubernetes.core from /usr/local/lib/python3.8/dist-packages/ansible_collections/kubernetes/core
redirecting (type: modules) ansible.builtin.k8s_info to kubernetes.core.k8s_info

TASK [check/setup : check if dir exists or not] ********************************
task path: /home/bevel/platforms/shared/configuration/roles/check/setup/tasks/main.yaml:9
<localhost> ESTABLISH LOCAL CONNECTION FOR USER: root
<localhost> EXEC /bin/sh -c 'echo ~root && sleep 0'
<localhost> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp `"&& mkdir "` echo /root/.ansible/tmp/ansible-tmp-1666377366.6967206-106-98256635152456 `" && echo ansible-tmp-1666377366.6967206-106-98256635152456="` echo /root/.ansible/tmp/ansible-tmp-1666377366.6967206-106-98256635152456 `" ) && sleep 0'
Using module file /usr/local/lib/python3.8/dist-packages/ansible/modules/stat.py
<localhost> PUT /root/.ansible/tmp/ansible-local-44xot_wk5/tmpxqci53n5 TO /root/.ansible/tmp/ansible-tmp-1666377366.6967206-106-98256635152456/AnsiballZ_stat.py
<localhost> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1666377366.6967206-106-98256635152456/ /root/.ansible/tmp/ansible-tmp-1666377366.6967206-106-98256635152456/AnsiballZ_stat.py && sleep 0'
<localhost> EXEC /bin/sh -c '/usr/bin/python3 /root/.ansible/tmp/ansible-tmp-1666377366.6967206-106-98256635152456/AnsiballZ_stat.py && sleep 0'
<localhost> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1666377366.6967206-106-98256635152456/ > /dev/null 2>&1 && sleep 0'
ok: [localhost] => {
    "changed": false,
    "invocation": {
        "module_args": {
            "checksum_algorithm": "sha1",
            "follow": false,
            "get_attributes": true,
            "get_checksum": true,
            "get_md5": false,
            "get_mime": true,
            "path": "./build"
        }
    },
    "stat": {
        "exists": false
    }
}

TASK [check/setup : Ensures dir exists] ****************************************
task path: /home/bevel/platforms/shared/configuration/roles/check/setup/tasks/main.yaml:17
<localhost> ESTABLISH LOCAL CONNECTION FOR USER: root
<localhost> EXEC /bin/sh -c 'echo ~root && sleep 0'
<localhost> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp `"&& mkdir "` echo /root/.ansible/tmp/ansible-tmp-1666377367.063491-137-145186965863462 `" && echo ansible-tmp-1666377367.063491-137-145186965863462="` echo /root/.ansible/tmp/ansible-tmp-1666377367.063491-137-145186965863462 `" ) && sleep 0'
Using module file /usr/local/lib/python3.8/dist-packages/ansible/modules/file.py
<localhost> PUT /root/.ansible/tmp/ansible-local-44xot_wk5/tmpu1hyvkj6 TO /root/.ansible/tmp/ansible-tmp-1666377367.063491-137-145186965863462/AnsiballZ_file.py
<localhost> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1666377367.063491-137-145186965863462/ /root/.ansible/tmp/ansible-tmp-1666377367.063491-137-145186965863462/AnsiballZ_file.py && sleep 0'
<localhost> EXEC /bin/sh -c '/usr/bin/python3 /root/.ansible/tmp/ansible-tmp-1666377367.063491-137-145186965863462/AnsiballZ_file.py && sleep 0'
<localhost> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1666377367.063491-137-145186965863462/ > /dev/null 2>&1 && sleep 0'
changed: [localhost] => {
    "changed": true,
    "diff": {
        "after": {
            "path": "./build",
            "state": "directory"
        },
        "before": {
            "path": "./build",
            "state": "absent"
        }
    },
    "gid": 0,
    "group": "root",
    "invocation": {
        "module_args": {
            "_diff_peek": null,
            "_original_basename": null,
            "access_time": null,
            "access_time_format": "%Y%m%d%H%M.%S",
            "attributes": null,
            "follow": true,
            "force": false,
            "group": null,
            "mode": "0755",
            "modification_time": null,
            "modification_time_format": "%Y%m%d%H%M.%S",
            "owner": null,
            "path": "./build",
            "recurse": true,
            "selevel": null,
            "serole": null,
            "setype": null,
            "seuser": null,
            "src": null,
            "state": "directory",
            "unsafe_writes": false
        }
    },
    "mode": "0755",
    "owner": "root",
    "path": "./build",
    "size": 0,
    "state": "directory",
    "uid": 0
}

TASK [check/setup : Check if Kubernetes-auth already created for Organization] ***
task path: /home/bevel/platforms/shared/configuration/roles/check/setup/tasks/main.yaml:26
skipping: [localhost] => {
    "changed": false,
    "skip_reason": "Conditional result was False"
}

TASK [check/setup : Check if policy exists] ************************************
task path: /home/bevel/platforms/shared/configuration/roles/check/setup/tasks/main.yaml:36
skipping: [localhost] => {
    "changed": false,
    "skip_reason": "Conditional result was False"
}

TASK [check/setup : Check docker cred exists] **********************************
task path: /home/bevel/platforms/shared/configuration/roles/check/setup/tasks/main.yaml:47
skipping: [localhost] => {
    "changed": false,
    "skip_reason": "Conditional result was False"
}

TASK [check/setup : Check git https cred exists] *******************************
task path: /home/bevel/platforms/shared/configuration/roles/check/setup/tasks/main.yaml:58
skipping: [localhost] => {
    "changed": false,
    "skip_reason": "Conditional result was False"
}

TASK [check/setup : check if certs exists in vault.] ***************************
task path: /home/bevel/platforms/shared/configuration/roles/check/setup/tasks/main.yaml:69
skipping: [localhost] => {
    "changed": false,
    "skip_reason": "Conditional result was False"
}
META: role_complete for localhost

TASK [create tempNetwork yaml file] ********************************************
task path: /home/bevel/platforms/shared/configuration/network-schema-validator.yaml:30
<localhost> ESTABLISH LOCAL CONNECTION FOR USER: root
<localhost> EXEC /bin/sh -c 'echo ~root && sleep 0'
<localhost> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp `"&& mkdir "` echo /root/.ansible/tmp/ansible-tmp-1666377367.539705-173-278097392962466 `" && echo ansible-tmp-1666377367.539705-173-278097392962466="` echo /root/.ansible/tmp/ansible-tmp-1666377367.539705-173-278097392962466 `" ) && sleep 0'
Using module file /usr/local/lib/python3.8/dist-packages/ansible/modules/stat.py
<localhost> PUT /root/.ansible/tmp/ansible-local-44xot_wk5/tmphjpivivw TO /root/.ansible/tmp/ansible-tmp-1666377367.539705-173-278097392962466/AnsiballZ_stat.py
<localhost> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1666377367.539705-173-278097392962466/ /root/.ansible/tmp/ansible-tmp-1666377367.539705-173-278097392962466/AnsiballZ_stat.py && sleep 0'
<localhost> EXEC /bin/sh -c '/usr/bin/python3 /root/.ansible/tmp/ansible-tmp-1666377367.539705-173-278097392962466/AnsiballZ_stat.py && sleep 0'
<localhost> PUT /root/.ansible/tmp/ansible-local-44xot_wk5/tmp9lphvzgq TO /root/.ansible/tmp/ansible-tmp-1666377367.539705-173-278097392962466/source
<localhost> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1666377367.539705-173-278097392962466/ /root/.ansible/tmp/ansible-tmp-1666377367.539705-173-278097392962466/source && sleep 0'
Using module file /usr/local/lib/python3.8/dist-packages/ansible/modules/copy.py
<localhost> PUT /root/.ansible/tmp/ansible-local-44xot_wk5/tmpkdxyjx7a TO /root/.ansible/tmp/ansible-tmp-1666377367.539705-173-278097392962466/AnsiballZ_copy.py
<localhost> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1666377367.539705-173-278097392962466/ /root/.ansible/tmp/ansible-tmp-1666377367.539705-173-278097392962466/AnsiballZ_copy.py && sleep 0'
<localhost> EXEC /bin/sh -c '/usr/bin/python3 /root/.ansible/tmp/ansible-tmp-1666377367.539705-173-278097392962466/AnsiballZ_copy.py && sleep 0'
<localhost> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1666377367.539705-173-278097392962466/ > /dev/null 2>&1 && sleep 0'
changed: [localhost] => {
    "changed": true,
    "checksum": "9590c49e3d33ca100663afd74302578ae893b9ca",
    "dest": "./build/temp.yaml",
    "diff": [],
    "gid": 0,
    "group": "root",
    "invocation": {
        "module_args": {
            "_original_basename": "tmp9lphvzgq",
            "attributes": null,
            "backup": false,
            "checksum": "9590c49e3d33ca100663afd74302578ae893b9ca",
            "content": null,
            "dest": "./build/temp.yaml",
            "directory_mode": null,
            "follow": false,
            "force": true,
            "group": null,
            "local_follow": null,
            "mode": null,
            "owner": null,
            "remote_src": null,
            "selevel": null,
            "serole": null,
            "setype": null,
            "seuser": null,
            "src": "/root/.ansible/tmp/ansible-tmp-1666377367.539705-173-278097392962466/source",
            "unsafe_writes": false,
            "validate": null
        }
    },
    "md5sum": "448d5c791f413649156be6531ea360ae",
    "mode": "0644",
    "owner": "root",
    "size": 5076,
    "src": "/root/.ansible/tmp/ansible-tmp-1666377367.539705-173-278097392962466/source",
    "state": "file",
    "uid": 0
}

TASK [run schema validator on network.yaml] ************************************
task path: /home/bevel/platforms/shared/configuration/network-schema-validator.yaml:35
<localhost> ESTABLISH LOCAL CONNECTION FOR USER: root
<localhost> EXEC /bin/sh -c 'echo ~root && sleep 0'
<localhost> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp `"&& mkdir "` echo /root/.ansible/tmp/ansible-tmp-1666377368.0311925-212-212679264186791 `" && echo ansible-tmp-1666377368.0311925-212-212679264186791="` echo /root/.ansible/tmp/ansible-tmp-1666377368.0311925-212-212679264186791 `" ) && sleep 0'
Using module file /usr/local/lib/python3.8/dist-packages/ansible/modules/command.py
<localhost> PUT /root/.ansible/tmp/ansible-local-44xot_wk5/tmp7mkgqdtj TO /root/.ansible/tmp/ansible-tmp-1666377368.0311925-212-212679264186791/AnsiballZ_command.py
<localhost> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1666377368.0311925-212-212679264186791/ /root/.ansible/tmp/ansible-tmp-1666377368.0311925-212-212679264186791/AnsiballZ_command.py && sleep 0'
<localhost> EXEC /bin/sh -c '/usr/bin/python3 /root/.ansible/tmp/ansible-tmp-1666377368.0311925-212-212679264186791/AnsiballZ_command.py && sleep 0'
<localhost> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1666377368.0311925-212-212679264186791/ > /dev/null 2>&1 && sleep 0'
changed: [localhost] => {
    "changed": true,
    "cmd": "ajv validate -s /home/bevel/platforms/shared/configuration/../../network-schema.json -d ./build/temp.yaml\n",
    "delta": "0:00:00.894758",
    "end": "2022-10-21 18:36:09.188588",
    "invocation": {
        "module_args": {
            "_raw_params": "ajv validate -s /home/bevel/platforms/shared/configuration/../../network-schema.json -d ./build/temp.yaml\n",
            "_uses_shell": true,
            "argv": null,
            "chdir": null,
            "creates": null,
            "executable": null,
            "removes": null,
            "stdin": null,
            "stdin_add_newline": true,
            "strip_empty_ends": true,
            "warn": false
        }
    },
    "msg": "",
    "rc": 0,
    "start": "2022-10-21 18:36:08.293830",
    "stderr": "",
    "stderr_lines": [],
    "stdout": "./build/temp.yaml valid",
    "stdout_lines": [
        "./build/temp.yaml valid"
    ]
}

TASK [Remove the build directory and contents] *********************************
task path: /home/bevel/platforms/shared/configuration/network-schema-validator.yaml:38
<localhost> ESTABLISH LOCAL CONNECTION FOR USER: root
<localhost> EXEC /bin/sh -c 'echo ~root && sleep 0'
<localhost> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp `"&& mkdir "` echo /root/.ansible/tmp/ansible-tmp-1666377369.2396116-246-174021759626445 `" && echo ansible-tmp-1666377369.2396116-246-174021759626445="` echo /root/.ansible/tmp/ansible-tmp-1666377369.2396116-246-174021759626445 `" ) && sleep 0'
Using module file /usr/local/lib/python3.8/dist-packages/ansible/modules/file.py
<localhost> PUT /root/.ansible/tmp/ansible-local-44xot_wk5/tmpxqujdg_n TO /root/.ansible/tmp/ansible-tmp-1666377369.2396116-246-174021759626445/AnsiballZ_file.py
<localhost> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1666377369.2396116-246-174021759626445/ /root/.ansible/tmp/ansible-tmp-1666377369.2396116-246-174021759626445/AnsiballZ_file.py && sleep 0'
<localhost> EXEC /bin/sh -c '/usr/bin/python3 /root/.ansible/tmp/ansible-tmp-1666377369.2396116-246-174021759626445/AnsiballZ_file.py && sleep 0'
<localhost> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1666377369.2396116-246-174021759626445/ > /dev/null 2>&1 && sleep 0'
changed: [localhost] => {
    "changed": true,
    "diff": {
        "after": {
            "path": "./build",
            "state": "absent"
        },
        "before": {
            "path": "./build",
            "path_content": {
                "directories": [],
                "files": [
                    "./build/temp.yaml"
                ]
            },
            "state": "directory"
        }
    },
    "invocation": {
        "module_args": {
            "_diff_peek": null,
            "_original_basename": null,
            "access_time": null,
            "access_time_format": "%Y%m%d%H%M.%S",
            "attributes": null,
            "follow": true,
            "force": false,
            "group": null,
            "mode": null,
            "modification_time": null,
            "modification_time_format": "%Y%m%d%H%M.%S",
            "owner": null,
            "path": "./build",
            "recurse": false,
            "selevel": null,
            "serole": null,
            "setype": null,
            "seuser": null,
            "src": null,
            "state": "absent",
            "unsafe_writes": false
        }
    },
    "path": "./build",
    "state": "absent"
}
META: ran handlers
META: ran handlers

PLAY [ansible_provisioners] ****************************************************

TASK [Gathering Facts] *********************************************************
task path: /home/bevel/platforms/shared/configuration/environment-setup.yaml:13
<localhost> ESTABLISH LOCAL CONNECTION FOR USER: root
<localhost> EXEC /bin/sh -c 'echo ~root && sleep 0'
<localhost> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp `"&& mkdir "` echo /root/.ansible/tmp/ansible-tmp-1666377369.4659605-273-146646329984529 `" && echo ansible-tmp-1666377369.4659605-273-146646329984529="` echo /root/.ansible/tmp/ansible-tmp-1666377369.4659605-273-146646329984529 `" ) && sleep 0'
Using module file /usr/local/lib/python3.8/dist-packages/ansible/modules/setup.py
<localhost> PUT /root/.ansible/tmp/ansible-local-44xot_wk5/tmpo_0ebrsl TO /root/.ansible/tmp/ansible-tmp-1666377369.4659605-273-146646329984529/AnsiballZ_setup.py
<localhost> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1666377369.4659605-273-146646329984529/ /root/.ansible/tmp/ansible-tmp-1666377369.4659605-273-146646329984529/AnsiballZ_setup.py && sleep 0'
<localhost> EXEC /bin/sh -c '/usr/bin/python3 /root/.ansible/tmp/ansible-tmp-1666377369.4659605-273-146646329984529/AnsiballZ_setup.py && sleep 0'
<localhost> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1666377369.4659605-273-146646329984529/ > /dev/null 2>&1 && sleep 0'
ok: [localhost]
META: ran handlers

TASK [include_role : setup/kubectl] ********************************************
task path: /home/bevel/platforms/shared/configuration/environment-setup.yaml:17

TASK [setup/kubectl : register temporary directory] ****************************
task path: /home/bevel/platforms/shared/configuration/roles/setup/kubectl/tasks/main.yaml:8
<localhost> ESTABLISH LOCAL CONNECTION FOR USER: root
<localhost> EXEC /bin/sh -c 'echo ~root && sleep 0'
<localhost> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp `"&& mkdir "` echo /root/.ansible/tmp/ansible-tmp-1666377370.12136-315-226768960452615 `" && echo ansible-tmp-1666377370.12136-315-226768960452615="` echo /root/.ansible/tmp/ansible-tmp-1666377370.12136-315-226768960452615 `" ) && sleep 0'
Using module file /usr/local/lib/python3.8/dist-packages/ansible/modules/tempfile.py
<localhost> PUT /root/.ansible/tmp/ansible-local-44xot_wk5/tmp25rz51vy TO /root/.ansible/tmp/ansible-tmp-1666377370.12136-315-226768960452615/AnsiballZ_tempfile.py
<localhost> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1666377370.12136-315-226768960452615/ /root/.ansible/tmp/ansible-tmp-1666377370.12136-315-226768960452615/AnsiballZ_tempfile.py && sleep 0'
<localhost> EXEC /bin/sh -c '/usr/bin/python3 /root/.ansible/tmp/ansible-tmp-1666377370.12136-315-226768960452615/AnsiballZ_tempfile.py && sleep 0'
<localhost> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1666377370.12136-315-226768960452615/ > /dev/null 2>&1 && sleep 0'
changed: [localhost] => {
    "changed": true,
    "gid": 0,
    "group": "root",
    "invocation": {
        "module_args": {
            "path": null,
            "prefix": "ansible.",
            "state": "directory",
            "suffix": ""
        }
    },
    "mode": "0700",
    "owner": "root",
    "path": "/tmp/ansible.7it89ime",
    "size": 0,
    "state": "directory",
    "uid": 0
}

TASK [setup/kubectl : check kubectl] *******************************************
task path: /home/bevel/platforms/shared/configuration/roles/setup/kubectl/tasks/main.yaml:15
<localhost> ESTABLISH LOCAL CONNECTION FOR USER: root
<localhost> EXEC /bin/sh -c 'echo ~root && sleep 0'
<localhost> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp `"&& mkdir "` echo /root/.ansible/tmp/ansible-tmp-1666377370.5304816-341-77871694450799 `" && echo ansible-tmp-1666377370.5304816-341-77871694450799="` echo /root/.ansible/tmp/ansible-tmp-1666377370.5304816-341-77871694450799 `" ) && sleep 0'
Using module file /usr/local/lib/python3.8/dist-packages/ansible/modules/stat.py
<localhost> PUT /root/.ansible/tmp/ansible-local-44xot_wk5/tmpbrybw19q TO /root/.ansible/tmp/ansible-tmp-1666377370.5304816-341-77871694450799/AnsiballZ_stat.py
<localhost> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1666377370.5304816-341-77871694450799/ /root/.ansible/tmp/ansible-tmp-1666377370.5304816-341-77871694450799/AnsiballZ_stat.py && sleep 0'
<localhost> EXEC /bin/sh -c '/usr/bin/python3 /root/.ansible/tmp/ansible-tmp-1666377370.5304816-341-77871694450799/AnsiballZ_stat.py && sleep 0'
<localhost> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1666377370.5304816-341-77871694450799/ > /dev/null 2>&1 && sleep 0'
ok: [localhost] => {
    "changed": false,
    "invocation": {
        "module_args": {
            "checksum_algorithm": "sha1",
            "follow": false,
            "get_attributes": true,
            "get_checksum": true,
            "get_md5": false,
            "get_mime": true,
            "path": "/root/bin/kubectl"
        }
    },
    "stat": {
        "exists": false
    }
}

TASK [setup/kubectl : Download kubectl binary] *********************************
task path: /home/bevel/platforms/shared/configuration/roles/setup/kubectl/tasks/main.yaml:22
<localhost> ESTABLISH LOCAL CONNECTION FOR USER: root
<localhost> EXEC /bin/sh -c 'echo ~root && sleep 0'
<localhost> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp `"&& mkdir "` echo /root/.ansible/tmp/ansible-tmp-1666377370.7794104-367-44052562720808 `" && echo ansible-tmp-1666377370.7794104-367-44052562720808="` echo /root/.ansible/tmp/ansible-tmp-1666377370.7794104-367-44052562720808 `" ) && sleep 0'
Using module file /usr/local/lib/python3.8/dist-packages/ansible/modules/get_url.py
<localhost> PUT /root/.ansible/tmp/ansible-local-44xot_wk5/tmp_nrc4wbc TO /root/.ansible/tmp/ansible-tmp-1666377370.7794104-367-44052562720808/AnsiballZ_get_url.py
<localhost> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1666377370.7794104-367-44052562720808/ /root/.ansible/tmp/ansible-tmp-1666377370.7794104-367-44052562720808/AnsiballZ_get_url.py && sleep 0'
<localhost> EXEC /bin/sh -c '/usr/bin/python3 /root/.ansible/tmp/ansible-tmp-1666377370.7794104-367-44052562720808/AnsiballZ_get_url.py && sleep 0'
<localhost> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1666377370.7794104-367-44052562720808/ > /dev/null 2>&1 && sleep 0'
changed: [localhost] => {
    "changed": true,
    "checksum_dest": null,
    "checksum_src": "4f7a90d9323e88247a94c4af68128f9225fc1e67",
    "dest": "/tmp/ansible.7it89ime/kubernetes-client-linux-amd64.tar.gz",
    "elapsed": 1,
    "gid": 0,
    "group": "root",
    "invocation": {
        "module_args": {
            "attributes": null,
            "backup": false,
            "checksum": "sha256:8388ff8b5c676bdbb8fe07ef7077de937b0bf60154f302df5f248f38f95122aa",
            "client_cert": null,
            "client_key": null,
            "dest": "/tmp/ansible.7it89ime",
            "force": false,
            "force_basic_auth": false,
            "group": null,
            "headers": null,
            "http_agent": "ansible-httpget",
            "mode": null,
            "owner": null,
            "selevel": null,
            "serole": null,
            "setype": null,
            "seuser": null,
            "sha256sum": "",
            "timeout": 10,
            "tmp_dest": null,
            "unredirected_headers": [],
            "unsafe_writes": false,
            "url": "https://dl.k8s.io/v1.19.8/kubernetes-client-linux-amd64.tar.gz",
            "url_password": null,
            "url_username": null,
            "use_gssapi": false,
            "use_proxy": true,
            "validate_certs": true
        }
    },
    "md5sum": "bd5b66a5ab42eeae5fb955910cf6f3aa",
    "mode": "0644",
    "msg": "OK (12589731 bytes)",
    "owner": "root",
    "size": 12589731,
    "src": "/root/.ansible/tmp/ansible-tmp-1666377370.7794104-367-44052562720808/tmp_tunq36w",
    "state": "file",
    "status_code": 200,
    "uid": 0,
    "url": "https://dl.k8s.io/v1.19.8/kubernetes-client-linux-amd64.tar.gz"
}

TASK [setup/kubectl : Unarchive kubernetes-client] *****************************
task path: /home/bevel/platforms/shared/configuration/roles/setup/kubectl/tasks/main.yaml:31
<localhost> ESTABLISH LOCAL CONNECTION FOR USER: root
<localhost> EXEC /bin/sh -c 'echo ~root && sleep 0'
<localhost> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp `"&& mkdir "` echo /root/.ansible/tmp/ansible-tmp-1666377373.1886845-394-19586685452091 `" && echo ansible-tmp-1666377373.1886845-394-19586685452091="` echo /root/.ansible/tmp/ansible-tmp-1666377373.1886845-394-19586685452091 `" ) && sleep 0'
Using module file /usr/local/lib/python3.8/dist-packages/ansible/modules/stat.py
<localhost> PUT /root/.ansible/tmp/ansible-local-44xot_wk5/tmp4yvv9zhv TO /root/.ansible/tmp/ansible-tmp-1666377373.1886845-394-19586685452091/AnsiballZ_stat.py
<localhost> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1666377373.1886845-394-19586685452091/ /root/.ansible/tmp/ansible-tmp-1666377373.1886845-394-19586685452091/AnsiballZ_stat.py && sleep 0'
<localhost> EXEC /bin/sh -c '/usr/bin/python3 /root/.ansible/tmp/ansible-tmp-1666377373.1886845-394-19586685452091/AnsiballZ_stat.py && sleep 0'
<localhost> PUT /tmp/ansible.7it89ime/kubernetes-client-linux-amd64.tar.gz TO /root/.ansible/tmp/ansible-tmp-1666377373.1886845-394-19586685452091/source
<localhost> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1666377373.1886845-394-19586685452091/ /root/.ansible/tmp/ansible-tmp-1666377373.1886845-394-19586685452091/source && sleep 0'
Using module file /usr/local/lib/python3.8/dist-packages/ansible/modules/unarchive.py
<localhost> PUT /root/.ansible/tmp/ansible-local-44xot_wk5/tmpfr4u7tg5 TO /root/.ansible/tmp/ansible-tmp-1666377373.1886845-394-19586685452091/AnsiballZ_unarchive.py
<localhost> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1666377373.1886845-394-19586685452091/ /root/.ansible/tmp/ansible-tmp-1666377373.1886845-394-19586685452091/AnsiballZ_unarchive.py && sleep 0'
<localhost> EXEC /bin/sh -c '/usr/bin/python3 /root/.ansible/tmp/ansible-tmp-1666377373.1886845-394-19586685452091/AnsiballZ_unarchive.py && sleep 0'
<localhost> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1666377373.1886845-394-19586685452091/ > /dev/null 2>&1 && sleep 0'
changed: [localhost] => {
    "changed": true,
    "dest": "/tmp/ansible.7it89ime",
    "extract_results": {
        "cmd": [
            "/usr/bin/tar",
            "--extract",
            "-C",
            "/tmp/ansible.7it89ime",
            "-z",
            "-f",
            "/root/.ansible/tmp/ansible-tmp-1666377373.1886845-394-19586685452091/source"
        ],
        "err": "",
        "out": "",
        "rc": 0
    },
    "gid": 0,
    "group": "root",
    "handler": "TgzArchive",
    "invocation": {
        "module_args": {
            "attributes": null,
            "copy": true,
            "creates": null,
            "decrypt": true,
            "dest": "/tmp/ansible.7it89ime",
            "exclude": [],
            "extra_opts": [],
            "group": null,
            "include": [],
            "io_buffer_size": 65536,
            "keep_newer": false,
            "list_files": false,
            "mode": null,
            "owner": null,
            "remote_src": false,
            "selevel": null,
            "serole": null,
            "setype": null,
            "seuser": null,
            "src": "/root/.ansible/tmp/ansible-tmp-1666377373.1886845-394-19586685452091/source",
            "unsafe_writes": false,
            "validate_certs": true
        }
    },
    "mode": "0700",
    "owner": "root",
    "size": 92,
    "src": "/root/.ansible/tmp/ansible-tmp-1666377373.1886845-394-19586685452091/source",
    "state": "directory",
    "uid": 0
}

TASK [setup/kubectl : create bin directory] ************************************
task path: /home/bevel/platforms/shared/configuration/roles/setup/kubectl/tasks/main.yaml:39
<localhost> ESTABLISH LOCAL CONNECTION FOR USER: root
<localhost> EXEC /bin/sh -c 'echo ~root && sleep 0'
<localhost> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp `"&& mkdir "` echo /root/.ansible/tmp/ansible-tmp-1666377374.8493013-444-183790721442676 `" && echo ansible-tmp-1666377374.8493013-444-183790721442676="` echo /root/.ansible/tmp/ansible-tmp-1666377374.8493013-444-183790721442676 `" ) && sleep 0'
Using module file /usr/local/lib/python3.8/dist-packages/ansible/modules/file.py
<localhost> PUT /root/.ansible/tmp/ansible-local-44xot_wk5/tmppqz50sa9 TO /root/.ansible/tmp/ansible-tmp-1666377374.8493013-444-183790721442676/AnsiballZ_file.py
<localhost> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1666377374.8493013-444-183790721442676/ /root/.ansible/tmp/ansible-tmp-1666377374.8493013-444-183790721442676/AnsiballZ_file.py && sleep 0'
<localhost> EXEC /bin/sh -c '/usr/bin/python3 /root/.ansible/tmp/ansible-tmp-1666377374.8493013-444-183790721442676/AnsiballZ_file.py && sleep 0'
<localhost> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1666377374.8493013-444-183790721442676/ > /dev/null 2>&1 && sleep 0'
changed: [localhost] => {
    "changed": true,
    "diff": {
        "after": {
            "path": "/root/bin",
            "state": "directory"
        },
        "before": {
            "path": "/root/bin",
            "state": "absent"
        }
    },
    "gid": 0,
    "group": "root",
    "invocation": {
        "module_args": {
            "_diff_peek": null,
            "_original_basename": null,
            "access_time": null,
            "access_time_format": "%Y%m%d%H%M.%S",
            "attributes": null,
            "follow": true,
            "force": false,
            "group": null,
            "mode": null,
            "modification_time": null,
            "modification_time_format": "%Y%m%d%H%M.%S",
            "owner": null,
            "path": "/root/bin",
            "recurse": false,
            "selevel": null,
            "serole": null,
            "setype": null,
            "seuser": null,
            "src": null,
            "state": "directory",
            "unsafe_writes": false
        }
    },
    "mode": "0755",
    "owner": "root",
    "path": "/root/bin",
    "size": 0,
    "state": "directory",
    "uid": 0
}

TASK [setup/kubectl : Copy kubectl binary to destination directory] ************
task path: /home/bevel/platforms/shared/configuration/roles/setup/kubectl/tasks/main.yaml:47
<localhost> ESTABLISH LOCAL CONNECTION FOR USER: root
<localhost> EXEC /bin/sh -c 'echo ~root && sleep 0'
<localhost> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp `"&& mkdir "` echo /root/.ansible/tmp/ansible-tmp-1666377375.0685635-470-34937704265286 `" && echo ansible-tmp-1666377375.0685635-470-34937704265286="` echo /root/.ansible/tmp/ansible-tmp-1666377375.0685635-470-34937704265286 `" ) && sleep 0'
Using module file /usr/local/lib/python3.8/dist-packages/ansible/modules/copy.py
<localhost> PUT /root/.ansible/tmp/ansible-local-44xot_wk5/tmpf0hjyrec TO /root/.ansible/tmp/ansible-tmp-1666377375.0685635-470-34937704265286/AnsiballZ_copy.py
<localhost> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1666377375.0685635-470-34937704265286/ /root/.ansible/tmp/ansible-tmp-1666377375.0685635-470-34937704265286/AnsiballZ_copy.py && sleep 0'
<localhost> EXEC /bin/sh -c '/usr/bin/python3 /root/.ansible/tmp/ansible-tmp-1666377375.0685635-470-34937704265286/AnsiballZ_copy.py && sleep 0'
<localhost> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1666377375.0685635-470-34937704265286/ > /dev/null 2>&1 && sleep 0'
changed: [localhost] => (item=kubectl) => {
    "ansible_loop_var": "bin_item",
    "bin_item": "kubectl",
    "changed": true,
    "checksum": "371d59fce375bd7d74256c136280eeef732d7611",
    "dest": "/root/bin/kubectl",
    "gid": 0,
    "group": "root",
    "invocation": {
        "module_args": {
            "_original_basename": null,
            "attributes": null,
            "backup": false,
            "checksum": null,
            "content": null,
            "dest": "/root/bin/kubectl",
            "directory_mode": null,
            "follow": false,
            "force": true,
            "group": null,
            "local_follow": null,
            "mode": 493,
            "owner": null,
            "remote_src": true,
            "selevel": null,
            "serole": null,
            "setype": null,
            "seuser": null,
            "src": "/tmp/ansible.7it89ime/kubernetes/client/bin/kubectl",
            "unsafe_writes": false,
            "validate": null
        }
    },
    "md5sum": "2f36f94db403cd4bd855d09df1d54ed3",
    "mode": "0755",
    "owner": "root",
    "size": 42987520,
    "src": "/tmp/ansible.7it89ime/kubernetes/client/bin/kubectl",
    "state": "file",
    "uid": 0
}

TASK [setup/kubectl : Test kubectl installation] *******************************
task path: /home/bevel/platforms/shared/configuration/roles/setup/kubectl/tasks/main.yaml:61
<localhost> ESTABLISH LOCAL CONNECTION FOR USER: root
<localhost> EXEC /bin/sh -c 'echo ~root && sleep 0'
<localhost> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp `"&& mkdir "` echo /root/.ansible/tmp/ansible-tmp-1666377375.5459003-497-150247051540967 `" && echo ansible-tmp-1666377375.5459003-497-150247051540967="` echo /root/.ansible/tmp/ansible-tmp-1666377375.5459003-497-150247051540967 `" ) && sleep 0'
Using module file /usr/local/lib/python3.8/dist-packages/ansible/modules/command.py
<localhost> PUT /root/.ansible/tmp/ansible-local-44xot_wk5/tmph1tntel_ TO /root/.ansible/tmp/ansible-tmp-1666377375.5459003-497-150247051540967/AnsiballZ_command.py
<localhost> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1666377375.5459003-497-150247051540967/ /root/.ansible/tmp/ansible-tmp-1666377375.5459003-497-150247051540967/AnsiballZ_command.py && sleep 0'
<localhost> EXEC /bin/sh -c '/usr/bin/python3 /root/.ansible/tmp/ansible-tmp-1666377375.5459003-497-150247051540967/AnsiballZ_command.py && sleep 0'
<localhost> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1666377375.5459003-497-150247051540967/ > /dev/null 2>&1 && sleep 0'
ok: [localhost] => {
    "changed": false,
    "cmd": [
        "kubectl",
        "version",
        "--client",
        "--short"
    ],
    "delta": "0:00:00.052733",
    "end": "2022-10-21 18:36:15.730824",
    "invocation": {
        "module_args": {
            "_raw_params": "kubectl version --client --short",
            "_uses_shell": false,
            "argv": null,
            "chdir": null,
            "creates": null,
            "executable": null,
            "removes": null,
            "stdin": null,
            "stdin_add_newline": true,
            "strip_empty_ends": true,
            "warn": false
        }
    },
    "msg": "",
    "rc": 0,
    "start": "2022-10-21 18:36:15.678091",
    "stderr": "",
    "stderr_lines": [],
    "stdout": "Client Version: v1.19.8",
    "stdout_lines": [
        "Client Version: v1.19.8"
    ]
}

TASK [setup/kubectl : Changing the current context namespace to default] *******
task path: /home/bevel/platforms/shared/configuration/roles/setup/kubectl/tasks/main.yaml:67
<localhost> ESTABLISH LOCAL CONNECTION FOR USER: root
<localhost> EXEC /bin/sh -c 'echo ~root && sleep 0'
<localhost> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp `"&& mkdir "` echo /root/.ansible/tmp/ansible-tmp-1666377375.7981708-530-229710094009261 `" && echo ansible-tmp-1666377375.7981708-530-229710094009261="` echo /root/.ansible/tmp/ansible-tmp-1666377375.7981708-530-229710094009261 `" ) && sleep 0'
Using module file /usr/local/lib/python3.8/dist-packages/ansible/modules/command.py
<localhost> PUT /root/.ansible/tmp/ansible-local-44xot_wk5/tmprs62oqli TO /root/.ansible/tmp/ansible-tmp-1666377375.7981708-530-229710094009261/AnsiballZ_command.py
<localhost> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1666377375.7981708-530-229710094009261/ /root/.ansible/tmp/ansible-tmp-1666377375.7981708-530-229710094009261/AnsiballZ_command.py && sleep 0'
<localhost> EXEC /bin/sh -c '/usr/bin/python3 /root/.ansible/tmp/ansible-tmp-1666377375.7981708-530-229710094009261/AnsiballZ_command.py && sleep 0'
<localhost> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1666377375.7981708-530-229710094009261/ > /dev/null 2>&1 && sleep 0'
changed: [localhost] => {
    "changed": true,
    "cmd": "KUBECONFIG=/home/bevel/build/config kubectl config use-context minikube\nKUBECONFIG=/home/bevel/build/config kubectl config set-context --current --namespace=default\n",
    "delta": "0:00:00.099559",
    "end": "2022-10-21 18:36:16.038943",
    "invocation": {
        "module_args": {
            "_raw_params": "KUBECONFIG=/home/bevel/build/config kubectl config use-context minikube\nKUBECONFIG=/home/bevel/build/config kubectl config set-context --current --namespace=default\n",
            "_uses_shell": true,
            "argv": null,
            "chdir": null,
            "creates": null,
            "executable": null,
            "removes": null,
            "stdin": null,
            "stdin_add_newline": true,
            "strip_empty_ends": true,
            "warn": false
        }
    },
    "msg": "",
    "rc": 0,
    "start": "2022-10-21 18:36:15.939384",
    "stderr": "",
    "stderr_lines": [],
    "stdout": "Switched to context \"minikube\".\nContext \"minikube\" modified.",
    "stdout_lines": [
        "Switched to context \"minikube\".",
        "Context \"minikube\" modified."
    ]
}
META: role_complete for localhost

TASK [setup/kubectl : register temporary directory] ****************************
task path: /home/bevel/platforms/shared/configuration/roles/setup/kubectl/tasks/main.yaml:8
<localhost> ESTABLISH LOCAL CONNECTION FOR USER: root
<localhost> EXEC /bin/sh -c 'echo ~root && sleep 0'
<localhost> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp `"&& mkdir "` echo /root/.ansible/tmp/ansible-tmp-1666377376.114045-571-60888474331892 `" && echo ansible-tmp-1666377376.114045-571-60888474331892="` echo /root/.ansible/tmp/ansible-tmp-1666377376.114045-571-60888474331892 `" ) && sleep 0'
Using module file /usr/local/lib/python3.8/dist-packages/ansible/modules/tempfile.py
<localhost> PUT /root/.ansible/tmp/ansible-local-44xot_wk5/tmp5b7hxdc2 TO /root/.ansible/tmp/ansible-tmp-1666377376.114045-571-60888474331892/AnsiballZ_tempfile.py
<localhost> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1666377376.114045-571-60888474331892/ /root/.ansible/tmp/ansible-tmp-1666377376.114045-571-60888474331892/AnsiballZ_tempfile.py && sleep 0'
<localhost> EXEC /bin/sh -c '/usr/bin/python3 /root/.ansible/tmp/ansible-tmp-1666377376.114045-571-60888474331892/AnsiballZ_tempfile.py && sleep 0'
<localhost> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1666377376.114045-571-60888474331892/ > /dev/null 2>&1 && sleep 0'
changed: [localhost] => {
    "changed": true,
    "gid": 0,
    "group": "root",
    "invocation": {
        "module_args": {
            "path": null,
            "prefix": "ansible.",
            "state": "directory",
            "suffix": ""
        }
    },
    "mode": "0700",
    "owner": "root",
    "path": "/tmp/ansible.ucpkub1t",
    "size": 0,
    "state": "directory",
    "uid": 0
}

TASK [setup/kubectl : check kubectl] *******************************************
task path: /home/bevel/platforms/shared/configuration/roles/setup/kubectl/tasks/main.yaml:15
<localhost> ESTABLISH LOCAL CONNECTION FOR USER: root
<localhost> EXEC /bin/sh -c 'echo ~root && sleep 0'
<localhost> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp `"&& mkdir "` echo /root/.ansible/tmp/ansible-tmp-1666377376.3191936-597-25180695466651 `" && echo ansible-tmp-1666377376.3191936-597-25180695466651="` echo /root/.ansible/tmp/ansible-tmp-1666377376.3191936-597-25180695466651 `" ) && sleep 0'
Using module file /usr/local/lib/python3.8/dist-packages/ansible/modules/stat.py
<localhost> PUT /root/.ansible/tmp/ansible-local-44xot_wk5/tmpxqeot8e9 TO /root/.ansible/tmp/ansible-tmp-1666377376.3191936-597-25180695466651/AnsiballZ_stat.py
<localhost> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1666377376.3191936-597-25180695466651/ /root/.ansible/tmp/ansible-tmp-1666377376.3191936-597-25180695466651/AnsiballZ_stat.py && sleep 0'
<localhost> EXEC /bin/sh -c '/usr/bin/python3 /root/.ansible/tmp/ansible-tmp-1666377376.3191936-597-25180695466651/AnsiballZ_stat.py && sleep 0'
<localhost> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1666377376.3191936-597-25180695466651/ > /dev/null 2>&1 && sleep 0'
ok: [localhost] => {
    "changed": false,
    "invocation": {
        "module_args": {
            "checksum_algorithm": "sha1",
            "follow": false,
            "get_attributes": true,
            "get_checksum": true,
            "get_md5": false,
            "get_mime": true,
            "path": "/root/bin/kubectl"
        }
    },
    "stat": {
        "atime": 1666377375.6785426,
        "attr_flags": "",
        "attributes": [],
        "block_size": 4096,
        "blocks": 83960,
        "charset": "unknown",
        "checksum": "371d59fce375bd7d74256c136280eeef732d7611",
        "ctime": 1666377375.4775422,
        "dev": 1048701,
        "device_type": 0,
        "executable": true,
        "exists": true,
        "gid": 0,
        "gr_name": "root",
        "inode": 11344018,
        "isblk": false,
        "ischr": false,
        "isdir": false,
        "isfifo": false,
        "isgid": false,
        "islnk": false,
        "isreg": true,
        "issock": false,
        "isuid": false,
        "mimetype": "unknown",
        "mode": "0755",
        "mtime": 1613566452.0,
        "nlink": 1,
        "path": "/root/bin/kubectl",
        "pw_name": "root",
        "readable": true,
        "rgrp": true,
        "roth": true,
        "rusr": true,
        "size": 42987520,
        "uid": 0,
        "version": null,
        "wgrp": false,
        "woth": false,
        "writeable": true,
        "wusr": true,
        "xgrp": true,
        "xoth": true,
        "xusr": true
    }
}

TASK [setup/kubectl : Download kubectl binary] *********************************
task path: /home/bevel/platforms/shared/configuration/roles/setup/kubectl/tasks/main.yaml:22
skipping: [localhost] => {
    "changed": false,
    "skip_reason": "Conditional result was False"
}

TASK [setup/kubectl : Unarchive kubernetes-client] *****************************
task path: /home/bevel/platforms/shared/configuration/roles/setup/kubectl/tasks/main.yaml:31
skipping: [localhost] => {
    "changed": false,
    "skip_reason": "Conditional result was False"
}

TASK [setup/kubectl : create bin directory] ************************************
task path: /home/bevel/platforms/shared/configuration/roles/setup/kubectl/tasks/main.yaml:39
skipping: [localhost] => {
    "changed": false,
    "skip_reason": "Conditional result was False"
}

TASK [setup/kubectl : Copy kubectl binary to destination directory] ************
task path: /home/bevel/platforms/shared/configuration/roles/setup/kubectl/tasks/main.yaml:47
skipping: [localhost] => (item=kubectl)  => {
    "ansible_loop_var": "bin_item",
    "bin_item": "kubectl",
    "changed": false,
    "skip_reason": "Conditional result was False"
}

TASK [setup/kubectl : Test kubectl installation] *******************************
task path: /home/bevel/platforms/shared/configuration/roles/setup/kubectl/tasks/main.yaml:61
<localhost> ESTABLISH LOCAL CONNECTION FOR USER: root
<localhost> EXEC /bin/sh -c 'echo ~root && sleep 0'
<localhost> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp `"&& mkdir "` echo /root/.ansible/tmp/ansible-tmp-1666377376.735331-632-146372533521497 `" && echo ansible-tmp-1666377376.735331-632-146372533521497="` echo /root/.ansible/tmp/ansible-tmp-1666377376.735331-632-146372533521497 `" ) && sleep 0'
Using module file /usr/local/lib/python3.8/dist-packages/ansible/modules/command.py
<localhost> PUT /root/.ansible/tmp/ansible-local-44xot_wk5/tmp_vttdpvn TO /root/.ansible/tmp/ansible-tmp-1666377376.735331-632-146372533521497/AnsiballZ_command.py
<localhost> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1666377376.735331-632-146372533521497/ /root/.ansible/tmp/ansible-tmp-1666377376.735331-632-146372533521497/AnsiballZ_command.py && sleep 0'
<localhost> EXEC /bin/sh -c '/usr/bin/python3 /root/.ansible/tmp/ansible-tmp-1666377376.735331-632-146372533521497/AnsiballZ_command.py && sleep 0'
<localhost> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1666377376.735331-632-146372533521497/ > /dev/null 2>&1 && sleep 0'
ok: [localhost] => {
    "changed": false,
    "cmd": [
        "kubectl",
        "version",
        "--client",
        "--short"
    ],
    "delta": "0:00:00.052880",
    "end": "2022-10-21 18:36:16.927171",
    "invocation": {
        "module_args": {
            "_raw_params": "kubectl version --client --short",
            "_uses_shell": false,
            "argv": null,
            "chdir": null,
            "creates": null,
            "executable": null,
            "removes": null,
            "stdin": null,
            "stdin_add_newline": true,
            "strip_empty_ends": true,
            "warn": false
        }
    },
    "msg": "",
    "rc": 0,
    "start": "2022-10-21 18:36:16.874291",
    "stderr": "",
    "stderr_lines": [],
    "stdout": "Client Version: v1.19.8",
    "stdout_lines": [
        "Client Version: v1.19.8"
    ]
}

TASK [setup/kubectl : Changing the current context namespace to default] *******
task path: /home/bevel/platforms/shared/configuration/roles/setup/kubectl/tasks/main.yaml:67
<localhost> ESTABLISH LOCAL CONNECTION FOR USER: root
<localhost> EXEC /bin/sh -c 'echo ~root && sleep 0'
<localhost> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp `"&& mkdir "` echo /root/.ansible/tmp/ansible-tmp-1666377376.9961185-665-232855250519528 `" && echo ansible-tmp-1666377376.9961185-665-232855250519528="` echo /root/.ansible/tmp/ansible-tmp-1666377376.9961185-665-232855250519528 `" ) && sleep 0'
Using module file /usr/local/lib/python3.8/dist-packages/ansible/modules/command.py
<localhost> PUT /root/.ansible/tmp/ansible-local-44xot_wk5/tmppwdyrxgx TO /root/.ansible/tmp/ansible-tmp-1666377376.9961185-665-232855250519528/AnsiballZ_command.py
<localhost> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1666377376.9961185-665-232855250519528/ /root/.ansible/tmp/ansible-tmp-1666377376.9961185-665-232855250519528/AnsiballZ_command.py && sleep 0'
<localhost> EXEC /bin/sh -c '/usr/bin/python3 /root/.ansible/tmp/ansible-tmp-1666377376.9961185-665-232855250519528/AnsiballZ_command.py && sleep 0'
<localhost> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1666377376.9961185-665-232855250519528/ > /dev/null 2>&1 && sleep 0'
changed: [localhost] => {
    "changed": true,
    "cmd": "KUBECONFIG=/home/bevel/build/config kubectl config use-context minikube\nKUBECONFIG=/home/bevel/build/config kubectl config set-context --current --namespace=default\n",
    "delta": "0:00:00.104238",
    "end": "2022-10-21 18:36:17.241169",
    "invocation": {
        "module_args": {
            "_raw_params": "KUBECONFIG=/home/bevel/build/config kubectl config use-context minikube\nKUBECONFIG=/home/bevel/build/config kubectl config set-context --current --namespace=default\n",
            "_uses_shell": true,
            "argv": null,
            "chdir": null,
            "creates": null,
            "executable": null,
            "removes": null,
            "stdin": null,
            "stdin_add_newline": true,
            "strip_empty_ends": true,
            "warn": false
        }
    },
    "msg": "",
    "rc": 0,
    "start": "2022-10-21 18:36:17.136931",
    "stderr": "",
    "stderr_lines": [],
    "stdout": "Switched to context \"minikube\".\nContext \"minikube\" modified.",
    "stdout_lines": [
        "Switched to context \"minikube\".",
        "Context \"minikube\" modified."
    ]
}
META: role_complete for localhost

TASK [include_role : setup/helm] ***********************************************
task path: /home/bevel/platforms/shared/configuration/environment-setup.yaml:25

TASK [setup/helm : register temporary directory] *******************************
task path: /home/bevel/platforms/shared/configuration/roles/setup/helm/tasks/main.yaml:8
<localhost> ESTABLISH LOCAL CONNECTION FOR USER: root
<localhost> EXEC /bin/sh -c 'echo ~root && sleep 0'
<localhost> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp `"&& mkdir "` echo /root/.ansible/tmp/ansible-tmp-1666377377.4203055-708-140075071203550 `" && echo ansible-tmp-1666377377.4203055-708-140075071203550="` echo /root/.ansible/tmp/ansible-tmp-1666377377.4203055-708-140075071203550 `" ) && sleep 0'
Using module file /usr/local/lib/python3.8/dist-packages/ansible/modules/tempfile.py
<localhost> PUT /root/.ansible/tmp/ansible-local-44xot_wk5/tmpuvkdzztw TO /root/.ansible/tmp/ansible-tmp-1666377377.4203055-708-140075071203550/AnsiballZ_tempfile.py
<localhost> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1666377377.4203055-708-140075071203550/ /root/.ansible/tmp/ansible-tmp-1666377377.4203055-708-140075071203550/AnsiballZ_tempfile.py && sleep 0'
<localhost> EXEC /bin/sh -c '/usr/bin/python3 /root/.ansible/tmp/ansible-tmp-1666377377.4203055-708-140075071203550/AnsiballZ_tempfile.py && sleep 0'
<localhost> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1666377377.4203055-708-140075071203550/ > /dev/null 2>&1 && sleep 0'
changed: [localhost] => {
    "changed": true,
    "gid": 0,
    "group": "root",
    "invocation": {
        "module_args": {
            "path": null,
            "prefix": "ansible.",
            "state": "directory",
            "suffix": ""
        }
    },
    "mode": "0700",
    "owner": "root",
    "path": "/tmp/ansible.xrt4goxs",
    "size": 0,
    "state": "directory",
    "uid": 0
}

TASK [setup/helm : check helm] *************************************************
task path: /home/bevel/platforms/shared/configuration/roles/setup/helm/tasks/main.yaml:15
<localhost> ESTABLISH LOCAL CONNECTION FOR USER: root
<localhost> EXEC /bin/sh -c 'echo ~root && sleep 0'
<localhost> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp `"&& mkdir "` echo /root/.ansible/tmp/ansible-tmp-1666377377.6285586-734-199591588272120 `" && echo ansible-tmp-1666377377.6285586-734-199591588272120="` echo /root/.ansible/tmp/ansible-tmp-1666377377.6285586-734-199591588272120 `" ) && sleep 0'
Using module file /usr/local/lib/python3.8/dist-packages/ansible/modules/stat.py
<localhost> PUT /root/.ansible/tmp/ansible-local-44xot_wk5/tmpiudumnw1 TO /root/.ansible/tmp/ansible-tmp-1666377377.6285586-734-199591588272120/AnsiballZ_stat.py
<localhost> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1666377377.6285586-734-199591588272120/ /root/.ansible/tmp/ansible-tmp-1666377377.6285586-734-199591588272120/AnsiballZ_stat.py && sleep 0'
<localhost> EXEC /bin/sh -c '/usr/bin/python3 /root/.ansible/tmp/ansible-tmp-1666377377.6285586-734-199591588272120/AnsiballZ_stat.py && sleep 0'
<localhost> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1666377377.6285586-734-199591588272120/ > /dev/null 2>&1 && sleep 0'
ok: [localhost] => {
    "changed": false,
    "invocation": {
        "module_args": {
            "checksum_algorithm": "sha1",
            "follow": false,
            "get_attributes": true,
            "get_checksum": true,
            "get_md5": false,
            "get_mime": true,
            "path": "/root/bin/helm"
        }
    },
    "stat": {
        "exists": false
    }
}

TASK [setup/helm : Install helm] ***********************************************
task path: /home/bevel/platforms/shared/configuration/roles/setup/helm/tasks/main.yaml:22
<localhost> ESTABLISH LOCAL CONNECTION FOR USER: root
<localhost> EXEC /bin/sh -c 'echo ~root && sleep 0'
<localhost> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp `"&& mkdir "` echo /root/.ansible/tmp/ansible-tmp-1666377377.8378634-760-64146465096489 `" && echo ansible-tmp-1666377377.8378634-760-64146465096489="` echo /root/.ansible/tmp/ansible-tmp-1666377377.8378634-760-64146465096489 `" ) && sleep 0'
Using module file /usr/local/lib/python3.8/dist-packages/ansible/modules/get_url.py
<localhost> PUT /root/.ansible/tmp/ansible-local-44xot_wk5/tmpxgnoh27k TO /root/.ansible/tmp/ansible-tmp-1666377377.8378634-760-64146465096489/AnsiballZ_get_url.py
<localhost> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1666377377.8378634-760-64146465096489/ /root/.ansible/tmp/ansible-tmp-1666377377.8378634-760-64146465096489/AnsiballZ_get_url.py && sleep 0'
<localhost> EXEC /bin/sh -c '/usr/bin/python3 /root/.ansible/tmp/ansible-tmp-1666377377.8378634-760-64146465096489/AnsiballZ_get_url.py && sleep 0'
<localhost> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1666377377.8378634-760-64146465096489/ > /dev/null 2>&1 && sleep 0'
changed: [localhost] => {
    "changed": true,
    "checksum_dest": null,
    "checksum_src": "a3c3f47a62b47f18e9c7ec43c5dce6decad09502",
    "dest": "/tmp/ansible.xrt4goxs/helm.tar.gz",
    "elapsed": 0,
    "gid": 0,
    "group": "root",
    "invocation": {
        "module_args": {
            "attributes": null,
            "backup": false,
            "checksum": "",
            "client_cert": null,
            "client_key": null,
            "dest": "/tmp/ansible.xrt4goxs/helm.tar.gz",
            "force": false,
            "force_basic_auth": false,
            "group": null,
            "headers": null,
            "http_agent": "ansible-httpget",
            "mode": 493,
            "owner": null,
            "selevel": null,
            "serole": null,
            "setype": null,
            "seuser": null,
            "sha256sum": "",
            "timeout": 10,
            "tmp_dest": null,
            "unredirected_headers": [],
            "unsafe_writes": false,
            "url": "https://get.helm.sh/helm-v3.6.2-linux-amd64.tar.gz",
            "url_password": null,
            "url_username": null,
            "use_gssapi": false,
            "use_proxy": true,
            "validate_certs": true
        }
    },
    "md5sum": "9f110b4fce496f79f2b81504a2c415d5",
    "mode": "0755",
    "msg": "OK (13701153 bytes)",
    "owner": "root",
    "size": 13701153,
    "src": "/root/.ansible/tmp/ansible-tmp-1666377377.8378634-760-64146465096489/tmp8s7699of",
    "state": "file",
    "status_code": 200,
    "uid": 0,
    "url": "https://get.helm.sh/helm-v3.6.2-linux-amd64.tar.gz"
}

TASK [setup/helm : Unzip helm archive] *****************************************
task path: /home/bevel/platforms/shared/configuration/roles/setup/helm/tasks/main.yaml:33
<localhost> ESTABLISH LOCAL CONNECTION FOR USER: root
<localhost> EXEC /bin/sh -c 'echo ~root && sleep 0'
<localhost> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp `"&& mkdir "` echo /root/.ansible/tmp/ansible-tmp-1666377379.2430122-787-94636809807151 `" && echo ansible-tmp-1666377379.2430122-787-94636809807151="` echo /root/.ansible/tmp/ansible-tmp-1666377379.2430122-787-94636809807151 `" ) && sleep 0'
Using module file /usr/local/lib/python3.8/dist-packages/ansible/modules/stat.py
<localhost> PUT /root/.ansible/tmp/ansible-local-44xot_wk5/tmpavyonaik TO /root/.ansible/tmp/ansible-tmp-1666377379.2430122-787-94636809807151/AnsiballZ_stat.py
<localhost> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1666377379.2430122-787-94636809807151/ /root/.ansible/tmp/ansible-tmp-1666377379.2430122-787-94636809807151/AnsiballZ_stat.py && sleep 0'
<localhost> EXEC /bin/sh -c '/usr/bin/python3 /root/.ansible/tmp/ansible-tmp-1666377379.2430122-787-94636809807151/AnsiballZ_stat.py && sleep 0'
Using module file /usr/local/lib/python3.8/dist-packages/ansible/modules/unarchive.py
<localhost> PUT /root/.ansible/tmp/ansible-local-44xot_wk5/tmp21hjfnc1 TO /root/.ansible/tmp/ansible-tmp-1666377379.2430122-787-94636809807151/AnsiballZ_unarchive.py
<localhost> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1666377379.2430122-787-94636809807151/ /root/.ansible/tmp/ansible-tmp-1666377379.2430122-787-94636809807151/AnsiballZ_unarchive.py && sleep 0'
<localhost> EXEC /bin/sh -c '/usr/bin/python3 /root/.ansible/tmp/ansible-tmp-1666377379.2430122-787-94636809807151/AnsiballZ_unarchive.py && sleep 0'
<localhost> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1666377379.2430122-787-94636809807151/ > /dev/null 2>&1 && sleep 0'
changed: [localhost] => {
    "changed": true,
    "dest": "/tmp/ansible.xrt4goxs",
    "extract_results": {
        "cmd": [
            "/usr/bin/tar",
            "--extract",
            "-C",
            "/tmp/ansible.xrt4goxs",
            "-z",
            "-f",
            "/tmp/ansible.xrt4goxs/helm.tar.gz"
        ],
        "err": "",
        "out": "",
        "rc": 0
    },
    "gid": 0,
    "group": "root",
    "handler": "TgzArchive",
    "invocation": {
        "module_args": {
            "attributes": null,
            "copy": true,
            "creates": null,
            "decrypt": true,
            "dest": "/tmp/ansible.xrt4goxs",
            "exclude": [],
            "extra_opts": [],
            "group": null,
            "include": [],
            "io_buffer_size": 65536,
            "keep_newer": false,
            "list_files": false,
            "mode": 493,
            "owner": null,
            "remote_src": true,
            "selevel": null,
            "serole": null,
            "setype": null,
            "seuser": null,
            "src": "/tmp/ansible.xrt4goxs/helm.tar.gz",
            "unsafe_writes": false,
            "validate_certs": true
        }
    },
    "mode": "0700",
    "owner": "root",
    "size": 44,
    "src": "/tmp/ansible.xrt4goxs/helm.tar.gz",
    "state": "directory",
    "uid": 0
}

TASK [create bin directory] ****************************************************
task path: /home/bevel/platforms/shared/configuration/roles/setup/helm/tasks/main.yaml:43
redirecting (type: modules) ansible.builtin.k8s_info to kubernetes.core.k8s_info
redirecting (type: modules) ansible.builtin.k8s_info to kubernetes.core.k8s_info

TASK [check/setup : check if dir exists or not] ********************************
task path: /home/bevel/platforms/shared/configuration/roles/check/setup/tasks/main.yaml:9
<localhost> ESTABLISH LOCAL CONNECTION FOR USER: root
<localhost> EXEC /bin/sh -c 'echo ~root && sleep 0'
<localhost> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp `"&& mkdir "` echo /root/.ansible/tmp/ansible-tmp-1666377380.7353752-835-159517955066810 `" && echo ansible-tmp-1666377380.7353752-835-159517955066810="` echo /root/.ansible/tmp/ansible-tmp-1666377380.7353752-835-159517955066810 `" ) && sleep 0'
Using module file /usr/local/lib/python3.8/dist-packages/ansible/modules/stat.py
<localhost> PUT /root/.ansible/tmp/ansible-local-44xot_wk5/tmpxel2d_cg TO /root/.ansible/tmp/ansible-tmp-1666377380.7353752-835-159517955066810/AnsiballZ_stat.py
<localhost> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1666377380.7353752-835-159517955066810/ /root/.ansible/tmp/ansible-tmp-1666377380.7353752-835-159517955066810/AnsiballZ_stat.py && sleep 0'
<localhost> EXEC /bin/sh -c '/usr/bin/python3 /root/.ansible/tmp/ansible-tmp-1666377380.7353752-835-159517955066810/AnsiballZ_stat.py && sleep 0'
<localhost> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1666377380.7353752-835-159517955066810/ > /dev/null 2>&1 && sleep 0'
ok: [localhost] => {
    "changed": false,
    "invocation": {
        "module_args": {
            "checksum_algorithm": "sha1",
            "follow": false,
            "get_attributes": true,
            "get_checksum": true,
            "get_md5": false,
            "get_mime": true,
            "path": "/root/bin"
        }
    },
    "stat": {
        "atime": 1666377374.9955416,
        "attr_flags": "",
        "attributes": [],
        "block_size": 4096,
        "blocks": 0,
        "charset": "unknown",
        "ctime": 1666377375.4755423,
        "dev": 1048701,
        "device_type": 0,
        "executable": true,
        "exists": true,
        "gid": 0,
        "gr_name": "root",
        "inode": 11344011,
        "isblk": false,
        "ischr": false,
        "isdir": true,
        "isfifo": false,
        "isgid": false,
        "islnk": false,
        "isreg": false,
        "issock": false,
        "isuid": false,
        "mimetype": "unknown",
        "mode": "0755",
        "mtime": 1666377375.4755423,
        "nlink": 1,
        "path": "/root/bin",
        "pw_name": "root",
        "readable": true,
        "rgrp": true,
        "roth": true,
        "rusr": true,
        "size": 14,
        "uid": 0,
        "version": null,
        "wgrp": false,
        "woth": false,
        "writeable": true,
        "wusr": true,
        "xgrp": true,
        "xoth": true,
        "xusr": true
    }
}

TASK [check/setup : Ensures dir exists] ****************************************
task path: /home/bevel/platforms/shared/configuration/roles/check/setup/tasks/main.yaml:17
skipping: [localhost] => {
    "changed": false,
    "skip_reason": "Conditional result was False"
}

TASK [check/setup : Check if Kubernetes-auth already created for Organization] ***
task path: /home/bevel/platforms/shared/configuration/roles/check/setup/tasks/main.yaml:26
skipping: [localhost] => {
    "changed": false,
    "skip_reason": "Conditional result was False"
}

TASK [check/setup : Check if policy exists] ************************************
task path: /home/bevel/platforms/shared/configuration/roles/check/setup/tasks/main.yaml:36
skipping: [localhost] => {
    "changed": false,
    "skip_reason": "Conditional result was False"
}

TASK [check/setup : Check docker cred exists] **********************************
task path: /home/bevel/platforms/shared/configuration/roles/check/setup/tasks/main.yaml:47
skipping: [localhost] => {
    "changed": false,
    "skip_reason": "Conditional result was False"
}

TASK [check/setup : Check git https cred exists] *******************************
task path: /home/bevel/platforms/shared/configuration/roles/check/setup/tasks/main.yaml:58
skipping: [localhost] => {
    "changed": false,
    "skip_reason": "Conditional result was False"
}

TASK [check/setup : check if certs exists in vault.] ***************************
task path: /home/bevel/platforms/shared/configuration/roles/check/setup/tasks/main.yaml:69
skipping: [localhost] => {
    "changed": false,
    "skip_reason": "Conditional result was False"
}
META: role_complete for localhost

TASK [setup/helm : Move helm binaries] *****************************************
task path: /home/bevel/platforms/shared/configuration/roles/setup/helm/tasks/main.yaml:53
<localhost> ESTABLISH LOCAL CONNECTION FOR USER: root
<localhost> EXEC /bin/sh -c 'echo ~root && sleep 0'
<localhost> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp `"&& mkdir "` echo /root/.ansible/tmp/ansible-tmp-1666377381.1937203-874-110129723912349 `" && echo ansible-tmp-1666377381.1937203-874-110129723912349="` echo /root/.ansible/tmp/ansible-tmp-1666377381.1937203-874-110129723912349 `" ) && sleep 0'
<localhost> EXEC /bin/sh -c 'echo ~root && sleep 0'
Using module file /usr/local/lib/python3.8/dist-packages/ansible/modules/stat.py
<localhost> PUT /root/.ansible/tmp/ansible-local-44xot_wk5/tmpbrcivh3t TO /root/.ansible/tmp/ansible-tmp-1666377381.1937203-874-110129723912349/AnsiballZ_stat.py
<localhost> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1666377381.1937203-874-110129723912349/ /root/.ansible/tmp/ansible-tmp-1666377381.1937203-874-110129723912349/AnsiballZ_stat.py && sleep 0'
<localhost> EXEC /bin/sh -c '/usr/bin/python3 /root/.ansible/tmp/ansible-tmp-1666377381.1937203-874-110129723912349/AnsiballZ_stat.py && sleep 0'
<localhost> PUT /tmp/ansible.xrt4goxs/linux-amd64/helm TO /root/.ansible/tmp/ansible-tmp-1666377381.1937203-874-110129723912349/source
<localhost> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1666377381.1937203-874-110129723912349/ /root/.ansible/tmp/ansible-tmp-1666377381.1937203-874-110129723912349/source && sleep 0'
Using module file /usr/local/lib/python3.8/dist-packages/ansible/modules/copy.py
<localhost> PUT /root/.ansible/tmp/ansible-local-44xot_wk5/tmp2s52g_4_ TO /root/.ansible/tmp/ansible-tmp-1666377381.1937203-874-110129723912349/AnsiballZ_copy.py
<localhost> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1666377381.1937203-874-110129723912349/ /root/.ansible/tmp/ansible-tmp-1666377381.1937203-874-110129723912349/AnsiballZ_copy.py && sleep 0'
<localhost> EXEC /bin/sh -c '/usr/bin/python3 /root/.ansible/tmp/ansible-tmp-1666377381.1937203-874-110129723912349/AnsiballZ_copy.py && sleep 0'
<localhost> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1666377381.1937203-874-110129723912349/ > /dev/null 2>&1 && sleep 0'
changed: [localhost] => (item=helm) => {
    "ansible_loop_var": "bin_item",
    "bin_item": "helm",
    "changed": true,
    "checksum": "4ef98189af928450906546c6afd8719399a4c181",
    "dest": "/root/bin/helm",
    "diff": [],
    "gid": 0,
    "group": "root",
    "invocation": {
        "module_args": {
            "_original_basename": "helm",
            "attributes": null,
            "backup": false,
            "checksum": "4ef98189af928450906546c6afd8719399a4c181",
            "content": null,
            "dest": "/root/bin/helm",
            "directory_mode": null,
            "follow": false,
            "force": true,
            "group": null,
            "local_follow": null,
            "mode": 493,
            "owner": null,
            "remote_src": null,
            "selevel": null,
            "serole": null,
            "setype": null,
            "seuser": null,
            "src": "/root/.ansible/tmp/ansible-tmp-1666377381.1937203-874-110129723912349/source",
            "unsafe_writes": false,
            "validate": null
        }
    },
    "md5sum": "fbd38acca22808c5df160e70c5d443ec",
    "mode": "0755",
    "owner": "root",
    "size": 45109248,
    "src": "/root/.ansible/tmp/ansible-tmp-1666377381.1937203-874-110129723912349/source",
    "state": "file",
    "uid": 0
}

TASK [setup/helm : Test helm installation] *************************************
task path: /home/bevel/platforms/shared/configuration/roles/setup/helm/tasks/main.yaml:64
<localhost> ESTABLISH LOCAL CONNECTION FOR USER: root
<localhost> EXEC /bin/sh -c 'echo ~root && sleep 0'
<localhost> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp `"&& mkdir "` echo /root/.ansible/tmp/ansible-tmp-1666377381.7596133-916-59790672895356 `" && echo ansible-tmp-1666377381.7596133-916-59790672895356="` echo /root/.ansible/tmp/ansible-tmp-1666377381.7596133-916-59790672895356 `" ) && sleep 0'
Using module file /usr/local/lib/python3.8/dist-packages/ansible/modules/command.py
<localhost> PUT /root/.ansible/tmp/ansible-local-44xot_wk5/tmp5jfwi7we TO /root/.ansible/tmp/ansible-tmp-1666377381.7596133-916-59790672895356/AnsiballZ_command.py
<localhost> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1666377381.7596133-916-59790672895356/ /root/.ansible/tmp/ansible-tmp-1666377381.7596133-916-59790672895356/AnsiballZ_command.py && sleep 0'
<localhost> EXEC /bin/sh -c '/usr/bin/python3 /root/.ansible/tmp/ansible-tmp-1666377381.7596133-916-59790672895356/AnsiballZ_command.py && sleep 0'
<localhost> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1666377381.7596133-916-59790672895356/ > /dev/null 2>&1 && sleep 0'
ok: [localhost] => {
    "changed": false,
    "cmd": [
        "helm",
        "version",
        "--client",
        "--short"
    ],
    "delta": "0:00:00.040419",
    "end": "2022-10-21 18:36:21.939797",
    "invocation": {
        "module_args": {
            "_raw_params": "helm version --client --short",
            "_uses_shell": false,
            "argv": null,
            "chdir": null,
            "creates": null,
            "executable": null,
            "removes": null,
            "stdin": null,
            "stdin_add_newline": true,
            "strip_empty_ends": true,
            "warn": false
        }
    },
    "msg": "",
    "rc": 0,
    "start": "2022-10-21 18:36:21.899378",
    "stderr": "",
    "stderr_lines": [],
    "stdout": "v3.6.2+gee407bd",
    "stdout_lines": [
        "v3.6.2+gee407bd"
    ]
}
META: role_complete for localhost

TASK [setup/helm : register temporary directory] *******************************
task path: /home/bevel/platforms/shared/configuration/roles/setup/helm/tasks/main.yaml:8
<localhost> ESTABLISH LOCAL CONNECTION FOR USER: root
<localhost> EXEC /bin/sh -c 'echo ~root && sleep 0'
<localhost> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp `"&& mkdir "` echo /root/.ansible/tmp/ansible-tmp-1666377382.01037-949-61185603418561 `" && echo ansible-tmp-1666377382.01037-949-61185603418561="` echo /root/.ansible/tmp/ansible-tmp-1666377382.01037-949-61185603418561 `" ) && sleep 0'
Using module file /usr/local/lib/python3.8/dist-packages/ansible/modules/tempfile.py
<localhost> PUT /root/.ansible/tmp/ansible-local-44xot_wk5/tmp73rjms6c TO /root/.ansible/tmp/ansible-tmp-1666377382.01037-949-61185603418561/AnsiballZ_tempfile.py
<localhost> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1666377382.01037-949-61185603418561/ /root/.ansible/tmp/ansible-tmp-1666377382.01037-949-61185603418561/AnsiballZ_tempfile.py && sleep 0'
<localhost> EXEC /bin/sh -c '/usr/bin/python3 /root/.ansible/tmp/ansible-tmp-1666377382.01037-949-61185603418561/AnsiballZ_tempfile.py && sleep 0'
<localhost> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1666377382.01037-949-61185603418561/ > /dev/null 2>&1 && sleep 0'
changed: [localhost] => {
    "changed": true,
    "gid": 0,
    "group": "root",
    "invocation": {
        "module_args": {
            "path": null,
            "prefix": "ansible.",
            "state": "directory",
            "suffix": ""
        }
    },
    "mode": "0700",
    "owner": "root",
    "path": "/tmp/ansible.9s7_q_3n",
    "size": 0,
    "state": "directory",
    "uid": 0
}

TASK [setup/helm : check helm] *************************************************
task path: /home/bevel/platforms/shared/configuration/roles/setup/helm/tasks/main.yaml:15
<localhost> ESTABLISH LOCAL CONNECTION FOR USER: root
<localhost> EXEC /bin/sh -c 'echo ~root && sleep 0'
<localhost> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp `"&& mkdir "` echo /root/.ansible/tmp/ansible-tmp-1666377382.2153466-975-256066784082204 `" && echo ansible-tmp-1666377382.2153466-975-256066784082204="` echo /root/.ansible/tmp/ansible-tmp-1666377382.2153466-975-256066784082204 `" ) && sleep 0'
Using module file /usr/local/lib/python3.8/dist-packages/ansible/modules/stat.py
<localhost> PUT /root/.ansible/tmp/ansible-local-44xot_wk5/tmp54ne5unl TO /root/.ansible/tmp/ansible-tmp-1666377382.2153466-975-256066784082204/AnsiballZ_stat.py
<localhost> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1666377382.2153466-975-256066784082204/ /root/.ansible/tmp/ansible-tmp-1666377382.2153466-975-256066784082204/AnsiballZ_stat.py && sleep 0'
<localhost> EXEC /bin/sh -c '/usr/bin/python3 /root/.ansible/tmp/ansible-tmp-1666377382.2153466-975-256066784082204/AnsiballZ_stat.py && sleep 0'
<localhost> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1666377382.2153466-975-256066784082204/ > /dev/null 2>&1 && sleep 0'
ok: [localhost] => {
    "changed": false,
    "invocation": {
        "module_args": {
            "checksum_algorithm": "sha1",
            "follow": false,
            "get_attributes": true,
            "get_checksum": true,
            "get_md5": false,
            "get_mime": true,
            "path": "/root/bin/helm"
        }
    },
    "stat": {
        "atime": 1666377381.8995507,
        "attr_flags": "",
        "attributes": [],
        "block_size": 4096,
        "blocks": 88104,
        "charset": "unknown",
        "checksum": "4ef98189af928450906546c6afd8719399a4c181",
        "ctime": 1666377381.6945505,
        "dev": 1048701,
        "device_type": 0,
        "executable": true,
        "exists": true,
        "gid": 0,
        "gr_name": "root",
        "inode": 11344109,
        "isblk": false,
        "ischr": false,
        "isdir": false,
        "isfifo": false,
        "isgid": false,
        "islnk": false,
        "isreg": true,
        "issock": false,
        "isuid": false,
        "mimetype": "unknown",
        "mode": "0755",
        "mtime": 1666377381.42255,
        "nlink": 1,
        "path": "/root/bin/helm",
        "pw_name": "root",
        "readable": true,
        "rgrp": true,
        "roth": true,
        "rusr": true,
        "size": 45109248,
        "uid": 0,
        "version": null,
        "wgrp": false,
        "woth": false,
        "writeable": true,
        "wusr": true,
        "xgrp": true,
        "xoth": true,
        "xusr": true
    }
}

TASK [setup/helm : Install helm] ***********************************************
task path: /home/bevel/platforms/shared/configuration/roles/setup/helm/tasks/main.yaml:22
skipping: [localhost] => {
    "changed": false,
    "skip_reason": "Conditional result was False"
}

TASK [setup/helm : Unzip helm archive] *****************************************
task path: /home/bevel/platforms/shared/configuration/roles/setup/helm/tasks/main.yaml:33
skipping: [localhost] => {
    "changed": false,
    "skip_reason": "Conditional result was False"
}

TASK [create bin directory] ****************************************************
task path: /home/bevel/platforms/shared/configuration/roles/setup/helm/tasks/main.yaml:43
skipping: [localhost] => {
    "changed": false,
    "skip_reason": "Conditional result was False"
}

TASK [setup/helm : Move helm binaries] *****************************************
task path: /home/bevel/platforms/shared/configuration/roles/setup/helm/tasks/main.yaml:53
skipping: [localhost] => (item=helm)  => {
    "ansible_loop_var": "bin_item",
    "bin_item": "helm",
    "changed": false,
    "skip_reason": "Conditional result was False"
}

TASK [setup/helm : Test helm installation] *************************************
task path: /home/bevel/platforms/shared/configuration/roles/setup/helm/tasks/main.yaml:64
<localhost> ESTABLISH LOCAL CONNECTION FOR USER: root
<localhost> EXEC /bin/sh -c 'echo ~root && sleep 0'
<localhost> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp `"&& mkdir "` echo /root/.ansible/tmp/ansible-tmp-1666377382.6223314-1010-273831308105979 `" && echo ansible-tmp-1666377382.6223314-1010-273831308105979="` echo /root/.ansible/tmp/ansible-tmp-1666377382.6223314-1010-273831308105979 `" ) && sleep 0'
Using module file /usr/local/lib/python3.8/dist-packages/ansible/modules/command.py
<localhost> PUT /root/.ansible/tmp/ansible-local-44xot_wk5/tmp8hl60w8j TO /root/.ansible/tmp/ansible-tmp-1666377382.6223314-1010-273831308105979/AnsiballZ_command.py
<localhost> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1666377382.6223314-1010-273831308105979/ /root/.ansible/tmp/ansible-tmp-1666377382.6223314-1010-273831308105979/AnsiballZ_command.py && sleep 0'
<localhost> EXEC /bin/sh -c '/usr/bin/python3 /root/.ansible/tmp/ansible-tmp-1666377382.6223314-1010-273831308105979/AnsiballZ_command.py && sleep 0'
<localhost> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1666377382.6223314-1010-273831308105979/ > /dev/null 2>&1 && sleep 0'
ok: [localhost] => {
    "changed": false,
    "cmd": [
        "helm",
        "version",
        "--client",
        "--short"
    ],
    "delta": "0:00:00.038964",
    "end": "2022-10-21 18:36:22.803205",
    "invocation": {
        "module_args": {
            "_raw_params": "helm version --client --short",
            "_uses_shell": false,
            "argv": null,
            "chdir": null,
            "creates": null,
            "executable": null,
            "removes": null,
            "stdin": null,
            "stdin_add_newline": true,
            "strip_empty_ends": true,
            "warn": false
        }
    },
    "msg": "",
    "rc": 0,
    "start": "2022-10-21 18:36:22.764241",
    "stderr": "",
    "stderr_lines": [],
    "stdout": "v3.6.2+gee407bd",
    "stdout_lines": [
        "v3.6.2+gee407bd"
    ]
}
META: role_complete for localhost

TASK [include_role : setup/vault] **********************************************
task path: /home/bevel/platforms/shared/configuration/environment-setup.yaml:33

TASK [setup/vault : register temporary directory] ******************************
task path: /home/bevel/platforms/shared/configuration/roles/setup/vault/tasks/main.yaml:8
<localhost> ESTABLISH LOCAL CONNECTION FOR USER: root
<localhost> EXEC /bin/sh -c 'echo ~root && sleep 0'
<localhost> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp `"&& mkdir "` echo /root/.ansible/tmp/ansible-tmp-1666377382.9392722-1045-52161284751748 `" && echo ansible-tmp-1666377382.9392722-1045-52161284751748="` echo /root/.ansible/tmp/ansible-tmp-1666377382.9392722-1045-52161284751748 `" ) && sleep 0'
Using module file /usr/local/lib/python3.8/dist-packages/ansible/modules/tempfile.py
<localhost> PUT /root/.ansible/tmp/ansible-local-44xot_wk5/tmpioj5tuvg TO /root/.ansible/tmp/ansible-tmp-1666377382.9392722-1045-52161284751748/AnsiballZ_tempfile.py
<localhost> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1666377382.9392722-1045-52161284751748/ /root/.ansible/tmp/ansible-tmp-1666377382.9392722-1045-52161284751748/AnsiballZ_tempfile.py && sleep 0'
<localhost> EXEC /bin/sh -c '/usr/bin/python3 /root/.ansible/tmp/ansible-tmp-1666377382.9392722-1045-52161284751748/AnsiballZ_tempfile.py && sleep 0'
<localhost> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1666377382.9392722-1045-52161284751748/ > /dev/null 2>&1 && sleep 0'
changed: [localhost] => {
    "changed": true,
    "gid": 0,
    "group": "root",
    "invocation": {
        "module_args": {
            "path": null,
            "prefix": "ansible.",
            "state": "directory",
            "suffix": ""
        }
    },
    "mode": "0700",
    "owner": "root",
    "path": "/tmp/ansible.1t3lr7v6",
    "size": 0,
    "state": "directory",
    "uid": 0
}

TASK [setup/vault : check vault] ***********************************************
task path: /home/bevel/platforms/shared/configuration/roles/setup/vault/tasks/main.yaml:15
<localhost> ESTABLISH LOCAL CONNECTION FOR USER: root
<localhost> EXEC /bin/sh -c 'echo ~root && sleep 0'
<localhost> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp `"&& mkdir "` echo /root/.ansible/tmp/ansible-tmp-1666377383.1464949-1071-175598595182192 `" && echo ansible-tmp-1666377383.1464949-1071-175598595182192="` echo /root/.ansible/tmp/ansible-tmp-1666377383.1464949-1071-175598595182192 `" ) && sleep 0'
Using module file /usr/local/lib/python3.8/dist-packages/ansible/modules/stat.py
<localhost> PUT /root/.ansible/tmp/ansible-local-44xot_wk5/tmpbc0bv656 TO /root/.ansible/tmp/ansible-tmp-1666377383.1464949-1071-175598595182192/AnsiballZ_stat.py
<localhost> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1666377383.1464949-1071-175598595182192/ /root/.ansible/tmp/ansible-tmp-1666377383.1464949-1071-175598595182192/AnsiballZ_stat.py && sleep 0'
<localhost> EXEC /bin/sh -c '/usr/bin/python3 /root/.ansible/tmp/ansible-tmp-1666377383.1464949-1071-175598595182192/AnsiballZ_stat.py && sleep 0'
<localhost> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1666377383.1464949-1071-175598595182192/ > /dev/null 2>&1 && sleep 0'
ok: [localhost] => {
    "changed": false,
    "invocation": {
        "module_args": {
            "checksum_algorithm": "sha1",
            "follow": false,
            "get_attributes": true,
            "get_checksum": true,
            "get_md5": false,
            "get_mime": true,
            "path": "/root/bin/vault"
        }
    },
    "stat": {
        "exists": false
    }
}

TASK [setup/vault : Install vault client] **************************************
task path: /home/bevel/platforms/shared/configuration/roles/setup/vault/tasks/main.yaml:22
<localhost> ESTABLISH LOCAL CONNECTION FOR USER: root
<localhost> EXEC /bin/sh -c 'echo ~root && sleep 0'
<localhost> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp `"&& mkdir "` echo /root/.ansible/tmp/ansible-tmp-1666377383.3587928-1097-105952190915225 `" && echo ansible-tmp-1666377383.3587928-1097-105952190915225="` echo /root/.ansible/tmp/ansible-tmp-1666377383.3587928-1097-105952190915225 `" ) && sleep 0'
Using module file /usr/local/lib/python3.8/dist-packages/ansible/modules/get_url.py
<localhost> PUT /root/.ansible/tmp/ansible-local-44xot_wk5/tmpe_ie_yng TO /root/.ansible/tmp/ansible-tmp-1666377383.3587928-1097-105952190915225/AnsiballZ_get_url.py
<localhost> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1666377383.3587928-1097-105952190915225/ /root/.ansible/tmp/ansible-tmp-1666377383.3587928-1097-105952190915225/AnsiballZ_get_url.py && sleep 0'
<localhost> EXEC /bin/sh -c '/usr/bin/python3 /root/.ansible/tmp/ansible-tmp-1666377383.3587928-1097-105952190915225/AnsiballZ_get_url.py && sleep 0'
<localhost> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1666377383.3587928-1097-105952190915225/ > /dev/null 2>&1 && sleep 0'
changed: [localhost] => {
    "changed": true,
    "checksum_dest": null,
    "checksum_src": "d011bbe9cbec1422ea8e1efa5c72a267bbe1f3aa",
    "dest": "/tmp/ansible.1t3lr7v6/vault_1.7.1_linux_amd64.zip",
    "elapsed": 5,
    "gid": 0,
    "group": "root",
    "invocation": {
        "module_args": {
            "attributes": null,
            "backup": false,
            "checksum": "",
            "client_cert": null,
            "client_key": null,
            "dest": "/tmp/ansible.1t3lr7v6/vault_1.7.1_linux_amd64.zip",
            "force": false,
            "force_basic_auth": false,
            "group": null,
            "headers": null,
            "http_agent": "ansible-httpget",
            "mode": 493,
            "owner": null,
            "selevel": null,
            "serole": null,
            "setype": null,
            "seuser": null,
            "sha256sum": "",
            "timeout": 10,
            "tmp_dest": null,
            "unredirected_headers": [],
            "unsafe_writes": false,
            "url": "https://releases.hashicorp.com/vault/1.7.1/vault_1.7.1_linux_amd64.zip",
            "url_password": null,
            "url_username": null,
            "use_gssapi": false,
            "use_proxy": true,
            "validate_certs": true
        }
    },
    "md5sum": "8045fa0a84080f354e0146da72ba32fb",
    "mode": "0755",
    "msg": "OK (68821345 bytes)",
    "owner": "root",
    "size": 68821345,
    "src": "/root/.ansible/tmp/ansible-tmp-1666377383.3587928-1097-105952190915225/tmpdb0vz_ox",
    "state": "file",
    "status_code": 200,
    "uid": 0,
    "url": "https://releases.hashicorp.com/vault/1.7.1/vault_1.7.1_linux_amd64.zip"
}

TASK [setup/vault : create bin directory] **************************************
task path: /home/bevel/platforms/shared/configuration/roles/setup/vault/tasks/main.yaml:32
<localhost> ESTABLISH LOCAL CONNECTION FOR USER: root
<localhost> EXEC /bin/sh -c 'echo ~root && sleep 0'
<localhost> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp `"&& mkdir "` echo /root/.ansible/tmp/ansible-tmp-1666377389.6687992-1124-175885338411038 `" && echo ansible-tmp-1666377389.6687992-1124-175885338411038="` echo /root/.ansible/tmp/ansible-tmp-1666377389.6687992-1124-175885338411038 `" ) && sleep 0'
Using module file /usr/local/lib/python3.8/dist-packages/ansible/modules/file.py
<localhost> PUT /root/.ansible/tmp/ansible-local-44xot_wk5/tmp9wsuhj5m TO /root/.ansible/tmp/ansible-tmp-1666377389.6687992-1124-175885338411038/AnsiballZ_file.py
<localhost> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1666377389.6687992-1124-175885338411038/ /root/.ansible/tmp/ansible-tmp-1666377389.6687992-1124-175885338411038/AnsiballZ_file.py && sleep 0'
<localhost> EXEC /bin/sh -c '/usr/bin/python3 /root/.ansible/tmp/ansible-tmp-1666377389.6687992-1124-175885338411038/AnsiballZ_file.py && sleep 0'
<localhost> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1666377389.6687992-1124-175885338411038/ > /dev/null 2>&1 && sleep 0'
ok: [localhost] => {
    "changed": false,
    "diff": {
        "after": {
            "path": "/root/bin"
        },
        "before": {
            "path": "/root/bin"
        }
    },
    "gid": 0,
    "group": "root",
    "invocation": {
        "module_args": {
            "_diff_peek": null,
            "_original_basename": null,
            "access_time": null,
            "access_time_format": "%Y%m%d%H%M.%S",
            "attributes": null,
            "follow": true,
            "force": false,
            "group": null,
            "mode": null,
            "modification_time": null,
            "modification_time_format": "%Y%m%d%H%M.%S",
            "owner": null,
            "path": "/root/bin",
            "recurse": false,
            "selevel": null,
            "serole": null,
            "setype": null,
            "seuser": null,
            "src": null,
            "state": "directory",
            "unsafe_writes": false
        }
    },
    "mode": "0755",
    "owner": "root",
    "path": "/root/bin",
    "size": 22,
    "state": "directory",
    "uid": 0
}

TASK [setup/vault : Unzip vault archive] ***************************************
task path: /home/bevel/platforms/shared/configuration/roles/setup/vault/tasks/main.yaml:40
<localhost> ESTABLISH LOCAL CONNECTION FOR USER: root
<localhost> EXEC /bin/sh -c 'echo ~root && sleep 0'
<localhost> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp `"&& mkdir "` echo /root/.ansible/tmp/ansible-tmp-1666377389.877114-1150-161649880422387 `" && echo ansible-tmp-1666377389.877114-1150-161649880422387="` echo /root/.ansible/tmp/ansible-tmp-1666377389.877114-1150-161649880422387 `" ) && sleep 0'
<localhost> EXEC /bin/sh -c 'echo ~root && sleep 0'
Using module file /usr/local/lib/python3.8/dist-packages/ansible/modules/stat.py
<localhost> PUT /root/.ansible/tmp/ansible-local-44xot_wk5/tmp_m752_mo TO /root/.ansible/tmp/ansible-tmp-1666377389.877114-1150-161649880422387/AnsiballZ_stat.py
<localhost> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1666377389.877114-1150-161649880422387/ /root/.ansible/tmp/ansible-tmp-1666377389.877114-1150-161649880422387/AnsiballZ_stat.py && sleep 0'
<localhost> EXEC /bin/sh -c '/usr/bin/python3 /root/.ansible/tmp/ansible-tmp-1666377389.877114-1150-161649880422387/AnsiballZ_stat.py && sleep 0'
Using module file /usr/local/lib/python3.8/dist-packages/ansible/modules/unarchive.py
<localhost> PUT /root/.ansible/tmp/ansible-local-44xot_wk5/tmp5kyd31og TO /root/.ansible/tmp/ansible-tmp-1666377389.877114-1150-161649880422387/AnsiballZ_unarchive.py
<localhost> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1666377389.877114-1150-161649880422387/ /root/.ansible/tmp/ansible-tmp-1666377389.877114-1150-161649880422387/AnsiballZ_unarchive.py && sleep 0'
<localhost> EXEC /bin/sh -c '/usr/bin/python3 /root/.ansible/tmp/ansible-tmp-1666377389.877114-1150-161649880422387/AnsiballZ_unarchive.py && sleep 0'
<localhost> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1666377389.877114-1150-161649880422387/ > /dev/null 2>&1 && sleep 0'
changed: [localhost] => (item=vault) => {
    "ansible_loop_var": "bin_item",
    "bin_item": "vault",
    "changed": true,
    "dest": "/root/bin",
    "diff": {
        "prepared": ">f++++++.?? vault\n"
    },
    "extract_results": {
        "cmd": [
            "/usr/bin/unzip",
            "-o",
            "/tmp/ansible.1t3lr7v6/vault_1.7.1_linux_amd64.zip",
            "-d",
            "/root/bin"
        ],
        "err": "",
        "out": "Archive:  /tmp/ansible.1t3lr7v6/vault_1.7.1_linux_amd64.zip\n  inflating: /root/bin/vault         \n",
        "rc": 0
    },
    "gid": 0,
    "group": "root",
    "handler": "ZipArchive",
    "invocation": {
        "module_args": {
            "attributes": null,
            "copy": true,
            "creates": null,
            "decrypt": true,
            "dest": "/root/bin",
            "exclude": [],
            "extra_opts": [],
            "group": null,
            "include": [],
            "io_buffer_size": 65536,
            "keep_newer": false,
            "list_files": false,
            "mode": 493,
            "owner": null,
            "remote_src": true,
            "selevel": null,
            "serole": null,
            "setype": null,
            "seuser": null,
            "src": "/tmp/ansible.1t3lr7v6/vault_1.7.1_linux_amd64.zip",
            "unsafe_writes": false,
            "validate_certs": true
        }
    },
    "mode": "0755",
    "owner": "root",
    "size": 32,
    "src": "/tmp/ansible.1t3lr7v6/vault_1.7.1_linux_amd64.zip",
    "state": "directory",
    "uid": 0
}

TASK [setup/vault : Test vault installation] ***********************************
task path: /home/bevel/platforms/shared/configuration/roles/setup/vault/tasks/main.yaml:52
<localhost> ESTABLISH LOCAL CONNECTION FOR USER: root
<localhost> EXEC /bin/sh -c 'echo ~root && sleep 0'
<localhost> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp `"&& mkdir "` echo /root/.ansible/tmp/ansible-tmp-1666377391.6170194-1192-220279013330230 `" && echo ansible-tmp-1666377391.6170194-1192-220279013330230="` echo /root/.ansible/tmp/ansible-tmp-1666377391.6170194-1192-220279013330230 `" ) && sleep 0'
Using module file /usr/local/lib/python3.8/dist-packages/ansible/modules/command.py
<localhost> PUT /root/.ansible/tmp/ansible-local-44xot_wk5/tmpfvs1_gv6 TO /root/.ansible/tmp/ansible-tmp-1666377391.6170194-1192-220279013330230/AnsiballZ_command.py
<localhost> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1666377391.6170194-1192-220279013330230/ /root/.ansible/tmp/ansible-tmp-1666377391.6170194-1192-220279013330230/AnsiballZ_command.py && sleep 0'
<localhost> EXEC /bin/sh -c '/usr/bin/python3 /root/.ansible/tmp/ansible-tmp-1666377391.6170194-1192-220279013330230/AnsiballZ_command.py && sleep 0'
<localhost> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1666377391.6170194-1192-220279013330230/ > /dev/null 2>&1 && sleep 0'
ok: [localhost] => {
    "changed": false,
    "cmd": [
        "vault",
        "version"
    ],
    "delta": "0:00:00.080487",
    "end": "2022-10-21 18:36:31.837228",
    "invocation": {
        "module_args": {
            "_raw_params": "vault version",
            "_uses_shell": false,
            "argv": null,
            "chdir": null,
            "creates": null,
            "executable": null,
            "removes": null,
            "stdin": null,
            "stdin_add_newline": true,
            "strip_empty_ends": true,
            "warn": false
        }
    },
    "msg": "",
    "rc": 0,
    "start": "2022-10-21 18:36:31.756741",
    "stderr": "",
    "stderr_lines": [],
    "stdout": "Vault v1.7.1 (917142287996a005cb1ed9d96d00d06a0590e44e)",
    "stdout_lines": [
        "Vault v1.7.1 (917142287996a005cb1ed9d96d00d06a0590e44e)"
    ]
}
META: role_complete for localhost

TASK [include_role : setup/aws-cli] ********************************************
task path: /home/bevel/platforms/shared/configuration/environment-setup.yaml:41
skipping: [localhost] => (item={'organization': None, 'name': 'supplychain', 'country': 'UK', 'state': 'London', 'location': 'London', 'subject': 'CN=DLT Root CA,OU=DLT,O=DLT,L=London,C=GB', 'type': 'doorman-nms-notary', 'external_url_suffix': 'develop.local.com', 'cloud_provider': 'minikube', 'k8s': {'context': 'minikube', 'config_file': '/home/bevel/build/config'}, 'vault': {'url': 'http://192.168.1.21:8217', 'root_token': 's.WtD9absblrkGSMkMYh3OlbzD'}, 'gitops': {'git_protocol': 'ssh', 'git_url': 'ssh://git@github.com/SynthNetics/bevel.git', 'branch': 'test2', 'release_dir': 'platforms/r3-corda/releases/dev', 'chart_source': 'platforms/r3-corda/charts', 'git_repo': 'github.com/SynthNetics/bevel.git', 'username': 'SynthNetics', 'password': 'git_access_token', 'email': 'git@email.com', 'private_key': '/home/bevel/build/gitops'}, 'services': {'doorman': {'name': 'doorman', 'subject': 'CN=Corda Doorman CA,OU=DLT,O=DLT,L=Berlin,C=DE', 'db_subject': '/C=US/ST=California/L=San Francisco/O=My Company Ltd/OU=DBA/CN=mongoDB', 'type': 'doorman', 'ports': {'nodePort': 30030, 'servicePort': 8080, 'targetPort': 8080}, 'tls': 'on'}, 'nms': {'name': 'networkmap', 'subject': 'CN=Network Map,OU=FRA,O=FRA,L=Berlin,C=DE', 'db_subject': '/C=US/ST=California/L=San Francisco/O=My Company Ltd/OU=DBA/CN=mongoDB', 'type': 'networkmap', 'ports': {'nodePort': 30040, 'servicePort': 8080, 'targetPort': 8080}, 'tls': 'on'}, 'notary': {'name': 'notary', 'subject': 'O=Notary,OU=Notary,L=London,C=GB', 'type': 'notary', 'validating': False, 'p2p': {'port': 10002, 'targetPort': 10002, 'ambassador': 15010}, 'rpc': {'port': 10003, 'targetPort': 10003}, 'rpcadmin': {'port': 10005, 'targetPort': 10005}, 'dbtcp': {'port': 9101, 'targetPort': 1521}, 'dbweb': {'port': 8080, 'targetPort': 81}}}})  => {
    "ansible_loop_var": "item",
    "changed": false,
    "item": {
        "cloud_provider": "minikube",
        "country": "UK",
        "external_url_suffix": "develop.local.com",
        "gitops": {
            "branch": "test2",
            "chart_source": "platforms/r3-corda/charts",
            "email": "git@email.com",
            "git_protocol": "ssh",
            "git_repo": "github.com/SynthNetics/bevel.git",
            "git_url": "ssh://git@github.com/SynthNetics/bevel.git",
            "password": "git_access_token",
            "private_key": "/home/bevel/build/gitops",
            "release_dir": "platforms/r3-corda/releases/dev",
            "username": "SynthNetics"
        },
        "k8s": {
            "config_file": "/home/bevel/build/config",
            "context": "minikube"
        },
        "location": "London",
        "name": "supplychain",
        "organization": null,
        "services": {
            "doorman": {
                "db_subject": "/C=US/ST=California/L=San Francisco/O=My Company Ltd/OU=DBA/CN=mongoDB",
                "name": "doorman",
                "ports": {
                    "nodePort": 30030,
                    "servicePort": 8080,
                    "targetPort": 8080
                },
                "subject": "CN=Corda Doorman CA,OU=DLT,O=DLT,L=Berlin,C=DE",
                "tls": "on",
                "type": "doorman"
            },
            "nms": {
                "db_subject": "/C=US/ST=California/L=San Francisco/O=My Company Ltd/OU=DBA/CN=mongoDB",
                "name": "networkmap",
                "ports": {
                    "nodePort": 30040,
                    "servicePort": 8080,
                    "targetPort": 8080
                },
                "subject": "CN=Network Map,OU=FRA,O=FRA,L=Berlin,C=DE",
                "tls": "on",
                "type": "networkmap"
            },
            "notary": {
                "dbtcp": {
                    "port": 9101,
                    "targetPort": 1521
                },
                "dbweb": {
                    "port": 8080,
                    "targetPort": 81
                },
                "name": "notary",
                "p2p": {
                    "ambassador": 15010,
                    "port": 10002,
                    "targetPort": 10002
                },
                "rpc": {
                    "port": 10003,
                    "targetPort": 10003
                },
                "rpcadmin": {
                    "port": 10005,
                    "targetPort": 10005
                },
                "subject": "O=Notary,OU=Notary,L=London,C=GB",
                "type": "notary",
                "validating": false
            }
        },
        "state": "London",
        "subject": "CN=DLT Root CA,OU=DLT,O=DLT,L=London,C=GB",
        "type": "doorman-nms-notary",
        "vault": {
            "root_token": "s.WtD9absblrkGSMkMYh3OlbzD",
            "url": "http://192.168.1.21:8217"
        }
    },
    "skip_reason": "Conditional result was False"
}
skipping: [localhost] => (item={'organization': None, 'name': 'manufacturer', 'country': 'CH', 'state': 'Zurich', 'location': 'Zurich', 'subject': 'O=Manufacturer,OU=Manufacturer,L=Zurich,C=CH', 'type': 'node', 'external_url_suffix': 'develop.local.com', 'cloud_provider': 'minikube', 'k8s': {'context': 'minikube', 'config_file': '/home/bevel/build/config'}, 'vault': {'url': 'http://192.168.1.21:8217', 'root_token': 's.WtD9absblrkGSMkMYh3OlbzD'}, 'gitops': {'git_protocol': 'ssh', 'git_url': 'ssh://git@github.com/SynthNetics/bevel.git', 'branch': 'local', 'release_dir': 'platforms/r3-corda/releases/dev', 'chart_source': 'platforms/r3-corda/charts', 'git_repo': 'github.com/SynthNetics/bevel.git', 'username': 'SynthNetics', 'password': 'git_access_token', 'email': 'git@email.com', 'private_key': '/home/bevel/build/gitops'}, 'services': {'peers': [{'peer': None, 'name': 'manufacturer', 'subject': 'O=Manufacturer,OU=Manufacturer,L=47.38/8.54/Zurich,C=CH', 'type': 'node', 'p2p': {'port': 10002, 'targetPort': 10002, 'ambassador': 15020}, 'rpc': {'port': 10003, 'targetPort': 10003}, 'rpcadmin': {'port': 10005, 'targetPort': 10005}, 'dbtcp': {'port': 9101, 'targetPort': 1521}, 'dbweb': {'port': 8080, 'targetPort': 81}, 'springboot': {'targetPort': 20001, 'port': 20001}, 'expressapi': {'targetPort': 3000, 'port': 3000}}]}})  => {
    "ansible_loop_var": "item",
    "changed": false,
    "item": {
        "cloud_provider": "minikube",
        "country": "CH",
        "external_url_suffix": "develop.local.com",
        "gitops": {
            "branch": "local",
            "chart_source": "platforms/r3-corda/charts",
            "email": "git@email.com",
            "git_protocol": "ssh",
            "git_repo": "github.com/SynthNetics/bevel.git",
            "git_url": "ssh://git@github.com/SynthNetics/bevel.git",
            "password": "git_access_token",
            "private_key": "/home/bevel/build/gitops",
            "release_dir": "platforms/r3-corda/releases/dev",
            "username": "SynthNetics"
        },
        "k8s": {
            "config_file": "/home/bevel/build/config",
            "context": "minikube"
        },
        "location": "Zurich",
        "name": "manufacturer",
        "organization": null,
        "services": {
            "peers": [
                {
                    "dbtcp": {
                        "port": 9101,
                        "targetPort": 1521
                    },
                    "dbweb": {
                        "port": 8080,
                        "targetPort": 81
                    },
                    "expressapi": {
                        "port": 3000,
                        "targetPort": 3000
                    },
                    "name": "manufacturer",
                    "p2p": {
                        "ambassador": 15020,
                        "port": 10002,
                        "targetPort": 10002
                    },
                    "peer": null,
                    "rpc": {
                        "port": 10003,
                        "targetPort": 10003
                    },
                    "rpcadmin": {
                        "port": 10005,
                        "targetPort": 10005
                    },
                    "springboot": {
                        "port": 20001,
                        "targetPort": 20001
                    },
                    "subject": "O=Manufacturer,OU=Manufacturer,L=47.38/8.54/Zurich,C=CH",
                    "type": "node"
                }
            ]
        },
        "state": "Zurich",
        "subject": "O=Manufacturer,OU=Manufacturer,L=Zurich,C=CH",
        "type": "node",
        "vault": {
            "root_token": "s.WtD9absblrkGSMkMYh3OlbzD",
            "url": "http://192.168.1.21:8217"
        }
    },
    "skip_reason": "Conditional result was False"
}

TASK [include_role : setup/aws-auth] *******************************************
task path: /home/bevel/platforms/shared/configuration/environment-setup.yaml:48
skipping: [localhost] => (item={'organization': None, 'name': 'supplychain', 'country': 'UK', 'state': 'London', 'location': 'London', 'subject': 'CN=DLT Root CA,OU=DLT,O=DLT,L=London,C=GB', 'type': 'doorman-nms-notary', 'external_url_suffix': 'develop.local.com', 'cloud_provider': 'minikube', 'k8s': {'context': 'minikube', 'config_file': '/home/bevel/build/config'}, 'vault': {'url': 'http://192.168.1.21:8217', 'root_token': 's.WtD9absblrkGSMkMYh3OlbzD'}, 'gitops': {'git_protocol': 'ssh', 'git_url': 'ssh://git@github.com/SynthNetics/bevel.git', 'branch': 'test2', 'release_dir': 'platforms/r3-corda/releases/dev', 'chart_source': 'platforms/r3-corda/charts', 'git_repo': 'github.com/SynthNetics/bevel.git', 'username': 'SynthNetics', 'password': 'git_access_token', 'email': 'git@email.com', 'private_key': '/home/bevel/build/gitops'}, 'services': {'doorman': {'name': 'doorman', 'subject': 'CN=Corda Doorman CA,OU=DLT,O=DLT,L=Berlin,C=DE', 'db_subject': '/C=US/ST=California/L=San Francisco/O=My Company Ltd/OU=DBA/CN=mongoDB', 'type': 'doorman', 'ports': {'nodePort': 30030, 'servicePort': 8080, 'targetPort': 8080}, 'tls': 'on'}, 'nms': {'name': 'networkmap', 'subject': 'CN=Network Map,OU=FRA,O=FRA,L=Berlin,C=DE', 'db_subject': '/C=US/ST=California/L=San Francisco/O=My Company Ltd/OU=DBA/CN=mongoDB', 'type': 'networkmap', 'ports': {'nodePort': 30040, 'servicePort': 8080, 'targetPort': 8080}, 'tls': 'on'}, 'notary': {'name': 'notary', 'subject': 'O=Notary,OU=Notary,L=London,C=GB', 'type': 'notary', 'validating': False, 'p2p': {'port': 10002, 'targetPort': 10002, 'ambassador': 15010}, 'rpc': {'port': 10003, 'targetPort': 10003}, 'rpcadmin': {'port': 10005, 'targetPort': 10005}, 'dbtcp': {'port': 9101, 'targetPort': 1521}, 'dbweb': {'port': 8080, 'targetPort': 81}}}})  => {
    "ansible_loop_var": "item",
    "changed": false,
    "item": {
        "cloud_provider": "minikube",
        "country": "UK",
        "external_url_suffix": "develop.local.com",
        "gitops": {
            "branch": "test2",
            "chart_source": "platforms/r3-corda/charts",
            "email": "git@email.com",
            "git_protocol": "ssh",
            "git_repo": "github.com/SynthNetics/bevel.git",
            "git_url": "ssh://git@github.com/SynthNetics/bevel.git",
            "password": "git_access_token",
            "private_key": "/home/bevel/build/gitops",
            "release_dir": "platforms/r3-corda/releases/dev",
            "username": "SynthNetics"
        },
        "k8s": {
            "config_file": "/home/bevel/build/config",
            "context": "minikube"
        },
        "location": "London",
        "name": "supplychain",
        "organization": null,
        "services": {
            "doorman": {
                "db_subject": "/C=US/ST=California/L=San Francisco/O=My Company Ltd/OU=DBA/CN=mongoDB",
                "name": "doorman",
                "ports": {
                    "nodePort": 30030,
                    "servicePort": 8080,
                    "targetPort": 8080
                },
                "subject": "CN=Corda Doorman CA,OU=DLT,O=DLT,L=Berlin,C=DE",
                "tls": "on",
                "type": "doorman"
            },
            "nms": {
                "db_subject": "/C=US/ST=California/L=San Francisco/O=My Company Ltd/OU=DBA/CN=mongoDB",
                "name": "networkmap",
                "ports": {
                    "nodePort": 30040,
                    "servicePort": 8080,
                    "targetPort": 8080
                },
                "subject": "CN=Network Map,OU=FRA,O=FRA,L=Berlin,C=DE",
                "tls": "on",
                "type": "networkmap"
            },
            "notary": {
                "dbtcp": {
                    "port": 9101,
                    "targetPort": 1521
                },
                "dbweb": {
                    "port": 8080,
                    "targetPort": 81
                },
                "name": "notary",
                "p2p": {
                    "ambassador": 15010,
                    "port": 10002,
                    "targetPort": 10002
                },
                "rpc": {
                    "port": 10003,
                    "targetPort": 10003
                },
                "rpcadmin": {
                    "port": 10005,
                    "targetPort": 10005
                },
                "subject": "O=Notary,OU=Notary,L=London,C=GB",
                "type": "notary",
                "validating": false
            }
        },
        "state": "London",
        "subject": "CN=DLT Root CA,OU=DLT,O=DLT,L=London,C=GB",
        "type": "doorman-nms-notary",
        "vault": {
            "root_token": "s.WtD9absblrkGSMkMYh3OlbzD",
            "url": "http://192.168.1.21:8217"
        }
    },
    "skip_reason": "Conditional result was False"
}
skipping: [localhost] => (item={'organization': None, 'name': 'manufacturer', 'country': 'CH', 'state': 'Zurich', 'location': 'Zurich', 'subject': 'O=Manufacturer,OU=Manufacturer,L=Zurich,C=CH', 'type': 'node', 'external_url_suffix': 'develop.local.com', 'cloud_provider': 'minikube', 'k8s': {'context': 'minikube', 'config_file': '/home/bevel/build/config'}, 'vault': {'url': 'http://192.168.1.21:8217', 'root_token': 's.WtD9absblrkGSMkMYh3OlbzD'}, 'gitops': {'git_protocol': 'ssh', 'git_url': 'ssh://git@github.com/SynthNetics/bevel.git', 'branch': 'local', 'release_dir': 'platforms/r3-corda/releases/dev', 'chart_source': 'platforms/r3-corda/charts', 'git_repo': 'github.com/SynthNetics/bevel.git', 'username': 'SynthNetics', 'password': 'git_access_token', 'email': 'git@email.com', 'private_key': '/home/bevel/build/gitops'}, 'services': {'peers': [{'peer': None, 'name': 'manufacturer', 'subject': 'O=Manufacturer,OU=Manufacturer,L=47.38/8.54/Zurich,C=CH', 'type': 'node', 'p2p': {'port': 10002, 'targetPort': 10002, 'ambassador': 15020}, 'rpc': {'port': 10003, 'targetPort': 10003}, 'rpcadmin': {'port': 10005, 'targetPort': 10005}, 'dbtcp': {'port': 9101, 'targetPort': 1521}, 'dbweb': {'port': 8080, 'targetPort': 81}, 'springboot': {'targetPort': 20001, 'port': 20001}, 'expressapi': {'targetPort': 3000, 'port': 3000}}]}})  => {
    "ansible_loop_var": "item",
    "changed": false,
    "item": {
        "cloud_provider": "minikube",
        "country": "CH",
        "external_url_suffix": "develop.local.com",
        "gitops": {
            "branch": "local",
            "chart_source": "platforms/r3-corda/charts",
            "email": "git@email.com",
            "git_protocol": "ssh",
            "git_repo": "github.com/SynthNetics/bevel.git",
            "git_url": "ssh://git@github.com/SynthNetics/bevel.git",
            "password": "git_access_token",
            "private_key": "/home/bevel/build/gitops",
            "release_dir": "platforms/r3-corda/releases/dev",
            "username": "SynthNetics"
        },
        "k8s": {
            "config_file": "/home/bevel/build/config",
            "context": "minikube"
        },
        "location": "Zurich",
        "name": "manufacturer",
        "organization": null,
        "services": {
            "peers": [
                {
                    "dbtcp": {
                        "port": 9101,
                        "targetPort": 1521
                    },
                    "dbweb": {
                        "port": 8080,
                        "targetPort": 81
                    },
                    "expressapi": {
                        "port": 3000,
                        "targetPort": 3000
                    },
                    "name": "manufacturer",
                    "p2p": {
                        "ambassador": 15020,
                        "port": 10002,
                        "targetPort": 10002
                    },
                    "peer": null,
                    "rpc": {
                        "port": 10003,
                        "targetPort": 10003
                    },
                    "rpcadmin": {
                        "port": 10005,
                        "targetPort": 10005
                    },
                    "springboot": {
                        "port": 20001,
                        "targetPort": 20001
                    },
                    "subject": "O=Manufacturer,OU=Manufacturer,L=47.38/8.54/Zurich,C=CH",
                    "type": "node"
                }
            ]
        },
        "state": "Zurich",
        "subject": "O=Manufacturer,OU=Manufacturer,L=Zurich,C=CH",
        "type": "node",
        "vault": {
            "root_token": "s.WtD9absblrkGSMkMYh3OlbzD",
            "url": "http://192.168.1.21:8217"
        }
    },
    "skip_reason": "Conditional result was False"
}
META: ran handlers
META: ran handlers

PLAY [ansible_provisioners] ****************************************************
META: ran handlers

TASK [include_role : setup/flux] ***********************************************
task path: /home/bevel/platforms/shared/configuration/kubernetes-env-setup.yaml:18
redirecting (type: modules) ansible.builtin.k8s_info to kubernetes.core.k8s_info

TASK [aws-cli : register temporary directory] **********************************
task path: /home/bevel/platforms/shared/configuration/roles/setup/aws-cli/tasks/main.yaml:8
skipping: [localhost] => {
    "changed": false,
    "skip_reason": "Conditional result was False"
}

TASK [aws-cli : check aws cli] *************************************************
task path: /home/bevel/platforms/shared/configuration/roles/setup/aws-cli/tasks/main.yaml:15
skipping: [localhost] => {
    "changed": false,
    "skip_reason": "Conditional result was False"
}

TASK [aws-cli : download aws cli] **********************************************
task path: /home/bevel/platforms/shared/configuration/roles/setup/aws-cli/tasks/main.yaml:22
skipping: [localhost] => {
    "changed": false,
    "skip_reason": "Conditional result was False"
}

TASK [aws-cli : extract aws cli] ***********************************************
task path: /home/bevel/platforms/shared/configuration/roles/setup/aws-cli/tasks/main.yaml:31
skipping: [localhost] => {
    "changed": false,
    "skip_reason": "Conditional result was False"
}

TASK [create bin directory] ****************************************************
task path: /home/bevel/platforms/shared/configuration/roles/setup/aws-cli/tasks/main.yaml:40
skipping: [localhost] => {
    "changed": false,
    "skip_reason": "Conditional result was False"
}

TASK [aws-cli : install aws cli] ***********************************************
task path: /home/bevel/platforms/shared/configuration/roles/setup/aws-cli/tasks/main.yaml:50
skipping: [localhost] => {
    "changed": false,
    "skip_reason": "Conditional result was False"
}

TASK [aws-cli : configuring aws] ***********************************************
task path: /home/bevel/platforms/shared/configuration/roles/setup/aws-cli/tasks/main.yaml:58
skipping: [localhost] => {
    "changed": false,
    "skip_reason": "Conditional result was False"
}
META: 

TASK [aws-auth : register temporary directory] *********************************
task path: /home/bevel/platforms/shared/configuration/roles/setup/aws-auth/tasks/main.yaml:8
skipping: [localhost] => {
    "changed": false,
    "skip_reason": "Conditional result was False"
}

TASK [aws-auth : check aws-authenticator] **************************************
task path: /home/bevel/platforms/shared/configuration/roles/setup/aws-auth/tasks/main.yaml:15
skipping: [localhost] => {
    "changed": false,
    "skip_reason": "Conditional result was False"
}

TASK [aws-auth : create bin directory] *****************************************
task path: /home/bevel/platforms/shared/configuration/roles/setup/aws-auth/tasks/main.yaml:22
skipping: [localhost] => {
    "changed": false,
    "skip_reason": "Conditional result was False"
}

TASK [aws-auth : Install aws-authenticator] ************************************
task path: /home/bevel/platforms/shared/configuration/roles/setup/aws-auth/tasks/main.yaml:30
skipping: [localhost] => {
    "changed": false,
    "skip_reason": "Conditional result was False"
}

TASK [aws-auth : Test Kubernetes connection] ***********************************
task path: /home/bevel/platforms/shared/configuration/roles/setup/aws-auth/tasks/main.yaml:41
skipping: [localhost] => {
    "changed": false,
    "skip_reason": "Conditional result was False"
}
META: 

TASK [helm : register temporary directory] *************************************
task path: /home/bevel/platforms/shared/configuration/roles/setup/helm/tasks/main.yaml:8
<localhost> ESTABLISH LOCAL CONNECTION FOR USER: root
<localhost> EXEC /bin/sh -c 'echo ~root && sleep 0'
<localhost> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp `"&& mkdir "` echo /root/.ansible/tmp/ansible-tmp-1666377392.645379-1257-56086087513782 `" && echo ansible-tmp-1666377392.645379-1257-56086087513782="` echo /root/.ansible/tmp/ansible-tmp-1666377392.645379-1257-56086087513782 `" ) && sleep 0'
Using module file /usr/local/lib/python3.8/dist-packages/ansible/modules/tempfile.py
<localhost> PUT /root/.ansible/tmp/ansible-local-44xot_wk5/tmp86rfsqk5 TO /root/.ansible/tmp/ansible-tmp-1666377392.645379-1257-56086087513782/AnsiballZ_tempfile.py
<localhost> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1666377392.645379-1257-56086087513782/ /root/.ansible/tmp/ansible-tmp-1666377392.645379-1257-56086087513782/AnsiballZ_tempfile.py && sleep 0'
<localhost> EXEC /bin/sh -c '/usr/bin/python3 /root/.ansible/tmp/ansible-tmp-1666377392.645379-1257-56086087513782/AnsiballZ_tempfile.py && sleep 0'
<localhost> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1666377392.645379-1257-56086087513782/ > /dev/null 2>&1 && sleep 0'
changed: [localhost] => {
    "changed": true,
    "gid": 0,
    "group": "root",
    "invocation": {
        "module_args": {
            "path": null,
            "prefix": "ansible.",
            "state": "directory",
            "suffix": ""
        }
    },
    "mode": "0700",
    "owner": "root",
    "path": "/tmp/ansible.9eivq9cc",
    "size": 0,
    "state": "directory",
    "uid": 0
}

TASK [helm : check helm] *******************************************************
task path: /home/bevel/platforms/shared/configuration/roles/setup/helm/tasks/main.yaml:15
<localhost> ESTABLISH LOCAL CONNECTION FOR USER: root
<localhost> EXEC /bin/sh -c 'echo ~root && sleep 0'
<localhost> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp `"&& mkdir "` echo /root/.ansible/tmp/ansible-tmp-1666377392.8553283-1283-277969521897784 `" && echo ansible-tmp-1666377392.8553283-1283-277969521897784="` echo /root/.ansible/tmp/ansible-tmp-1666377392.8553283-1283-277969521897784 `" ) && sleep 0'
Using module file /usr/local/lib/python3.8/dist-packages/ansible/modules/stat.py
<localhost> PUT /root/.ansible/tmp/ansible-local-44xot_wk5/tmpcff8tokj TO /root/.ansible/tmp/ansible-tmp-1666377392.8553283-1283-277969521897784/AnsiballZ_stat.py
<localhost> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1666377392.8553283-1283-277969521897784/ /root/.ansible/tmp/ansible-tmp-1666377392.8553283-1283-277969521897784/AnsiballZ_stat.py && sleep 0'
<localhost> EXEC /bin/sh -c '/usr/bin/python3 /root/.ansible/tmp/ansible-tmp-1666377392.8553283-1283-277969521897784/AnsiballZ_stat.py && sleep 0'
<localhost> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1666377392.8553283-1283-277969521897784/ > /dev/null 2>&1 && sleep 0'
ok: [localhost] => {
    "changed": false,
    "invocation": {
        "module_args": {
            "checksum_algorithm": "sha1",
            "follow": false,
            "get_attributes": true,
            "get_checksum": true,
            "get_md5": false,
            "get_mime": true,
            "path": "/root/bin/helm"
        }
    },
    "stat": {
        "atime": 1666377381.8995507,
        "attr_flags": "",
        "attributes": [],
        "block_size": 4096,
        "blocks": 88104,
        "charset": "unknown",
        "checksum": "4ef98189af928450906546c6afd8719399a4c181",
        "ctime": 1666377381.6945505,
        "dev": 1048701,
        "device_type": 0,
        "executable": true,
        "exists": true,
        "gid": 0,
        "gr_name": "root",
        "inode": 11344109,
        "isblk": false,
        "ischr": false,
        "isdir": false,
        "isfifo": false,
        "isgid": false,
        "islnk": false,
        "isreg": true,
        "issock": false,
        "isuid": false,
        "mimetype": "unknown",
        "mode": "0755",
        "mtime": 1666377381.42255,
        "nlink": 1,
        "path": "/root/bin/helm",
        "pw_name": "root",
        "readable": true,
        "rgrp": true,
        "roth": true,
        "rusr": true,
        "size": 45109248,
        "uid": 0,
        "version": null,
        "wgrp": false,
        "woth": false,
        "writeable": true,
        "wusr": true,
        "xgrp": true,
        "xoth": true,
        "xusr": true
    }
}

TASK [helm : Install helm] *****************************************************
task path: /home/bevel/platforms/shared/configuration/roles/setup/helm/tasks/main.yaml:22
skipping: [localhost] => {
    "changed": false,
    "skip_reason": "Conditional result was False"
}

TASK [helm : Unzip helm archive] ***********************************************
task path: /home/bevel/platforms/shared/configuration/roles/setup/helm/tasks/main.yaml:33
skipping: [localhost] => {
    "changed": false,
    "skip_reason": "Conditional result was False"
}

TASK [create bin directory] ****************************************************
task path: /home/bevel/platforms/shared/configuration/roles/setup/helm/tasks/main.yaml:43
skipping: [localhost] => {
    "changed": false,
    "skip_reason": "Conditional result was False"
}

TASK [helm : Move helm binaries] ***********************************************
task path: /home/bevel/platforms/shared/configuration/roles/setup/helm/tasks/main.yaml:53
skipping: [localhost] => (item=helm)  => {
    "ansible_loop_var": "bin_item",
    "bin_item": "helm",
    "changed": false,
    "skip_reason": "Conditional result was False"
}

TASK [helm : Test helm installation] *******************************************
task path: /home/bevel/platforms/shared/configuration/roles/setup/helm/tasks/main.yaml:64
<localhost> ESTABLISH LOCAL CONNECTION FOR USER: root
<localhost> EXEC /bin/sh -c 'echo ~root && sleep 0'
<localhost> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp `"&& mkdir "` echo /root/.ansible/tmp/ansible-tmp-1666377393.2942328-1318-24468233451806 `" && echo ansible-tmp-1666377393.2942328-1318-24468233451806="` echo /root/.ansible/tmp/ansible-tmp-1666377393.2942328-1318-24468233451806 `" ) && sleep 0'
Using module file /usr/local/lib/python3.8/dist-packages/ansible/modules/command.py
<localhost> PUT /root/.ansible/tmp/ansible-local-44xot_wk5/tmpab9dyj1_ TO /root/.ansible/tmp/ansible-tmp-1666377393.2942328-1318-24468233451806/AnsiballZ_command.py
<localhost> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1666377393.2942328-1318-24468233451806/ /root/.ansible/tmp/ansible-tmp-1666377393.2942328-1318-24468233451806/AnsiballZ_command.py && sleep 0'
<localhost> EXEC /bin/sh -c '/usr/bin/python3 /root/.ansible/tmp/ansible-tmp-1666377393.2942328-1318-24468233451806/AnsiballZ_command.py && sleep 0'
<localhost> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1666377393.2942328-1318-24468233451806/ > /dev/null 2>&1 && sleep 0'
ok: [localhost] => {
    "changed": false,
    "cmd": [
        "helm",
        "version",
        "--client",
        "--short"
    ],
    "delta": "0:00:00.039233",
    "end": "2022-10-21 18:36:33.483735",
    "invocation": {
        "module_args": {
            "_raw_params": "helm version --client --short",
            "_uses_shell": false,
            "argv": null,
            "chdir": null,
            "creates": null,
            "executable": null,
            "removes": null,
            "stdin": null,
            "stdin_add_newline": true,
            "strip_empty_ends": true,
            "warn": false
        }
    },
    "msg": "",
    "rc": 0,
    "start": "2022-10-21 18:36:33.444502",
    "stderr": "",
    "stderr_lines": [],
    "stdout": "v3.6.2+gee407bd",
    "stdout_lines": [
        "v3.6.2+gee407bd"
    ]
}
META: role_complete for localhost

TASK [kubectl : register temporary directory] **********************************
task path: /home/bevel/platforms/shared/configuration/roles/setup/kubectl/tasks/main.yaml:8
<localhost> ESTABLISH LOCAL CONNECTION FOR USER: root
<localhost> EXEC /bin/sh -c 'echo ~root && sleep 0'
<localhost> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp `"&& mkdir "` echo /root/.ansible/tmp/ansible-tmp-1666377393.558771-1351-259296996960758 `" && echo ansible-tmp-1666377393.558771-1351-259296996960758="` echo /root/.ansible/tmp/ansible-tmp-1666377393.558771-1351-259296996960758 `" ) && sleep 0'
Using module file /usr/local/lib/python3.8/dist-packages/ansible/modules/tempfile.py
<localhost> PUT /root/.ansible/tmp/ansible-local-44xot_wk5/tmp5ccy6x8f TO /root/.ansible/tmp/ansible-tmp-1666377393.558771-1351-259296996960758/AnsiballZ_tempfile.py
<localhost> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1666377393.558771-1351-259296996960758/ /root/.ansible/tmp/ansible-tmp-1666377393.558771-1351-259296996960758/AnsiballZ_tempfile.py && sleep 0'
<localhost> EXEC /bin/sh -c '/usr/bin/python3 /root/.ansible/tmp/ansible-tmp-1666377393.558771-1351-259296996960758/AnsiballZ_tempfile.py && sleep 0'
<localhost> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1666377393.558771-1351-259296996960758/ > /dev/null 2>&1 && sleep 0'
changed: [localhost] => {
    "changed": true,
    "gid": 0,
    "group": "root",
    "invocation": {
        "module_args": {
            "path": null,
            "prefix": "ansible.",
            "state": "directory",
            "suffix": ""
        }
    },
    "mode": "0700",
    "owner": "root",
    "path": "/tmp/ansible.qusaogdp",
    "size": 0,
    "state": "directory",
    "uid": 0
}

TASK [kubectl : check kubectl] *************************************************
task path: /home/bevel/platforms/shared/configuration/roles/setup/kubectl/tasks/main.yaml:15
<localhost> ESTABLISH LOCAL CONNECTION FOR USER: root
<localhost> EXEC /bin/sh -c 'echo ~root && sleep 0'
<localhost> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp `"&& mkdir "` echo /root/.ansible/tmp/ansible-tmp-1666377393.771677-1377-223761697258115 `" && echo ansible-tmp-1666377393.771677-1377-223761697258115="` echo /root/.ansible/tmp/ansible-tmp-1666377393.771677-1377-223761697258115 `" ) && sleep 0'
Using module file /usr/local/lib/python3.8/dist-packages/ansible/modules/stat.py
<localhost> PUT /root/.ansible/tmp/ansible-local-44xot_wk5/tmp7vjooeqm TO /root/.ansible/tmp/ansible-tmp-1666377393.771677-1377-223761697258115/AnsiballZ_stat.py
<localhost> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1666377393.771677-1377-223761697258115/ /root/.ansible/tmp/ansible-tmp-1666377393.771677-1377-223761697258115/AnsiballZ_stat.py && sleep 0'
<localhost> EXEC /bin/sh -c '/usr/bin/python3 /root/.ansible/tmp/ansible-tmp-1666377393.771677-1377-223761697258115/AnsiballZ_stat.py && sleep 0'
<localhost> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1666377393.771677-1377-223761697258115/ > /dev/null 2>&1 && sleep 0'
ok: [localhost] => {
    "changed": false,
    "invocation": {
        "module_args": {
            "checksum_algorithm": "sha1",
            "follow": false,
            "get_attributes": true,
            "get_checksum": true,
            "get_md5": false,
            "get_mime": true,
            "path": "/root/bin/kubectl"
        }
    },
    "stat": {
        "atime": 1666377375.6785426,
        "attr_flags": "",
        "attributes": [],
        "block_size": 4096,
        "blocks": 83960,
        "charset": "unknown",
        "checksum": "371d59fce375bd7d74256c136280eeef732d7611",
        "ctime": 1666377375.4775422,
        "dev": 1048701,
        "device_type": 0,
        "executable": true,
        "exists": true,
        "gid": 0,
        "gr_name": "root",
        "inode": 11344018,
        "isblk": false,
        "ischr": false,
        "isdir": false,
        "isfifo": false,
        "isgid": false,
        "islnk": false,
        "isreg": true,
        "issock": false,
        "isuid": false,
        "mimetype": "unknown",
        "mode": "0755",
        "mtime": 1613566452.0,
        "nlink": 1,
        "path": "/root/bin/kubectl",
        "pw_name": "root",
        "readable": true,
        "rgrp": true,
        "roth": true,
        "rusr": true,
        "size": 42987520,
        "uid": 0,
        "version": null,
        "wgrp": false,
        "woth": false,
        "writeable": true,
        "wusr": true,
        "xgrp": true,
        "xoth": true,
        "xusr": true
    }
}

TASK [kubectl : Download kubectl binary] ***************************************
task path: /home/bevel/platforms/shared/configuration/roles/setup/kubectl/tasks/main.yaml:22
skipping: [localhost] => {
    "changed": false,
    "skip_reason": "Conditional result was False"
}

TASK [kubectl : Unarchive kubernetes-client] ***********************************
task path: /home/bevel/platforms/shared/configuration/roles/setup/kubectl/tasks/main.yaml:31
skipping: [localhost] => {
    "changed": false,
    "skip_reason": "Conditional result was False"
}

TASK [kubectl : create bin directory] ******************************************
task path: /home/bevel/platforms/shared/configuration/roles/setup/kubectl/tasks/main.yaml:39
skipping: [localhost] => {
    "changed": false,
    "skip_reason": "Conditional result was False"
}

TASK [kubectl : Copy kubectl binary to destination directory] ******************
task path: /home/bevel/platforms/shared/configuration/roles/setup/kubectl/tasks/main.yaml:47
skipping: [localhost] => (item=kubectl)  => {
    "ansible_loop_var": "bin_item",
    "bin_item": "kubectl",
    "changed": false,
    "skip_reason": "Conditional result was False"
}

TASK [kubectl : Test kubectl installation] *************************************
task path: /home/bevel/platforms/shared/configuration/roles/setup/kubectl/tasks/main.yaml:61
<localhost> ESTABLISH LOCAL CONNECTION FOR USER: root
<localhost> EXEC /bin/sh -c 'echo ~root && sleep 0'
<localhost> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp `"&& mkdir "` echo /root/.ansible/tmp/ansible-tmp-1666377394.2127666-1412-160972601023249 `" && echo ansible-tmp-1666377394.2127666-1412-160972601023249="` echo /root/.ansible/tmp/ansible-tmp-1666377394.2127666-1412-160972601023249 `" ) && sleep 0'
Using module file /usr/local/lib/python3.8/dist-packages/ansible/modules/command.py
<localhost> PUT /root/.ansible/tmp/ansible-local-44xot_wk5/tmpxy2j7701 TO /root/.ansible/tmp/ansible-tmp-1666377394.2127666-1412-160972601023249/AnsiballZ_command.py
<localhost> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1666377394.2127666-1412-160972601023249/ /root/.ansible/tmp/ansible-tmp-1666377394.2127666-1412-160972601023249/AnsiballZ_command.py && sleep 0'
<localhost> EXEC /bin/sh -c '/usr/bin/python3 /root/.ansible/tmp/ansible-tmp-1666377394.2127666-1412-160972601023249/AnsiballZ_command.py && sleep 0'
<localhost> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1666377394.2127666-1412-160972601023249/ > /dev/null 2>&1 && sleep 0'
ok: [localhost] => {
    "changed": false,
    "cmd": [
        "kubectl",
        "version",
        "--client",
        "--short"
    ],
    "delta": "0:00:00.049652",
    "end": "2022-10-21 18:36:34.399556",
    "invocation": {
        "module_args": {
            "_raw_params": "kubectl version --client --short",
            "_uses_shell": false,
            "argv": null,
            "chdir": null,
            "creates": null,
            "executable": null,
            "removes": null,
            "stdin": null,
            "stdin_add_newline": true,
            "strip_empty_ends": true,
            "warn": false
        }
    },
    "msg": "",
    "rc": 0,
    "start": "2022-10-21 18:36:34.349904",
    "stderr": "",
    "stderr_lines": [],
    "stdout": "Client Version: v1.19.8",
    "stdout_lines": [
        "Client Version: v1.19.8"
    ]
}

TASK [kubectl : Changing the current context namespace to default] *************
task path: /home/bevel/platforms/shared/configuration/roles/setup/kubectl/tasks/main.yaml:67
<localhost> ESTABLISH LOCAL CONNECTION FOR USER: root
<localhost> EXEC /bin/sh -c 'echo ~root && sleep 0'
<localhost> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp `"&& mkdir "` echo /root/.ansible/tmp/ansible-tmp-1666377394.4708385-1445-196374311467089 `" && echo ansible-tmp-1666377394.4708385-1445-196374311467089="` echo /root/.ansible/tmp/ansible-tmp-1666377394.4708385-1445-196374311467089 `" ) && sleep 0'
Using module file /usr/local/lib/python3.8/dist-packages/ansible/modules/command.py
<localhost> PUT /root/.ansible/tmp/ansible-local-44xot_wk5/tmpsx5wu5zg TO /root/.ansible/tmp/ansible-tmp-1666377394.4708385-1445-196374311467089/AnsiballZ_command.py
<localhost> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1666377394.4708385-1445-196374311467089/ /root/.ansible/tmp/ansible-tmp-1666377394.4708385-1445-196374311467089/AnsiballZ_command.py && sleep 0'
<localhost> EXEC /bin/sh -c '/usr/bin/python3 /root/.ansible/tmp/ansible-tmp-1666377394.4708385-1445-196374311467089/AnsiballZ_command.py && sleep 0'
<localhost> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1666377394.4708385-1445-196374311467089/ > /dev/null 2>&1 && sleep 0'
changed: [localhost] => {
    "changed": true,
    "cmd": "KUBECONFIG=/home/bevel/build/config kubectl config use-context minikube\nKUBECONFIG=/home/bevel/build/config kubectl config set-context --current --namespace=default\n",
    "delta": "0:00:00.102461",
    "end": "2022-10-21 18:36:34.714636",
    "invocation": {
        "module_args": {
            "_raw_params": "KUBECONFIG=/home/bevel/build/config kubectl config use-context minikube\nKUBECONFIG=/home/bevel/build/config kubectl config set-context --current --namespace=default\n",
            "_uses_shell": true,
            "argv": null,
            "chdir": null,
            "creates": null,
            "executable": null,
            "removes": null,
            "stdin": null,
            "stdin_add_newline": true,
            "strip_empty_ends": true,
            "warn": false
        }
    },
    "msg": "",
    "rc": 0,
    "start": "2022-10-21 18:36:34.612175",
    "stderr": "",
    "stderr_lines": [],
    "stdout": "Switched to context \"minikube\".\nContext \"minikube\" modified.",
    "stdout_lines": [
        "Switched to context \"minikube\".",
        "Context \"minikube\" modified."
    ]
}
META: role_complete for localhost

TASK [setup/flux : Install flux cli] *******************************************
task path: /home/bevel/platforms/shared/configuration/roles/setup/flux/tasks/main.yaml:8
<localhost> ESTABLISH LOCAL CONNECTION FOR USER: root
<localhost> EXEC /bin/sh -c 'echo ~root && sleep 0'
<localhost> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp `"&& mkdir "` echo /root/.ansible/tmp/ansible-tmp-1666377394.788358-1486-101639614140081 `" && echo ansible-tmp-1666377394.788358-1486-101639614140081="` echo /root/.ansible/tmp/ansible-tmp-1666377394.788358-1486-101639614140081 `" ) && sleep 0'
Using module file /usr/local/lib/python3.8/dist-packages/ansible/modules/command.py
<localhost> PUT /root/.ansible/tmp/ansible-local-44xot_wk5/tmpkmvl3zy6 TO /root/.ansible/tmp/ansible-tmp-1666377394.788358-1486-101639614140081/AnsiballZ_command.py
<localhost> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1666377394.788358-1486-101639614140081/ /root/.ansible/tmp/ansible-tmp-1666377394.788358-1486-101639614140081/AnsiballZ_command.py && sleep 0'
<localhost> EXEC /bin/sh -c 'FLUX_VERSION=0.30.2 /usr/bin/python3 /root/.ansible/tmp/ansible-tmp-1666377394.788358-1486-101639614140081/AnsiballZ_command.py && sleep 0'
<localhost> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1666377394.788358-1486-101639614140081/ > /dev/null 2>&1 && sleep 0'
changed: [localhost] => {
    "changed": true,
    "cmd": "curl -s https://fluxcd.io/install.sh | bash -s ~/bin\n",
    "delta": "0:00:02.591385",
    "end": "2022-10-21 18:36:37.518776",
    "invocation": {
        "module_args": {
            "_raw_params": "curl -s https://fluxcd.io/install.sh | bash -s ~/bin\n",
            "_uses_shell": true,
            "argv": null,
            "chdir": null,
            "creates": null,
            "executable": null,
            "removes": null,
            "stdin": null,
            "stdin_add_newline": true,
            "strip_empty_ends": true,
            "warn": false
        }
    },
    "msg": "",
    "rc": 0,
    "start": "2022-10-21 18:36:34.927391",
    "stderr": "",
    "stderr_lines": [],
    "stdout": "[INFO]  Downloading metadata https://api.github.com/repos/fluxcd/flux2/releases/tags/v0.30.2\n[INFO]  Using 0.30.2 as release\n[INFO]  Downloading hash https://github.com/fluxcd/flux2/releases/download/v0.30.2/flux_0.30.2_checksums.txt\n[INFO]  Downloading binary https://github.com/fluxcd/flux2/releases/download/v0.30.2/flux_0.30.2_linux_amd64.tar.gz\n[INFO]  Verifying binary download\n[INFO]  Installing flux to /root/bin/flux",
    "stdout_lines": [
        "[INFO]  Downloading metadata https://api.github.com/repos/fluxcd/flux2/releases/tags/v0.30.2",
        "[INFO]  Using 0.30.2 as release",
        "[INFO]  Downloading hash https://github.com/fluxcd/flux2/releases/download/v0.30.2/flux_0.30.2_checksums.txt",
        "[INFO]  Downloading binary https://github.com/fluxcd/flux2/releases/download/v0.30.2/flux_0.30.2_linux_amd64.tar.gz",
        "[INFO]  Verifying binary download",
        "[INFO]  Installing flux to /root/bin/flux"
    ]
}

TASK [setup/flux : Update the ssh host to known hosts] *************************
task path: /home/bevel/platforms/shared/configuration/roles/setup/flux/tasks/main.yaml:14
<localhost> ESTABLISH LOCAL CONNECTION FOR USER: root
<localhost> EXEC /bin/sh -c 'echo ~root && sleep 0'
<localhost> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp `"&& mkdir "` echo /root/.ansible/tmp/ansible-tmp-1666377397.5921333-1545-90784498209941 `" && echo ansible-tmp-1666377397.5921333-1545-90784498209941="` echo /root/.ansible/tmp/ansible-tmp-1666377397.5921333-1545-90784498209941 `" ) && sleep 0'
Using module file /usr/local/lib/python3.8/dist-packages/ansible/modules/command.py
<localhost> PUT /root/.ansible/tmp/ansible-local-44xot_wk5/tmpjhksuyu3 TO /root/.ansible/tmp/ansible-tmp-1666377397.5921333-1545-90784498209941/AnsiballZ_command.py
<localhost> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1666377397.5921333-1545-90784498209941/ /root/.ansible/tmp/ansible-tmp-1666377397.5921333-1545-90784498209941/AnsiballZ_command.py && sleep 0'
<localhost> EXEC /bin/sh -c '/usr/bin/python3 /root/.ansible/tmp/ansible-tmp-1666377397.5921333-1545-90784498209941/AnsiballZ_command.py && sleep 0'
<localhost> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1666377397.5921333-1545-90784498209941/ > /dev/null 2>&1 && sleep 0'
changed: [localhost] => {
    "changed": true,
    "cmd": "mkdir -p ~/.ssh/\nssh-keygen -R github.com\nssh-keyscan github.com >> ~/.ssh/known_hosts\n",
    "delta": "0:00:00.365905",
    "end": "2022-10-21 18:36:38.098462",
    "invocation": {
        "module_args": {
            "_raw_params": "mkdir -p ~/.ssh/\nssh-keygen -R github.com\nssh-keyscan github.com >> ~/.ssh/known_hosts\n",
            "_uses_shell": true,
            "argv": null,
            "chdir": null,
            "creates": null,
            "executable": null,
            "removes": null,
            "stdin": null,
            "stdin_add_newline": true,
            "strip_empty_ends": true,
            "warn": false
        }
    },
    "msg": "",
    "rc": 0,
    "start": "2022-10-21 18:36:37.732557",
    "stderr": "Cannot stat /root/.ssh/known_hosts: No such file or directory\r\n# github.com:22 SSH-2.0-babeld-2f5f2727\n# github.com:22 SSH-2.0-babeld-2f5f2727\n# github.com:22 SSH-2.0-babeld-2f5f2727\n# github.com:22 SSH-2.0-babeld-2f5f2727\n# github.com:22 SSH-2.0-babeld-2f5f2727",
    "stderr_lines": [
        "Cannot stat /root/.ssh/known_hosts: No such file or directory",
        "# github.com:22 SSH-2.0-babeld-2f5f2727",
        "# github.com:22 SSH-2.0-babeld-2f5f2727",
        "# github.com:22 SSH-2.0-babeld-2f5f2727",
        "# github.com:22 SSH-2.0-babeld-2f5f2727",
        "# github.com:22 SSH-2.0-babeld-2f5f2727"
    ],
    "stdout": "",
    "stdout_lines": []
}

TASK [setup/flux : Install flux cli and bootstrap flux v2] *********************
task path: /home/bevel/platforms/shared/configuration/roles/setup/flux/tasks/main.yaml:23
skipping: [localhost] => {
    "changed": false,
    "skip_reason": "Conditional result was False"
}

TASK [setup/flux : Install flux cli and bootstrap flux v2] *********************
task path: /home/bevel/platforms/shared/configuration/roles/setup/flux/tasks/main.yaml:40
<localhost> ESTABLISH LOCAL CONNECTION FOR USER: root
<localhost> EXEC /bin/sh -c 'echo ~root && sleep 0'
<localhost> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp `"&& mkdir "` echo /root/.ansible/tmp/ansible-tmp-1666377398.229828-1577-254690996587436 `" && echo ansible-tmp-1666377398.229828-1577-254690996587436="` echo /root/.ansible/tmp/ansible-tmp-1666377398.229828-1577-254690996587436 `" ) && sleep 0'
Using module file /usr/local/lib/python3.8/dist-packages/ansible/modules/command.py
<localhost> PUT /root/.ansible/tmp/ansible-local-44xot_wk5/tmpm758qzpr TO /root/.ansible/tmp/ansible-tmp-1666377398.229828-1577-254690996587436/AnsiballZ_command.py
<localhost> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1666377398.229828-1577-254690996587436/ /root/.ansible/tmp/ansible-tmp-1666377398.229828-1577-254690996587436/AnsiballZ_command.py && sleep 0'
<localhost> EXEC /bin/sh -c 'KUBECONFIG=/home/bevel/build/config /usr/bin/python3 /root/.ansible/tmp/ansible-tmp-1666377398.229828-1577-254690996587436/AnsiballZ_command.py && sleep 0'
<localhost> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1666377398.229828-1577-254690996587436/ > /dev/null 2>&1 && sleep 0'
changed: [localhost] => {
    "changed": true,
    "cmd": "yes | ~/bin/flux bootstrap git --url=ssh://git@github.com/SynthNetics/bevel.git --branch=test2 --path=platforms/r3-corda/releases/dev --private-key-file=/home/bevel/build/gitops --namespace=flux-local\n",
    "delta": "0:00:27.208665",
    "end": "2022-10-21 18:37:05.579704",
    "invocation": {
        "module_args": {
            "_raw_params": "yes | ~/bin/flux bootstrap git --url=ssh://git@github.com/SynthNetics/bevel.git --branch=test2 --path=platforms/r3-corda/releases/dev --private-key-file=/home/bevel/build/gitops --namespace=flux-local\n",
            "_uses_shell": true,
            "argv": null,
            "chdir": null,
            "creates": null,
            "executable": null,
            "removes": null,
            "stdin": null,
            "stdin_add_newline": true,
            "strip_empty_ends": true,
            "warn": false
        }
    },
    "msg": "",
    "rc": 0,
    "start": "2022-10-21 18:36:38.371039",
    "stderr": " cloning branch \"test2\" from Git repository \"ssh://git@github.com/SynthNetics/bevel.git\"\n cloned repository\n generating component manifests\n generated component manifests\n committed sync manifests to \"test2\" (\"aa4e2f756ab55435837b6a75c92f1388def81903\")\n pushing component manifests to \"ssh://git@github.com/SynthNetics/bevel.git\"\n reconciled components\n determining if source secret \"flux-local/flux-system\" exists\n generating source secret\n public key: ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABgQCtvwaiF3TXDHBO2+eFc+EhmG3Zp0rlFXHUnxEB2Z12VYJu4TP2Sa+IY4oMVtf58x+k4JRwCacgfMzS6Ur57kwtM7HXlfOiK6uUM20qvy6pDMtzflri0raikwyzm8y1HqjamC4imU+95dMVZ4FEXEOM7dGjbBERziLeiPFrZOzjyGI/RJTgQ4ryH65L889d6LhZEk9g9mXS2QtdKOlw4+EwtzE5xx58aeKBPYqZVdNNVZAMMQQjfN2RqR7D56mOQrOoPjTGELQPzwPlv/i7rHpIH1+XXc7YTZ5kM1j9RmQg7UAkan3zU7VZoW5+v1QepvS9sI2WMJtdYZmoGcMiyxp6bxJt7qmSlAORUBciu4E+tLH+ymKvOZtRjWFo6pkg69A9fWKqoz1t+mzQv8cLXp6M5E6E/wbGMcQy5sEvX/S2DSRkKS/8U2Qf/TQa5jnjbf3+gmvRXE4MPz1O0cOc1Kjr2MTPjvOtc5FvrMi64LjraMRYMAizCutlCetv9mqZtns=\n applying source secret \"flux-local/flux-system\"\n reconciled source secret\n generating sync manifests\n generated sync manifests\n committed sync manifests to \"test2\" (\"6369271331f545ad29026b87abcdf41e93551736\")\n pushing sync manifests to \"ssh://git@github.com/SynthNetics/bevel.git\"\n applying sync manifests\n reconciled sync configuration\n waiting for Kustomization \"flux-local/flux-local\" to be reconciled\n Kustomization reconciled successfully\n confirming components are healthy\n helm-controller: deployment ready\n kustomize-controller: deployment ready\n notification-controller: deployment ready\n source-controller: deployment ready\n all components are healthy",
    "stderr_lines": [
        " cloning branch \"test2\" from Git repository \"ssh://git@github.com/SynthNetics/bevel.git\"",
        " cloned repository",
        " generating component manifests",
        " generated component manifests",
        " committed sync manifests to \"test2\" (\"aa4e2f756ab55435837b6a75c92f1388def81903\")",
        " pushing component manifests to \"ssh://git@github.com/SynthNetics/bevel.git\"",
        " reconciled components",
        " determining if source secret \"flux-local/flux-system\" exists",
        " generating source secret",
        " public key: ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABgQCtvwaiF3TXDHBO2+eFc+EhmG3Zp0rlFXHUnxEB2Z12VYJu4TP2Sa+IY4oMVtf58x+k4JRwCacgfMzS6Ur57kwtM7HXlfOiK6uUM20qvy6pDMtzflri0raikwyzm8y1HqjamC4imU+95dMVZ4FEXEOM7dGjbBERziLeiPFrZOzjyGI/RJTgQ4ryH65L889d6LhZEk9g9mXS2QtdKOlw4+EwtzE5xx58aeKBPYqZVdNNVZAMMQQjfN2RqR7D56mOQrOoPjTGELQPzwPlv/i7rHpIH1+XXc7YTZ5kM1j9RmQg7UAkan3zU7VZoW5+v1QepvS9sI2WMJtdYZmoGcMiyxp6bxJt7qmSlAORUBciu4E+tLH+ymKvOZtRjWFo6pkg69A9fWKqoz1t+mzQv8cLXp6M5E6E/wbGMcQy5sEvX/S2DSRkKS/8U2Qf/TQa5jnjbf3+gmvRXE4MPz1O0cOc1Kjr2MTPjvOtc5FvrMi64LjraMRYMAizCutlCetv9mqZtns=",
        " applying source secret \"flux-local/flux-system\"",
        " reconciled source secret",
        " generating sync manifests",
        " generated sync manifests",
        " committed sync manifests to \"test2\" (\"6369271331f545ad29026b87abcdf41e93551736\")",
        " pushing sync manifests to \"ssh://git@github.com/SynthNetics/bevel.git\"",
        " applying sync manifests",
        " reconciled sync configuration",
        " waiting for Kustomization \"flux-local/flux-local\" to be reconciled",
        " Kustomization reconciled successfully",
        " confirming components are healthy",
        " helm-controller: deployment ready",
        " kustomize-controller: deployment ready",
        " notification-controller: deployment ready",
        " source-controller: deployment ready",
        " all components are healthy"
    ],
    "stdout": "\u001b[?25l\u001b[2K\r\u001b[1m\u001b[34m?\u001b[0m \u001b[1mPlease give the key access to your repository\u001b[0m? \u001b[2m[y/N]\u001b[0m \n\u001b[1A\u001b[2K\r\u001b[2K\r\u001b[1m\u001b[34m?\u001b[0m \u001b[1mPlease give the key access to your repository\u001b[0m? \u001b[2m[y/N]\u001b[0m y\n\u001b[1A\u001b[2K\r\u001b[2K\r\u001b[1m\u001b[34m?\u001b[0m \u001b[1mPlease give the key access to your repository\u001b[0m? \u001b[2m[y/N]\u001b[0m y\n\u001b[1A\u001b[2K\r\u001b[2K\r\u001b[2mPlease give the key access to your repository\u001b[0m\u001b[2m:\u001b[0m y\n\u001b[?25h",
    "stdout_lines": [
        "\u001b[?25l\u001b[2K",
        "\u001b[1m\u001b[34m?\u001b[0m \u001b[1mPlease give the key access to your repository\u001b[0m? \u001b[2m[y/N]\u001b[0m ",
        "\u001b[1A\u001b[2K",
        "\u001b[2K",
        "\u001b[1m\u001b[34m?\u001b[0m \u001b[1mPlease give the key access to your repository\u001b[0m? \u001b[2m[y/N]\u001b[0m y",
        "\u001b[1A\u001b[2K",
        "\u001b[2K",
        "\u001b[1m\u001b[34m?\u001b[0m \u001b[1mPlease give the key access to your repository\u001b[0m? \u001b[2m[y/N]\u001b[0m y",
        "\u001b[1A\u001b[2K",
        "\u001b[2K",
        "\u001b[2mPlease give the key access to your repository\u001b[0m\u001b[2m:\u001b[0m y",
        "\u001b[?25h"
    ]
}
META: role_complete for localhost

TASK [aws-cli : register temporary directory] **********************************
task path: /home/bevel/platforms/shared/configuration/roles/setup/aws-cli/tasks/main.yaml:8
skipping: [localhost] => {
    "changed": false,
    "skip_reason": "Conditional result was False"
}

TASK [aws-cli : check aws cli] *************************************************
task path: /home/bevel/platforms/shared/configuration/roles/setup/aws-cli/tasks/main.yaml:15
skipping: [localhost] => {
    "changed": false,
    "skip_reason": "Conditional result was False"
}

TASK [aws-cli : download aws cli] **********************************************
task path: /home/bevel/platforms/shared/configuration/roles/setup/aws-cli/tasks/main.yaml:22
skipping: [localhost] => {
    "changed": false,
    "skip_reason": "Conditional result was False"
}

TASK [aws-cli : extract aws cli] ***********************************************
task path: /home/bevel/platforms/shared/configuration/roles/setup/aws-cli/tasks/main.yaml:31
skipping: [localhost] => {
    "changed": false,
    "skip_reason": "Conditional result was False"
}

TASK [create bin directory] ****************************************************
task path: /home/bevel/platforms/shared/configuration/roles/setup/aws-cli/tasks/main.yaml:40
skipping: [localhost] => {
    "changed": false,
    "skip_reason": "Conditional result was False"
}

TASK [aws-cli : install aws cli] ***********************************************
task path: /home/bevel/platforms/shared/configuration/roles/setup/aws-cli/tasks/main.yaml:50
skipping: [localhost] => {
    "changed": false,
    "skip_reason": "Conditional result was False"
}

TASK [aws-cli : configuring aws] ***********************************************
task path: /home/bevel/platforms/shared/configuration/roles/setup/aws-cli/tasks/main.yaml:58
skipping: [localhost] => {
    "changed": false,
    "skip_reason": "Conditional result was False"
}
META: 

TASK [aws-auth : register temporary directory] *********************************
task path: /home/bevel/platforms/shared/configuration/roles/setup/aws-auth/tasks/main.yaml:8
skipping: [localhost] => {
    "changed": false,
    "skip_reason": "Conditional result was False"
}

TASK [aws-auth : check aws-authenticator] **************************************
task path: /home/bevel/platforms/shared/configuration/roles/setup/aws-auth/tasks/main.yaml:15
skipping: [localhost] => {
    "changed": false,
    "skip_reason": "Conditional result was False"
}

TASK [aws-auth : create bin directory] *****************************************
task path: /home/bevel/platforms/shared/configuration/roles/setup/aws-auth/tasks/main.yaml:22
skipping: [localhost] => {
    "changed": false,
    "skip_reason": "Conditional result was False"
}

TASK [aws-auth : Install aws-authenticator] ************************************
task path: /home/bevel/platforms/shared/configuration/roles/setup/aws-auth/tasks/main.yaml:30
skipping: [localhost] => {
    "changed": false,
    "skip_reason": "Conditional result was False"
}

TASK [aws-auth : Test Kubernetes connection] ***********************************
task path: /home/bevel/platforms/shared/configuration/roles/setup/aws-auth/tasks/main.yaml:41
skipping: [localhost] => {
    "changed": false,
    "skip_reason": "Conditional result was False"
}
META: 

TASK [setup/flux : Install flux cli] *******************************************
task path: /home/bevel/platforms/shared/configuration/roles/setup/flux/tasks/main.yaml:8
<localhost> ESTABLISH LOCAL CONNECTION FOR USER: root
<localhost> EXEC /bin/sh -c 'echo ~root && sleep 0'
<localhost> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp `"&& mkdir "` echo /root/.ansible/tmp/ansible-tmp-1666377426.2577178-1639-178074386108592 `" && echo ansible-tmp-1666377426.2577178-1639-178074386108592="` echo /root/.ansible/tmp/ansible-tmp-1666377426.2577178-1639-178074386108592 `" ) && sleep 0'
Using module file /usr/local/lib/python3.8/dist-packages/ansible/modules/command.py
<localhost> PUT /root/.ansible/tmp/ansible-local-44xot_wk5/tmpez3o3uak TO /root/.ansible/tmp/ansible-tmp-1666377426.2577178-1639-178074386108592/AnsiballZ_command.py
<localhost> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1666377426.2577178-1639-178074386108592/ /root/.ansible/tmp/ansible-tmp-1666377426.2577178-1639-178074386108592/AnsiballZ_command.py && sleep 0'
<localhost> EXEC /bin/sh -c 'FLUX_VERSION=0.30.2 /usr/bin/python3 /root/.ansible/tmp/ansible-tmp-1666377426.2577178-1639-178074386108592/AnsiballZ_command.py && sleep 0'
<localhost> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1666377426.2577178-1639-178074386108592/ > /dev/null 2>&1 && sleep 0'
changed: [localhost] => {
    "changed": true,
    "cmd": "curl -s https://fluxcd.io/install.sh | bash -s ~/bin\n",
    "delta": "0:00:02.555891",
    "end": "2022-10-21 18:37:09.104212",
    "invocation": {
        "module_args": {
            "_raw_params": "curl -s https://fluxcd.io/install.sh | bash -s ~/bin\n",
            "_uses_shell": true,
            "argv": null,
            "chdir": null,
            "creates": null,
            "executable": null,
            "removes": null,
            "stdin": null,
            "stdin_add_newline": true,
            "strip_empty_ends": true,
            "warn": false
        }
    },
    "msg": "",
    "rc": 0,
    "start": "2022-10-21 18:37:06.548321",
    "stderr": "",
    "stderr_lines": [],
    "stdout": "[INFO]  Downloading metadata https://api.github.com/repos/fluxcd/flux2/releases/tags/v0.30.2\n[INFO]  Using 0.30.2 as release\n[INFO]  Downloading hash https://github.com/fluxcd/flux2/releases/download/v0.30.2/flux_0.30.2_checksums.txt\n[INFO]  Downloading binary https://github.com/fluxcd/flux2/releases/download/v0.30.2/flux_0.30.2_linux_amd64.tar.gz\n[INFO]  Verifying binary download\n[INFO]  Installing flux to /root/bin/flux",
    "stdout_lines": [
        "[INFO]  Downloading metadata https://api.github.com/repos/fluxcd/flux2/releases/tags/v0.30.2",
        "[INFO]  Using 0.30.2 as release",
        "[INFO]  Downloading hash https://github.com/fluxcd/flux2/releases/download/v0.30.2/flux_0.30.2_checksums.txt",
        "[INFO]  Downloading binary https://github.com/fluxcd/flux2/releases/download/v0.30.2/flux_0.30.2_linux_amd64.tar.gz",
        "[INFO]  Verifying binary download",
        "[INFO]  Installing flux to /root/bin/flux"
    ]
}

TASK [setup/flux : Update the ssh host to known hosts] *************************
task path: /home/bevel/platforms/shared/configuration/roles/setup/flux/tasks/main.yaml:14
<localhost> ESTABLISH LOCAL CONNECTION FOR USER: root
<localhost> EXEC /bin/sh -c 'echo ~root && sleep 0'
<localhost> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp `"&& mkdir "` echo /root/.ansible/tmp/ansible-tmp-1666377429.1766784-1698-130292238988893 `" && echo ansible-tmp-1666377429.1766784-1698-130292238988893="` echo /root/.ansible/tmp/ansible-tmp-1666377429.1766784-1698-130292238988893 `" ) && sleep 0'
Using module file /usr/local/lib/python3.8/dist-packages/ansible/modules/command.py
<localhost> PUT /root/.ansible/tmp/ansible-local-44xot_wk5/tmpfvk1g5wx TO /root/.ansible/tmp/ansible-tmp-1666377429.1766784-1698-130292238988893/AnsiballZ_command.py
<localhost> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1666377429.1766784-1698-130292238988893/ /root/.ansible/tmp/ansible-tmp-1666377429.1766784-1698-130292238988893/AnsiballZ_command.py && sleep 0'
<localhost> EXEC /bin/sh -c '/usr/bin/python3 /root/.ansible/tmp/ansible-tmp-1666377429.1766784-1698-130292238988893/AnsiballZ_command.py && sleep 0'
<localhost> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1666377429.1766784-1698-130292238988893/ > /dev/null 2>&1 && sleep 0'
changed: [localhost] => {
    "changed": true,
    "cmd": "mkdir -p ~/.ssh/\nssh-keygen -R github.com\nssh-keyscan github.com >> ~/.ssh/known_hosts\n",
    "delta": "0:00:00.343058",
    "end": "2022-10-21 18:37:09.659706",
    "invocation": {
        "module_args": {
            "_raw_params": "mkdir -p ~/.ssh/\nssh-keygen -R github.com\nssh-keyscan github.com >> ~/.ssh/known_hosts\n",
            "_uses_shell": true,
            "argv": null,
            "chdir": null,
            "creates": null,
            "executable": null,
            "removes": null,
            "stdin": null,
            "stdin_add_newline": true,
            "strip_empty_ends": true,
            "warn": false
        }
    },
    "msg": "",
    "rc": 0,
    "start": "2022-10-21 18:37:09.316648",
    "stderr": "# github.com:22 SSH-2.0-babeld-2f5f2727\n# github.com:22 SSH-2.0-babeld-2f5f2727\n# github.com:22 SSH-2.0-babeld-2f5f2727\n# github.com:22 SSH-2.0-babeld-2f5f2727\n# github.com:22 SSH-2.0-babeld-2f5f2727",
    "stderr_lines": [
        "# github.com:22 SSH-2.0-babeld-2f5f2727",
        "# github.com:22 SSH-2.0-babeld-2f5f2727",
        "# github.com:22 SSH-2.0-babeld-2f5f2727",
        "# github.com:22 SSH-2.0-babeld-2f5f2727",
        "# github.com:22 SSH-2.0-babeld-2f5f2727"
    ],
    "stdout": "# Host github.com found: line 1\n# Host github.com found: line 2\n# Host github.com found: line 3\n/root/.ssh/known_hosts updated.\nOriginal contents retained as /root/.ssh/known_hosts.old",
    "stdout_lines": [
        "# Host github.com found: line 1",
        "# Host github.com found: line 2",
        "# Host github.com found: line 3",
        "/root/.ssh/known_hosts updated.",
        "Original contents retained as /root/.ssh/known_hosts.old"
    ]
}

TASK [setup/flux : Install flux cli and bootstrap flux v2] *********************
task path: /home/bevel/platforms/shared/configuration/roles/setup/flux/tasks/main.yaml:23
skipping: [localhost] => {
    "changed": false,
    "skip_reason": "Conditional result was False"
}

TASK [setup/flux : Install flux cli and bootstrap flux v2] *********************
task path: /home/bevel/platforms/shared/configuration/roles/setup/flux/tasks/main.yaml:40
<localhost> ESTABLISH LOCAL CONNECTION FOR USER: root
<localhost> EXEC /bin/sh -c 'echo ~root && sleep 0'
<localhost> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp `"&& mkdir "` echo /root/.ansible/tmp/ansible-tmp-1666377429.781099-1730-23076675750078 `" && echo ansible-tmp-1666377429.781099-1730-23076675750078="` echo /root/.ansible/tmp/ansible-tmp-1666377429.781099-1730-23076675750078 `" ) && sleep 0'
Using module file /usr/local/lib/python3.8/dist-packages/ansible/modules/command.py
<localhost> PUT /root/.ansible/tmp/ansible-local-44xot_wk5/tmpnypixr20 TO /root/.ansible/tmp/ansible-tmp-1666377429.781099-1730-23076675750078/AnsiballZ_command.py
<localhost> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1666377429.781099-1730-23076675750078/ /root/.ansible/tmp/ansible-tmp-1666377429.781099-1730-23076675750078/AnsiballZ_command.py && sleep 0'
<localhost> EXEC /bin/sh -c 'KUBECONFIG=/home/bevel/build/config /usr/bin/python3 /root/.ansible/tmp/ansible-tmp-1666377429.781099-1730-23076675750078/AnsiballZ_command.py && sleep 0'
<localhost> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1666377429.781099-1730-23076675750078/ > /dev/null 2>&1 && sleep 0'
changed: [localhost] => {
    "changed": true,
    "cmd": "yes | ~/bin/flux bootstrap git --url=ssh://git@github.com/SynthNetics/bevel.git --branch=local --path=platforms/r3-corda/releases/dev --private-key-file=/home/bevel/build/gitops --namespace=flux-local\n",
    "delta": "0:00:29.377948",
    "end": "2022-10-21 18:37:39.333676",
    "invocation": {
        "module_args": {
            "_raw_params": "yes | ~/bin/flux bootstrap git --url=ssh://git@github.com/SynthNetics/bevel.git --branch=local --path=platforms/r3-corda/releases/dev --private-key-file=/home/bevel/build/gitops --namespace=flux-local\n",
            "_uses_shell": true,
            "argv": null,
            "chdir": null,
            "creates": null,
            "executable": null,
            "removes": null,
            "stdin": null,
            "stdin_add_newline": true,
            "strip_empty_ends": true,
            "warn": false
        }
    },
    "msg": "",
    "rc": 0,
    "start": "2022-10-21 18:37:09.955728",
    "stderr": " cloning branch \"local\" from Git repository \"ssh://git@github.com/SynthNetics/bevel.git\"\n cloned repository\n generating component manifests\n generated component manifests\n component manifests are up to date\n reconciled components\n determining if source secret \"flux-local/flux-system\" exists\n generating source secret\n public key: ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABgQCtvwaiF3TXDHBO2+eFc+EhmG3Zp0rlFXHUnxEB2Z12VYJu4TP2Sa+IY4oMVtf58x+k4JRwCacgfMzS6Ur57kwtM7HXlfOiK6uUM20qvy6pDMtzflri0raikwyzm8y1HqjamC4imU+95dMVZ4FEXEOM7dGjbBERziLeiPFrZOzjyGI/RJTgQ4ryH65L889d6LhZEk9g9mXS2QtdKOlw4+EwtzE5xx58aeKBPYqZVdNNVZAMMQQjfN2RqR7D56mOQrOoPjTGELQPzwPlv/i7rHpIH1+XXc7YTZ5kM1j9RmQg7UAkan3zU7VZoW5+v1QepvS9sI2WMJtdYZmoGcMiyxp6bxJt7qmSlAORUBciu4E+tLH+ymKvOZtRjWFo6pkg69A9fWKqoz1t+mzQv8cLXp6M5E6E/wbGMcQy5sEvX/S2DSRkKS/8U2Qf/TQa5jnjbf3+gmvRXE4MPz1O0cOc1Kjr2MTPjvOtc5FvrMi64LjraMRYMAizCutlCetv9mqZtns=\n applying source secret \"flux-local/flux-system\"\n reconciled source secret\n generating sync manifests\n generated sync manifests\n sync manifests are up to date\n applying sync manifests\n reconciled sync configuration\n waiting for Kustomization \"flux-local/flux-local\" to be reconciled\n Kustomization reconciled successfully\n confirming components are healthy\n helm-controller: deployment ready\n kustomize-controller: deployment ready\n notification-controller: deployment ready\n source-controller: deployment ready\n all components are healthy",
    "stderr_lines": [
        " cloning branch \"local\" from Git repository \"ssh://git@github.com/SynthNetics/bevel.git\"",
        " cloned repository",
        " generating component manifests",
        " generated component manifests",
        " component manifests are up to date",
        " reconciled components",
        " determining if source secret \"flux-local/flux-system\" exists",
        " generating source secret",
        " public key: ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABgQCtvwaiF3TXDHBO2+eFc+EhmG3Zp0rlFXHUnxEB2Z12VYJu4TP2Sa+IY4oMVtf58x+k4JRwCacgfMzS6Ur57kwtM7HXlfOiK6uUM20qvy6pDMtzflri0raikwyzm8y1HqjamC4imU+95dMVZ4FEXEOM7dGjbBERziLeiPFrZOzjyGI/RJTgQ4ryH65L889d6LhZEk9g9mXS2QtdKOlw4+EwtzE5xx58aeKBPYqZVdNNVZAMMQQjfN2RqR7D56mOQrOoPjTGELQPzwPlv/i7rHpIH1+XXc7YTZ5kM1j9RmQg7UAkan3zU7VZoW5+v1QepvS9sI2WMJtdYZmoGcMiyxp6bxJt7qmSlAORUBciu4E+tLH+ymKvOZtRjWFo6pkg69A9fWKqoz1t+mzQv8cLXp6M5E6E/wbGMcQy5sEvX/S2DSRkKS/8U2Qf/TQa5jnjbf3+gmvRXE4MPz1O0cOc1Kjr2MTPjvOtc5FvrMi64LjraMRYMAizCutlCetv9mqZtns=",
        " applying source secret \"flux-local/flux-system\"",
        " reconciled source secret",
        " generating sync manifests",
        " generated sync manifests",
        " sync manifests are up to date",
        " applying sync manifests",
        " reconciled sync configuration",
        " waiting for Kustomization \"flux-local/flux-local\" to be reconciled",
        " Kustomization reconciled successfully",
        " confirming components are healthy",
        " helm-controller: deployment ready",
        " kustomize-controller: deployment ready",
        " notification-controller: deployment ready",
        " source-controller: deployment ready",
        " all components are healthy"
    ],
    "stdout": "\u001b[?25l\u001b[2K\r\u001b[1m\u001b[34m?\u001b[0m \u001b[1mPlease give the key access to your repository\u001b[0m? \u001b[2m[y/N]\u001b[0m \n\u001b[1A\u001b[2K\r\u001b[2K\r\u001b[1m\u001b[34m?\u001b[0m \u001b[1mPlease give the key access to your repository\u001b[0m? \u001b[2m[y/N]\u001b[0m y\n\u001b[1A\u001b[2K\r\u001b[2K\r\u001b[1m\u001b[34m?\u001b[0m \u001b[1mPlease give the key access to your repository\u001b[0m? \u001b[2m[y/N]\u001b[0m y\n\u001b[1A\u001b[2K\r\u001b[2K\r\u001b[2mPlease give the key access to your repository\u001b[0m\u001b[2m:\u001b[0m y\n\u001b[?25h",
    "stdout_lines": [
        "\u001b[?25l\u001b[2K",
        "\u001b[1m\u001b[34m?\u001b[0m \u001b[1mPlease give the key access to your repository\u001b[0m? \u001b[2m[y/N]\u001b[0m ",
        "\u001b[1A\u001b[2K",
        "\u001b[2K",
        "\u001b[1m\u001b[34m?\u001b[0m \u001b[1mPlease give the key access to your repository\u001b[0m? \u001b[2m[y/N]\u001b[0m y",
        "\u001b[1A\u001b[2K",
        "\u001b[2K",
        "\u001b[1m\u001b[34m?\u001b[0m \u001b[1mPlease give the key access to your repository\u001b[0m? \u001b[2m[y/N]\u001b[0m y",
        "\u001b[1A\u001b[2K",
        "\u001b[2K",
        "\u001b[2mPlease give the key access to your repository\u001b[0m\u001b[2m:\u001b[0m y",
        "\u001b[?25h"
    ]
}
META: role_complete for localhost

TASK [Prepare nodes and clients ports for ambassador] **************************
task path: /home/bevel/platforms/shared/configuration/kubernetes-env-setup.yaml:34
skipping: [localhost] => (item={'organization': None, 'name': 'supplychain', 'country': 'UK', 'state': 'London', 'location': 'London', 'subject': 'CN=DLT Root CA,OU=DLT,O=DLT,L=London,C=GB', 'type': 'doorman-nms-notary', 'external_url_suffix': 'develop.local.com', 'cloud_provider': 'minikube', 'k8s': {'context': 'minikube', 'config_file': '/home/bevel/build/config'}, 'vault': {'url': 'http://192.168.1.21:8217', 'root_token': 's.WtD9absblrkGSMkMYh3OlbzD'}, 'gitops': {'git_protocol': 'ssh', 'git_url': 'ssh://git@github.com/SynthNetics/bevel.git', 'branch': 'test2', 'release_dir': 'platforms/r3-corda/releases/dev', 'chart_source': 'platforms/r3-corda/charts', 'git_repo': 'github.com/SynthNetics/bevel.git', 'username': 'SynthNetics', 'password': 'git_access_token', 'email': 'git@email.com', 'private_key': '/home/bevel/build/gitops'}, 'services': {'doorman': {'name': 'doorman', 'subject': 'CN=Corda Doorman CA,OU=DLT,O=DLT,L=Berlin,C=DE', 'db_subject': '/C=US/ST=California/L=San Francisco/O=My Company Ltd/OU=DBA/CN=mongoDB', 'type': 'doorman', 'ports': {'nodePort': 30030, 'servicePort': 8080, 'targetPort': 8080}, 'tls': 'on'}, 'nms': {'name': 'networkmap', 'subject': 'CN=Network Map,OU=FRA,O=FRA,L=Berlin,C=DE', 'db_subject': '/C=US/ST=California/L=San Francisco/O=My Company Ltd/OU=DBA/CN=mongoDB', 'type': 'networkmap', 'ports': {'nodePort': 30040, 'servicePort': 8080, 'targetPort': 8080}, 'tls': 'on'}, 'notary': {'name': 'notary', 'subject': 'O=Notary,OU=Notary,L=London,C=GB', 'type': 'notary', 'validating': False, 'p2p': {'port': 10002, 'targetPort': 10002, 'ambassador': 15010}, 'rpc': {'port': 10003, 'targetPort': 10003}, 'rpcadmin': {'port': 10005, 'targetPort': 10005}, 'dbtcp': {'port': 9101, 'targetPort': 1521}, 'dbweb': {'port': 8080, 'targetPort': 81}}}})  => {
    "ansible_loop_var": "organizationItem",
    "changed": false,
    "organizationItem": {
        "cloud_provider": "minikube",
        "country": "UK",
        "external_url_suffix": "develop.local.com",
        "gitops": {
            "branch": "test2",
            "chart_source": "platforms/r3-corda/charts",
            "email": "git@email.com",
            "git_protocol": "ssh",
            "git_repo": "github.com/SynthNetics/bevel.git",
            "git_url": "ssh://git@github.com/SynthNetics/bevel.git",
            "password": "git_access_token",
            "private_key": "/home/bevel/build/gitops",
            "release_dir": "platforms/r3-corda/releases/dev",
            "username": "SynthNetics"
        },
        "k8s": {
            "config_file": "/home/bevel/build/config",
            "context": "minikube"
        },
        "location": "London",
        "name": "supplychain",
        "organization": null,
        "services": {
            "doorman": {
                "db_subject": "/C=US/ST=California/L=San Francisco/O=My Company Ltd/OU=DBA/CN=mongoDB",
                "name": "doorman",
                "ports": {
                    "nodePort": 30030,
                    "servicePort": 8080,
                    "targetPort": 8080
                },
                "subject": "CN=Corda Doorman CA,OU=DLT,O=DLT,L=Berlin,C=DE",
                "tls": "on",
                "type": "doorman"
            },
            "nms": {
                "db_subject": "/C=US/ST=California/L=San Francisco/O=My Company Ltd/OU=DBA/CN=mongoDB",
                "name": "networkmap",
                "ports": {
                    "nodePort": 30040,
                    "servicePort": 8080,
                    "targetPort": 8080
                },
                "subject": "CN=Network Map,OU=FRA,O=FRA,L=Berlin,C=DE",
                "tls": "on",
                "type": "networkmap"
            },
            "notary": {
                "dbtcp": {
                    "port": 9101,
                    "targetPort": 1521
                },
                "dbweb": {
                    "port": 8080,
                    "targetPort": 81
                },
                "name": "notary",
                "p2p": {
                    "ambassador": 15010,
                    "port": 10002,
                    "targetPort": 10002
                },
                "rpc": {
                    "port": 10003,
                    "targetPort": 10003
                },
                "rpcadmin": {
                    "port": 10005,
                    "targetPort": 10005
                },
                "subject": "O=Notary,OU=Notary,L=London,C=GB",
                "type": "notary",
                "validating": false
            }
        },
        "state": "London",
        "subject": "CN=DLT Root CA,OU=DLT,O=DLT,L=London,C=GB",
        "type": "doorman-nms-notary",
        "vault": {
            "root_token": "s.WtD9absblrkGSMkMYh3OlbzD",
            "url": "http://192.168.1.21:8217"
        }
    },
    "skip_reason": "Conditional result was False"
}
skipping: [localhost] => (item={'organization': None, 'name': 'manufacturer', 'country': 'CH', 'state': 'Zurich', 'location': 'Zurich', 'subject': 'O=Manufacturer,OU=Manufacturer,L=Zurich,C=CH', 'type': 'node', 'external_url_suffix': 'develop.local.com', 'cloud_provider': 'minikube', 'k8s': {'context': 'minikube', 'config_file': '/home/bevel/build/config'}, 'vault': {'url': 'http://192.168.1.21:8217', 'root_token': 's.WtD9absblrkGSMkMYh3OlbzD'}, 'gitops': {'git_protocol': 'ssh', 'git_url': 'ssh://git@github.com/SynthNetics/bevel.git', 'branch': 'local', 'release_dir': 'platforms/r3-corda/releases/dev', 'chart_source': 'platforms/r3-corda/charts', 'git_repo': 'github.com/SynthNetics/bevel.git', 'username': 'SynthNetics', 'password': 'git_access_token', 'email': 'git@email.com', 'private_key': '/home/bevel/build/gitops'}, 'services': {'peers': [{'peer': None, 'name': 'manufacturer', 'subject': 'O=Manufacturer,OU=Manufacturer,L=47.38/8.54/Zurich,C=CH', 'type': 'node', 'p2p': {'port': 10002, 'targetPort': 10002, 'ambassador': 15020}, 'rpc': {'port': 10003, 'targetPort': 10003}, 'rpcadmin': {'port': 10005, 'targetPort': 10005}, 'dbtcp': {'port': 9101, 'targetPort': 1521}, 'dbweb': {'port': 8080, 'targetPort': 81}, 'springboot': {'targetPort': 20001, 'port': 20001}, 'expressapi': {'targetPort': 3000, 'port': 3000}}]}})  => {
    "ansible_loop_var": "organizationItem",
    "changed": false,
    "organizationItem": {
        "cloud_provider": "minikube",
        "country": "CH",
        "external_url_suffix": "develop.local.com",
        "gitops": {
            "branch": "local",
            "chart_source": "platforms/r3-corda/charts",
            "email": "git@email.com",
            "git_protocol": "ssh",
            "git_repo": "github.com/SynthNetics/bevel.git",
            "git_url": "ssh://git@github.com/SynthNetics/bevel.git",
            "password": "git_access_token",
            "private_key": "/home/bevel/build/gitops",
            "release_dir": "platforms/r3-corda/releases/dev",
            "username": "SynthNetics"
        },
        "k8s": {
            "config_file": "/home/bevel/build/config",
            "context": "minikube"
        },
        "location": "Zurich",
        "name": "manufacturer",
        "organization": null,
        "services": {
            "peers": [
                {
                    "dbtcp": {
                        "port": 9101,
                        "targetPort": 1521
                    },
                    "dbweb": {
                        "port": 8080,
                        "targetPort": 81
                    },
                    "expressapi": {
                        "port": 3000,
                        "targetPort": 3000
                    },
                    "name": "manufacturer",
                    "p2p": {
                        "ambassador": 15020,
                        "port": 10002,
                        "targetPort": 10002
                    },
                    "peer": null,
                    "rpc": {
                        "port": 10003,
                        "targetPort": 10003
                    },
                    "rpcadmin": {
                        "port": 10005,
                        "targetPort": 10005
                    },
                    "springboot": {
                        "port": 20001,
                        "targetPort": 20001
                    },
                    "subject": "O=Manufacturer,OU=Manufacturer,L=47.38/8.54/Zurich,C=CH",
                    "type": "node"
                }
            ]
        },
        "state": "Zurich",
        "subject": "O=Manufacturer,OU=Manufacturer,L=Zurich,C=CH",
        "type": "node",
        "vault": {
            "root_token": "s.WtD9absblrkGSMkMYh3OlbzD",
            "url": "http://192.168.1.21:8217"
        }
    },
    "skip_reason": "Conditional result was False"
}

TASK [include_role : setup/ambassador] *****************************************
task path: /home/bevel/platforms/shared/configuration/kubernetes-env-setup.yaml:43
skipping: [localhost] => (item={'organization': None, 'name': 'supplychain', 'country': 'UK', 'state': 'London', 'location': 'London', 'subject': 'CN=DLT Root CA,OU=DLT,O=DLT,L=London,C=GB', 'type': 'doorman-nms-notary', 'external_url_suffix': 'develop.local.com', 'cloud_provider': 'minikube', 'k8s': {'context': 'minikube', 'config_file': '/home/bevel/build/config'}, 'vault': {'url': 'http://192.168.1.21:8217', 'root_token': 's.WtD9absblrkGSMkMYh3OlbzD'}, 'gitops': {'git_protocol': 'ssh', 'git_url': 'ssh://git@github.com/SynthNetics/bevel.git', 'branch': 'test2', 'release_dir': 'platforms/r3-corda/releases/dev', 'chart_source': 'platforms/r3-corda/charts', 'git_repo': 'github.com/SynthNetics/bevel.git', 'username': 'SynthNetics', 'password': 'git_access_token', 'email': 'git@email.com', 'private_key': '/home/bevel/build/gitops'}, 'services': {'doorman': {'name': 'doorman', 'subject': 'CN=Corda Doorman CA,OU=DLT,O=DLT,L=Berlin,C=DE', 'db_subject': '/C=US/ST=California/L=San Francisco/O=My Company Ltd/OU=DBA/CN=mongoDB', 'type': 'doorman', 'ports': {'nodePort': 30030, 'servicePort': 8080, 'targetPort': 8080}, 'tls': 'on'}, 'nms': {'name': 'networkmap', 'subject': 'CN=Network Map,OU=FRA,O=FRA,L=Berlin,C=DE', 'db_subject': '/C=US/ST=California/L=San Francisco/O=My Company Ltd/OU=DBA/CN=mongoDB', 'type': 'networkmap', 'ports': {'nodePort': 30040, 'servicePort': 8080, 'targetPort': 8080}, 'tls': 'on'}, 'notary': {'name': 'notary', 'subject': 'O=Notary,OU=Notary,L=London,C=GB', 'type': 'notary', 'validating': False, 'p2p': {'port': 10002, 'targetPort': 10002, 'ambassador': 15010}, 'rpc': {'port': 10003, 'targetPort': 10003}, 'rpcadmin': {'port': 10005, 'targetPort': 10005}, 'dbtcp': {'port': 9101, 'targetPort': 1521}, 'dbweb': {'port': 8080, 'targetPort': 81}}}})  => {
    "ansible_loop_var": "item",
    "changed": false,
    "item": {
        "cloud_provider": "minikube",
        "country": "UK",
        "external_url_suffix": "develop.local.com",
        "gitops": {
            "branch": "test2",
            "chart_source": "platforms/r3-corda/charts",
            "email": "git@email.com",
            "git_protocol": "ssh",
            "git_repo": "github.com/SynthNetics/bevel.git",
            "git_url": "ssh://git@github.com/SynthNetics/bevel.git",
            "password": "git_access_token",
            "private_key": "/home/bevel/build/gitops",
            "release_dir": "platforms/r3-corda/releases/dev",
            "username": "SynthNetics"
        },
        "k8s": {
            "config_file": "/home/bevel/build/config",
            "context": "minikube"
        },
        "location": "London",
        "name": "supplychain",
        "organization": null,
        "services": {
            "doorman": {
                "db_subject": "/C=US/ST=California/L=San Francisco/O=My Company Ltd/OU=DBA/CN=mongoDB",
                "name": "doorman",
                "ports": {
                    "nodePort": 30030,
                    "servicePort": 8080,
                    "targetPort": 8080
                },
                "subject": "CN=Corda Doorman CA,OU=DLT,O=DLT,L=Berlin,C=DE",
                "tls": "on",
                "type": "doorman"
            },
            "nms": {
                "db_subject": "/C=US/ST=California/L=San Francisco/O=My Company Ltd/OU=DBA/CN=mongoDB",
                "name": "networkmap",
                "ports": {
                    "nodePort": 30040,
                    "servicePort": 8080,
                    "targetPort": 8080
                },
                "subject": "CN=Network Map,OU=FRA,O=FRA,L=Berlin,C=DE",
                "tls": "on",
                "type": "networkmap"
            },
            "notary": {
                "dbtcp": {
                    "port": 9101,
                    "targetPort": 1521
                },
                "dbweb": {
                    "port": 8080,
                    "targetPort": 81
                },
                "name": "notary",
                "p2p": {
                    "ambassador": 15010,
                    "port": 10002,
                    "targetPort": 10002
                },
                "rpc": {
                    "port": 10003,
                    "targetPort": 10003
                },
                "rpcadmin": {
                    "port": 10005,
                    "targetPort": 10005
                },
                "subject": "O=Notary,OU=Notary,L=London,C=GB",
                "type": "notary",
                "validating": false
            }
        },
        "state": "London",
        "subject": "CN=DLT Root CA,OU=DLT,O=DLT,L=London,C=GB",
        "type": "doorman-nms-notary",
        "vault": {
            "root_token": "s.WtD9absblrkGSMkMYh3OlbzD",
            "url": "http://192.168.1.21:8217"
        }
    },
    "skip_reason": "Conditional result was False"
}
skipping: [localhost] => (item={'organization': None, 'name': 'manufacturer', 'country': 'CH', 'state': 'Zurich', 'location': 'Zurich', 'subject': 'O=Manufacturer,OU=Manufacturer,L=Zurich,C=CH', 'type': 'node', 'external_url_suffix': 'develop.local.com', 'cloud_provider': 'minikube', 'k8s': {'context': 'minikube', 'config_file': '/home/bevel/build/config'}, 'vault': {'url': 'http://192.168.1.21:8217', 'root_token': 's.WtD9absblrkGSMkMYh3OlbzD'}, 'gitops': {'git_protocol': 'ssh', 'git_url': 'ssh://git@github.com/SynthNetics/bevel.git', 'branch': 'local', 'release_dir': 'platforms/r3-corda/releases/dev', 'chart_source': 'platforms/r3-corda/charts', 'git_repo': 'github.com/SynthNetics/bevel.git', 'username': 'SynthNetics', 'password': 'git_access_token', 'email': 'git@email.com', 'private_key': '/home/bevel/build/gitops'}, 'services': {'peers': [{'peer': None, 'name': 'manufacturer', 'subject': 'O=Manufacturer,OU=Manufacturer,L=47.38/8.54/Zurich,C=CH', 'type': 'node', 'p2p': {'port': 10002, 'targetPort': 10002, 'ambassador': 15020}, 'rpc': {'port': 10003, 'targetPort': 10003}, 'rpcadmin': {'port': 10005, 'targetPort': 10005}, 'dbtcp': {'port': 9101, 'targetPort': 1521}, 'dbweb': {'port': 8080, 'targetPort': 81}, 'springboot': {'targetPort': 20001, 'port': 20001}, 'expressapi': {'targetPort': 3000, 'port': 3000}}]}})  => {
    "ansible_loop_var": "item",
    "changed": false,
    "item": {
        "cloud_provider": "minikube",
        "country": "CH",
        "external_url_suffix": "develop.local.com",
        "gitops": {
            "branch": "local",
            "chart_source": "platforms/r3-corda/charts",
            "email": "git@email.com",
            "git_protocol": "ssh",
            "git_repo": "github.com/SynthNetics/bevel.git",
            "git_url": "ssh://git@github.com/SynthNetics/bevel.git",
            "password": "git_access_token",
            "private_key": "/home/bevel/build/gitops",
            "release_dir": "platforms/r3-corda/releases/dev",
            "username": "SynthNetics"
        },
        "k8s": {
            "config_file": "/home/bevel/build/config",
            "context": "minikube"
        },
        "location": "Zurich",
        "name": "manufacturer",
        "organization": null,
        "services": {
            "peers": [
                {
                    "dbtcp": {
                        "port": 9101,
                        "targetPort": 1521
                    },
                    "dbweb": {
                        "port": 8080,
                        "targetPort": 81
                    },
                    "expressapi": {
                        "port": 3000,
                        "targetPort": 3000
                    },
                    "name": "manufacturer",
                    "p2p": {
                        "ambassador": 15020,
                        "port": 10002,
                        "targetPort": 10002
                    },
                    "peer": null,
                    "rpc": {
                        "port": 10003,
                        "targetPort": 10003
                    },
                    "rpcadmin": {
                        "port": 10005,
                        "targetPort": 10005
                    },
                    "springboot": {
                        "port": 20001,
                        "targetPort": 20001
                    },
                    "subject": "O=Manufacturer,OU=Manufacturer,L=47.38/8.54/Zurich,C=CH",
                    "type": "node"
                }
            ]
        },
        "state": "Zurich",
        "subject": "O=Manufacturer,OU=Manufacturer,L=Zurich,C=CH",
        "type": "node",
        "vault": {
            "root_token": "s.WtD9absblrkGSMkMYh3OlbzD",
            "url": "http://192.168.1.21:8217"
        }
    },
    "skip_reason": "Conditional result was False"
}

TASK [include_role : setup/haproxy-ingress] ************************************
task path: /home/bevel/platforms/shared/configuration/kubernetes-env-setup.yaml:51
skipping: [localhost] => (item={'organization': None, 'name': 'supplychain', 'country': 'UK', 'state': 'London', 'location': 'London', 'subject': 'CN=DLT Root CA,OU=DLT,O=DLT,L=London,C=GB', 'type': 'doorman-nms-notary', 'external_url_suffix': 'develop.local.com', 'cloud_provider': 'minikube', 'k8s': {'context': 'minikube', 'config_file': '/home/bevel/build/config'}, 'vault': {'url': 'http://192.168.1.21:8217', 'root_token': 's.WtD9absblrkGSMkMYh3OlbzD'}, 'gitops': {'git_protocol': 'ssh', 'git_url': 'ssh://git@github.com/SynthNetics/bevel.git', 'branch': 'test2', 'release_dir': 'platforms/r3-corda/releases/dev', 'chart_source': 'platforms/r3-corda/charts', 'git_repo': 'github.com/SynthNetics/bevel.git', 'username': 'SynthNetics', 'password': 'git_access_token', 'email': 'git@email.com', 'private_key': '/home/bevel/build/gitops'}, 'services': {'doorman': {'name': 'doorman', 'subject': 'CN=Corda Doorman CA,OU=DLT,O=DLT,L=Berlin,C=DE', 'db_subject': '/C=US/ST=California/L=San Francisco/O=My Company Ltd/OU=DBA/CN=mongoDB', 'type': 'doorman', 'ports': {'nodePort': 30030, 'servicePort': 8080, 'targetPort': 8080}, 'tls': 'on'}, 'nms': {'name': 'networkmap', 'subject': 'CN=Network Map,OU=FRA,O=FRA,L=Berlin,C=DE', 'db_subject': '/C=US/ST=California/L=San Francisco/O=My Company Ltd/OU=DBA/CN=mongoDB', 'type': 'networkmap', 'ports': {'nodePort': 30040, 'servicePort': 8080, 'targetPort': 8080}, 'tls': 'on'}, 'notary': {'name': 'notary', 'subject': 'O=Notary,OU=Notary,L=London,C=GB', 'type': 'notary', 'validating': False, 'p2p': {'port': 10002, 'targetPort': 10002, 'ambassador': 15010}, 'rpc': {'port': 10003, 'targetPort': 10003}, 'rpcadmin': {'port': 10005, 'targetPort': 10005}, 'dbtcp': {'port': 9101, 'targetPort': 1521}, 'dbweb': {'port': 8080, 'targetPort': 81}}}})  => {
    "ansible_loop_var": "item",
    "changed": false,
    "item": {
        "cloud_provider": "minikube",
        "country": "UK",
        "external_url_suffix": "develop.local.com",
        "gitops": {
            "branch": "test2",
            "chart_source": "platforms/r3-corda/charts",
            "email": "git@email.com",
            "git_protocol": "ssh",
            "git_repo": "github.com/SynthNetics/bevel.git",
            "git_url": "ssh://git@github.com/SynthNetics/bevel.git",
            "password": "git_access_token",
            "private_key": "/home/bevel/build/gitops",
            "release_dir": "platforms/r3-corda/releases/dev",
            "username": "SynthNetics"
        },
        "k8s": {
            "config_file": "/home/bevel/build/config",
            "context": "minikube"
        },
        "location": "London",
        "name": "supplychain",
        "organization": null,
        "services": {
            "doorman": {
                "db_subject": "/C=US/ST=California/L=San Francisco/O=My Company Ltd/OU=DBA/CN=mongoDB",
                "name": "doorman",
                "ports": {
                    "nodePort": 30030,
                    "servicePort": 8080,
                    "targetPort": 8080
                },
                "subject": "CN=Corda Doorman CA,OU=DLT,O=DLT,L=Berlin,C=DE",
                "tls": "on",
                "type": "doorman"
            },
            "nms": {
                "db_subject": "/C=US/ST=California/L=San Francisco/O=My Company Ltd/OU=DBA/CN=mongoDB",
                "name": "networkmap",
                "ports": {
                    "nodePort": 30040,
                    "servicePort": 8080,
                    "targetPort": 8080
                },
                "subject": "CN=Network Map,OU=FRA,O=FRA,L=Berlin,C=DE",
                "tls": "on",
                "type": "networkmap"
            },
            "notary": {
                "dbtcp": {
                    "port": 9101,
                    "targetPort": 1521
                },
                "dbweb": {
                    "port": 8080,
                    "targetPort": 81
                },
                "name": "notary",
                "p2p": {
                    "ambassador": 15010,
                    "port": 10002,
                    "targetPort": 10002
                },
                "rpc": {
                    "port": 10003,
                    "targetPort": 10003
                },
                "rpcadmin": {
                    "port": 10005,
                    "targetPort": 10005
                },
                "subject": "O=Notary,OU=Notary,L=London,C=GB",
                "type": "notary",
                "validating": false
            }
        },
        "state": "London",
        "subject": "CN=DLT Root CA,OU=DLT,O=DLT,L=London,C=GB",
        "type": "doorman-nms-notary",
        "vault": {
            "root_token": "s.WtD9absblrkGSMkMYh3OlbzD",
            "url": "http://192.168.1.21:8217"
        }
    },
    "skip_reason": "Conditional result was False"
}
skipping: [localhost] => (item={'organization': None, 'name': 'manufacturer', 'country': 'CH', 'state': 'Zurich', 'location': 'Zurich', 'subject': 'O=Manufacturer,OU=Manufacturer,L=Zurich,C=CH', 'type': 'node', 'external_url_suffix': 'develop.local.com', 'cloud_provider': 'minikube', 'k8s': {'context': 'minikube', 'config_file': '/home/bevel/build/config'}, 'vault': {'url': 'http://192.168.1.21:8217', 'root_token': 's.WtD9absblrkGSMkMYh3OlbzD'}, 'gitops': {'git_protocol': 'ssh', 'git_url': 'ssh://git@github.com/SynthNetics/bevel.git', 'branch': 'local', 'release_dir': 'platforms/r3-corda/releases/dev', 'chart_source': 'platforms/r3-corda/charts', 'git_repo': 'github.com/SynthNetics/bevel.git', 'username': 'SynthNetics', 'password': 'git_access_token', 'email': 'git@email.com', 'private_key': '/home/bevel/build/gitops'}, 'services': {'peers': [{'peer': None, 'name': 'manufacturer', 'subject': 'O=Manufacturer,OU=Manufacturer,L=47.38/8.54/Zurich,C=CH', 'type': 'node', 'p2p': {'port': 10002, 'targetPort': 10002, 'ambassador': 15020}, 'rpc': {'port': 10003, 'targetPort': 10003}, 'rpcadmin': {'port': 10005, 'targetPort': 10005}, 'dbtcp': {'port': 9101, 'targetPort': 1521}, 'dbweb': {'port': 8080, 'targetPort': 81}, 'springboot': {'targetPort': 20001, 'port': 20001}, 'expressapi': {'targetPort': 3000, 'port': 3000}}]}})  => {
    "ansible_loop_var": "item",
    "changed": false,
    "item": {
        "cloud_provider": "minikube",
        "country": "CH",
        "external_url_suffix": "develop.local.com",
        "gitops": {
            "branch": "local",
            "chart_source": "platforms/r3-corda/charts",
            "email": "git@email.com",
            "git_protocol": "ssh",
            "git_repo": "github.com/SynthNetics/bevel.git",
            "git_url": "ssh://git@github.com/SynthNetics/bevel.git",
            "password": "git_access_token",
            "private_key": "/home/bevel/build/gitops",
            "release_dir": "platforms/r3-corda/releases/dev",
            "username": "SynthNetics"
        },
        "k8s": {
            "config_file": "/home/bevel/build/config",
            "context": "minikube"
        },
        "location": "Zurich",
        "name": "manufacturer",
        "organization": null,
        "services": {
            "peers": [
                {
                    "dbtcp": {
                        "port": 9101,
                        "targetPort": 1521
                    },
                    "dbweb": {
                        "port": 8080,
                        "targetPort": 81
                    },
                    "expressapi": {
                        "port": 3000,
                        "targetPort": 3000
                    },
                    "name": "manufacturer",
                    "p2p": {
                        "ambassador": 15020,
                        "port": 10002,
                        "targetPort": 10002
                    },
                    "peer": null,
                    "rpc": {
                        "port": 10003,
                        "targetPort": 10003
                    },
                    "rpcadmin": {
                        "port": 10005,
                        "targetPort": 10005
                    },
                    "springboot": {
                        "port": 20001,
                        "targetPort": 20001
                    },
                    "subject": "O=Manufacturer,OU=Manufacturer,L=47.38/8.54/Zurich,C=CH",
                    "type": "node"
                }
            ]
        },
        "state": "Zurich",
        "subject": "O=Manufacturer,OU=Manufacturer,L=Zurich,C=CH",
        "type": "node",
        "vault": {
            "root_token": "s.WtD9absblrkGSMkMYh3OlbzD",
            "url": "http://192.168.1.21:8217"
        }
    },
    "skip_reason": "Conditional result was False"
}
META: ran handlers
META: ran handlers

PLAY [ansible_provisioners] ****************************************************
META: ran handlers

TASK [Remove build directory] **************************************************
task path: /home/bevel/platforms/hyperledger-fabric/configuration/deploy-network.yaml:23
skipping: [localhost] => {
    "changed": false,
    "skip_reason": "Conditional result was False"
}

TASK [Create namespace and Vault auth for each organization] *******************
task path: /home/bevel/platforms/hyperledger-fabric/configuration/deploy-network.yaml:29
skipping: [localhost] => (item={'organization': None, 'name': 'supplychain', 'country': 'UK', 'state': 'London', 'location': 'London', 'subject': 'CN=DLT Root CA,OU=DLT,O=DLT,L=London,C=GB', 'type': 'doorman-nms-notary', 'external_url_suffix': 'develop.local.com', 'cloud_provider': 'minikube', 'k8s': {'context': 'minikube', 'config_file': '/home/bevel/build/config'}, 'vault': {'url': 'http://192.168.1.21:8217', 'root_token': 's.WtD9absblrkGSMkMYh3OlbzD'}, 'gitops': {'git_protocol': 'ssh', 'git_url': 'ssh://git@github.com/SynthNetics/bevel.git', 'branch': 'test2', 'release_dir': 'platforms/r3-corda/releases/dev', 'chart_source': 'platforms/r3-corda/charts', 'git_repo': 'github.com/SynthNetics/bevel.git', 'username': 'SynthNetics', 'password': 'git_access_token', 'email': 'git@email.com', 'private_key': '/home/bevel/build/gitops'}, 'services': {'doorman': {'name': 'doorman', 'subject': 'CN=Corda Doorman CA,OU=DLT,O=DLT,L=Berlin,C=DE', 'db_subject': '/C=US/ST=California/L=San Francisco/O=My Company Ltd/OU=DBA/CN=mongoDB', 'type': 'doorman', 'ports': {'nodePort': 30030, 'servicePort': 8080, 'targetPort': 8080}, 'tls': 'on'}, 'nms': {'name': 'networkmap', 'subject': 'CN=Network Map,OU=FRA,O=FRA,L=Berlin,C=DE', 'db_subject': '/C=US/ST=California/L=San Francisco/O=My Company Ltd/OU=DBA/CN=mongoDB', 'type': 'networkmap', 'ports': {'nodePort': 30040, 'servicePort': 8080, 'targetPort': 8080}, 'tls': 'on'}, 'notary': {'name': 'notary', 'subject': 'O=Notary,OU=Notary,L=London,C=GB', 'type': 'notary', 'validating': False, 'p2p': {'port': 10002, 'targetPort': 10002, 'ambassador': 15010}, 'rpc': {'port': 10003, 'targetPort': 10003}, 'rpcadmin': {'port': 10005, 'targetPort': 10005}, 'dbtcp': {'port': 9101, 'targetPort': 1521}, 'dbweb': {'port': 8080, 'targetPort': 81}}}})  => {
    "ansible_loop_var": "item",
    "changed": false,
    "item": {
        "cloud_provider": "minikube",
        "country": "UK",
        "external_url_suffix": "develop.local.com",
        "gitops": {
            "branch": "test2",
            "chart_source": "platforms/r3-corda/charts",
            "email": "git@email.com",
            "git_protocol": "ssh",
            "git_repo": "github.com/SynthNetics/bevel.git",
            "git_url": "ssh://git@github.com/SynthNetics/bevel.git",
            "password": "git_access_token",
            "private_key": "/home/bevel/build/gitops",
            "release_dir": "platforms/r3-corda/releases/dev",
            "username": "SynthNetics"
        },
        "k8s": {
            "config_file": "/home/bevel/build/config",
            "context": "minikube"
        },
        "location": "London",
        "name": "supplychain",
        "organization": null,
        "services": {
            "doorman": {
                "db_subject": "/C=US/ST=California/L=San Francisco/O=My Company Ltd/OU=DBA/CN=mongoDB",
                "name": "doorman",
                "ports": {
                    "nodePort": 30030,
                    "servicePort": 8080,
                    "targetPort": 8080
                },
                "subject": "CN=Corda Doorman CA,OU=DLT,O=DLT,L=Berlin,C=DE",
                "tls": "on",
                "type": "doorman"
            },
            "nms": {
                "db_subject": "/C=US/ST=California/L=San Francisco/O=My Company Ltd/OU=DBA/CN=mongoDB",
                "name": "networkmap",
                "ports": {
                    "nodePort": 30040,
                    "servicePort": 8080,
                    "targetPort": 8080
                },
                "subject": "CN=Network Map,OU=FRA,O=FRA,L=Berlin,C=DE",
                "tls": "on",
                "type": "networkmap"
            },
            "notary": {
                "dbtcp": {
                    "port": 9101,
                    "targetPort": 1521
                },
                "dbweb": {
                    "port": 8080,
                    "targetPort": 81
                },
                "name": "notary",
                "p2p": {
                    "ambassador": 15010,
                    "port": 10002,
                    "targetPort": 10002
                },
                "rpc": {
                    "port": 10003,
                    "targetPort": 10003
                },
                "rpcadmin": {
                    "port": 10005,
                    "targetPort": 10005
                },
                "subject": "O=Notary,OU=Notary,L=London,C=GB",
                "type": "notary",
                "validating": false
            }
        },
        "state": "London",
        "subject": "CN=DLT Root CA,OU=DLT,O=DLT,L=London,C=GB",
        "type": "doorman-nms-notary",
        "vault": {
            "root_token": "s.WtD9absblrkGSMkMYh3OlbzD",
            "url": "http://192.168.1.21:8217"
        }
    },
    "skip_reason": "Conditional result was False"
}
skipping: [localhost] => (item={'organization': None, 'name': 'manufacturer', 'country': 'CH', 'state': 'Zurich', 'location': 'Zurich', 'subject': 'O=Manufacturer,OU=Manufacturer,L=Zurich,C=CH', 'type': 'node', 'external_url_suffix': 'develop.local.com', 'cloud_provider': 'minikube', 'k8s': {'context': 'minikube', 'config_file': '/home/bevel/build/config'}, 'vault': {'url': 'http://192.168.1.21:8217', 'root_token': 's.WtD9absblrkGSMkMYh3OlbzD'}, 'gitops': {'git_protocol': 'ssh', 'git_url': 'ssh://git@github.com/SynthNetics/bevel.git', 'branch': 'local', 'release_dir': 'platforms/r3-corda/releases/dev', 'chart_source': 'platforms/r3-corda/charts', 'git_repo': 'github.com/SynthNetics/bevel.git', 'username': 'SynthNetics', 'password': 'git_access_token', 'email': 'git@email.com', 'private_key': '/home/bevel/build/gitops'}, 'services': {'peers': [{'peer': None, 'name': 'manufacturer', 'subject': 'O=Manufacturer,OU=Manufacturer,L=47.38/8.54/Zurich,C=CH', 'type': 'node', 'p2p': {'port': 10002, 'targetPort': 10002, 'ambassador': 15020}, 'rpc': {'port': 10003, 'targetPort': 10003}, 'rpcadmin': {'port': 10005, 'targetPort': 10005}, 'dbtcp': {'port': 9101, 'targetPort': 1521}, 'dbweb': {'port': 8080, 'targetPort': 81}, 'springboot': {'targetPort': 20001, 'port': 20001}, 'expressapi': {'targetPort': 3000, 'port': 3000}}]}})  => {
    "ansible_loop_var": "item",
    "changed": false,
    "item": {
        "cloud_provider": "minikube",
        "country": "CH",
        "external_url_suffix": "develop.local.com",
        "gitops": {
            "branch": "local",
            "chart_source": "platforms/r3-corda/charts",
            "email": "git@email.com",
            "git_protocol": "ssh",
            "git_repo": "github.com/SynthNetics/bevel.git",
            "git_url": "ssh://git@github.com/SynthNetics/bevel.git",
            "password": "git_access_token",
            "private_key": "/home/bevel/build/gitops",
            "release_dir": "platforms/r3-corda/releases/dev",
            "username": "SynthNetics"
        },
        "k8s": {
            "config_file": "/home/bevel/build/config",
            "context": "minikube"
        },
        "location": "Zurich",
        "name": "manufacturer",
        "organization": null,
        "services": {
            "peers": [
                {
                    "dbtcp": {
                        "port": 9101,
                        "targetPort": 1521
                    },
                    "dbweb": {
                        "port": 8080,
                        "targetPort": 81
                    },
                    "expressapi": {
                        "port": 3000,
                        "targetPort": 3000
                    },
                    "name": "manufacturer",
                    "p2p": {
                        "ambassador": 15020,
                        "port": 10002,
                        "targetPort": 10002
                    },
                    "peer": null,
                    "rpc": {
                        "port": 10003,
                        "targetPort": 10003
                    },
                    "rpcadmin": {
                        "port": 10005,
                        "targetPort": 10005
                    },
                    "springboot": {
                        "port": 20001,
                        "targetPort": 20001
                    },
                    "subject": "O=Manufacturer,OU=Manufacturer,L=47.38/8.54/Zurich,C=CH",
                    "type": "node"
                }
            ]
        },
        "state": "Zurich",
        "subject": "O=Manufacturer,OU=Manufacturer,L=Zurich,C=CH",
        "type": "node",
        "vault": {
            "root_token": "s.WtD9absblrkGSMkMYh3OlbzD",
            "url": "http://192.168.1.21:8217"
        }
    },
    "skip_reason": "Conditional result was False"
}

TASK [Setup Vault Kubernetes for each organization] ****************************
task path: /home/bevel/platforms/hyperledger-fabric/configuration/deploy-network.yaml:40
skipping: [localhost] => (item={'organization': None, 'name': 'supplychain', 'country': 'UK', 'state': 'London', 'location': 'London', 'subject': 'CN=DLT Root CA,OU=DLT,O=DLT,L=London,C=GB', 'type': 'doorman-nms-notary', 'external_url_suffix': 'develop.local.com', 'cloud_provider': 'minikube', 'k8s': {'context': 'minikube', 'config_file': '/home/bevel/build/config'}, 'vault': {'url': 'http://192.168.1.21:8217', 'root_token': 's.WtD9absblrkGSMkMYh3OlbzD'}, 'gitops': {'git_protocol': 'ssh', 'git_url': 'ssh://git@github.com/SynthNetics/bevel.git', 'branch': 'test2', 'release_dir': 'platforms/r3-corda/releases/dev', 'chart_source': 'platforms/r3-corda/charts', 'git_repo': 'github.com/SynthNetics/bevel.git', 'username': 'SynthNetics', 'password': 'git_access_token', 'email': 'git@email.com', 'private_key': '/home/bevel/build/gitops'}, 'services': {'doorman': {'name': 'doorman', 'subject': 'CN=Corda Doorman CA,OU=DLT,O=DLT,L=Berlin,C=DE', 'db_subject': '/C=US/ST=California/L=San Francisco/O=My Company Ltd/OU=DBA/CN=mongoDB', 'type': 'doorman', 'ports': {'nodePort': 30030, 'servicePort': 8080, 'targetPort': 8080}, 'tls': 'on'}, 'nms': {'name': 'networkmap', 'subject': 'CN=Network Map,OU=FRA,O=FRA,L=Berlin,C=DE', 'db_subject': '/C=US/ST=California/L=San Francisco/O=My Company Ltd/OU=DBA/CN=mongoDB', 'type': 'networkmap', 'ports': {'nodePort': 30040, 'servicePort': 8080, 'targetPort': 8080}, 'tls': 'on'}, 'notary': {'name': 'notary', 'subject': 'O=Notary,OU=Notary,L=London,C=GB', 'type': 'notary', 'validating': False, 'p2p': {'port': 10002, 'targetPort': 10002, 'ambassador': 15010}, 'rpc': {'port': 10003, 'targetPort': 10003}, 'rpcadmin': {'port': 10005, 'targetPort': 10005}, 'dbtcp': {'port': 9101, 'targetPort': 1521}, 'dbweb': {'port': 8080, 'targetPort': 81}}}})  => {
    "ansible_loop_var": "item",
    "changed": false,
    "item": {
        "cloud_provider": "minikube",
        "country": "UK",
        "external_url_suffix": "develop.local.com",
        "gitops": {
            "branch": "test2",
            "chart_source": "platforms/r3-corda/charts",
            "email": "git@email.com",
            "git_protocol": "ssh",
            "git_repo": "github.com/SynthNetics/bevel.git",
            "git_url": "ssh://git@github.com/SynthNetics/bevel.git",
            "password": "git_access_token",
            "private_key": "/home/bevel/build/gitops",
            "release_dir": "platforms/r3-corda/releases/dev",
            "username": "SynthNetics"
        },
        "k8s": {
            "config_file": "/home/bevel/build/config",
            "context": "minikube"
        },
        "location": "London",
        "name": "supplychain",
        "organization": null,
        "services": {
            "doorman": {
                "db_subject": "/C=US/ST=California/L=San Francisco/O=My Company Ltd/OU=DBA/CN=mongoDB",
                "name": "doorman",
                "ports": {
                    "nodePort": 30030,
                    "servicePort": 8080,
                    "targetPort": 8080
                },
                "subject": "CN=Corda Doorman CA,OU=DLT,O=DLT,L=Berlin,C=DE",
                "tls": "on",
                "type": "doorman"
            },
            "nms": {
                "db_subject": "/C=US/ST=California/L=San Francisco/O=My Company Ltd/OU=DBA/CN=mongoDB",
                "name": "networkmap",
                "ports": {
                    "nodePort": 30040,
                    "servicePort": 8080,
                    "targetPort": 8080
                },
                "subject": "CN=Network Map,OU=FRA,O=FRA,L=Berlin,C=DE",
                "tls": "on",
                "type": "networkmap"
            },
            "notary": {
                "dbtcp": {
                    "port": 9101,
                    "targetPort": 1521
                },
                "dbweb": {
                    "port": 8080,
                    "targetPort": 81
                },
                "name": "notary",
                "p2p": {
                    "ambassador": 15010,
                    "port": 10002,
                    "targetPort": 10002
                },
                "rpc": {
                    "port": 10003,
                    "targetPort": 10003
                },
                "rpcadmin": {
                    "port": 10005,
                    "targetPort": 10005
                },
                "subject": "O=Notary,OU=Notary,L=London,C=GB",
                "type": "notary",
                "validating": false
            }
        },
        "state": "London",
        "subject": "CN=DLT Root CA,OU=DLT,O=DLT,L=London,C=GB",
        "type": "doorman-nms-notary",
        "vault": {
            "root_token": "s.WtD9absblrkGSMkMYh3OlbzD",
            "url": "http://192.168.1.21:8217"
        }
    },
    "skip_reason": "Conditional result was False"
}
skipping: [localhost] => (item={'organization': None, 'name': 'manufacturer', 'country': 'CH', 'state': 'Zurich', 'location': 'Zurich', 'subject': 'O=Manufacturer,OU=Manufacturer,L=Zurich,C=CH', 'type': 'node', 'external_url_suffix': 'develop.local.com', 'cloud_provider': 'minikube', 'k8s': {'context': 'minikube', 'config_file': '/home/bevel/build/config'}, 'vault': {'url': 'http://192.168.1.21:8217', 'root_token': 's.WtD9absblrkGSMkMYh3OlbzD'}, 'gitops': {'git_protocol': 'ssh', 'git_url': 'ssh://git@github.com/SynthNetics/bevel.git', 'branch': 'local', 'release_dir': 'platforms/r3-corda/releases/dev', 'chart_source': 'platforms/r3-corda/charts', 'git_repo': 'github.com/SynthNetics/bevel.git', 'username': 'SynthNetics', 'password': 'git_access_token', 'email': 'git@email.com', 'private_key': '/home/bevel/build/gitops'}, 'services': {'peers': [{'peer': None, 'name': 'manufacturer', 'subject': 'O=Manufacturer,OU=Manufacturer,L=47.38/8.54/Zurich,C=CH', 'type': 'node', 'p2p': {'port': 10002, 'targetPort': 10002, 'ambassador': 15020}, 'rpc': {'port': 10003, 'targetPort': 10003}, 'rpcadmin': {'port': 10005, 'targetPort': 10005}, 'dbtcp': {'port': 9101, 'targetPort': 1521}, 'dbweb': {'port': 8080, 'targetPort': 81}, 'springboot': {'targetPort': 20001, 'port': 20001}, 'expressapi': {'targetPort': 3000, 'port': 3000}}]}})  => {
    "ansible_loop_var": "item",
    "changed": false,
    "item": {
        "cloud_provider": "minikube",
        "country": "CH",
        "external_url_suffix": "develop.local.com",
        "gitops": {
            "branch": "local",
            "chart_source": "platforms/r3-corda/charts",
            "email": "git@email.com",
            "git_protocol": "ssh",
            "git_repo": "github.com/SynthNetics/bevel.git",
            "git_url": "ssh://git@github.com/SynthNetics/bevel.git",
            "password": "git_access_token",
            "private_key": "/home/bevel/build/gitops",
            "release_dir": "platforms/r3-corda/releases/dev",
            "username": "SynthNetics"
        },
        "k8s": {
            "config_file": "/home/bevel/build/config",
            "context": "minikube"
        },
        "location": "Zurich",
        "name": "manufacturer",
        "organization": null,
        "services": {
            "peers": [
                {
                    "dbtcp": {
                        "port": 9101,
                        "targetPort": 1521
                    },
                    "dbweb": {
                        "port": 8080,
                        "targetPort": 81
                    },
                    "expressapi": {
                        "port": 3000,
                        "targetPort": 3000
                    },
                    "name": "manufacturer",
                    "p2p": {
                        "ambassador": 15020,
                        "port": 10002,
                        "targetPort": 10002
                    },
                    "peer": null,
                    "rpc": {
                        "port": 10003,
                        "targetPort": 10003
                    },
                    "rpcadmin": {
                        "port": 10005,
                        "targetPort": 10005
                    },
                    "springboot": {
                        "port": 20001,
                        "targetPort": 20001
                    },
                    "subject": "O=Manufacturer,OU=Manufacturer,L=47.38/8.54/Zurich,C=CH",
                    "type": "node"
                }
            ]
        },
        "state": "Zurich",
        "subject": "O=Manufacturer,OU=Manufacturer,L=Zurich,C=CH",
        "type": "node",
        "vault": {
            "root_token": "s.WtD9absblrkGSMkMYh3OlbzD",
            "url": "http://192.168.1.21:8217"
        }
    },
    "skip_reason": "Conditional result was False"
}

TASK [Create storageclass for each organization] *******************************
task path: /home/bevel/platforms/hyperledger-fabric/configuration/deploy-network.yaml:52
skipping: [localhost] => (item={'organization': None, 'name': 'supplychain', 'country': 'UK', 'state': 'London', 'location': 'London', 'subject': 'CN=DLT Root CA,OU=DLT,O=DLT,L=London,C=GB', 'type': 'doorman-nms-notary', 'external_url_suffix': 'develop.local.com', 'cloud_provider': 'minikube', 'k8s': {'context': 'minikube', 'config_file': '/home/bevel/build/config'}, 'vault': {'url': 'http://192.168.1.21:8217', 'root_token': 's.WtD9absblrkGSMkMYh3OlbzD'}, 'gitops': {'git_protocol': 'ssh', 'git_url': 'ssh://git@github.com/SynthNetics/bevel.git', 'branch': 'test2', 'release_dir': 'platforms/r3-corda/releases/dev', 'chart_source': 'platforms/r3-corda/charts', 'git_repo': 'github.com/SynthNetics/bevel.git', 'username': 'SynthNetics', 'password': 'git_access_token', 'email': 'git@email.com', 'private_key': '/home/bevel/build/gitops'}, 'services': {'doorman': {'name': 'doorman', 'subject': 'CN=Corda Doorman CA,OU=DLT,O=DLT,L=Berlin,C=DE', 'db_subject': '/C=US/ST=California/L=San Francisco/O=My Company Ltd/OU=DBA/CN=mongoDB', 'type': 'doorman', 'ports': {'nodePort': 30030, 'servicePort': 8080, 'targetPort': 8080}, 'tls': 'on'}, 'nms': {'name': 'networkmap', 'subject': 'CN=Network Map,OU=FRA,O=FRA,L=Berlin,C=DE', 'db_subject': '/C=US/ST=California/L=San Francisco/O=My Company Ltd/OU=DBA/CN=mongoDB', 'type': 'networkmap', 'ports': {'nodePort': 30040, 'servicePort': 8080, 'targetPort': 8080}, 'tls': 'on'}, 'notary': {'name': 'notary', 'subject': 'O=Notary,OU=Notary,L=London,C=GB', 'type': 'notary', 'validating': False, 'p2p': {'port': 10002, 'targetPort': 10002, 'ambassador': 15010}, 'rpc': {'port': 10003, 'targetPort': 10003}, 'rpcadmin': {'port': 10005, 'targetPort': 10005}, 'dbtcp': {'port': 9101, 'targetPort': 1521}, 'dbweb': {'port': 8080, 'targetPort': 81}}}})  => {
    "ansible_loop_var": "item",
    "changed": false,
    "item": {
        "cloud_provider": "minikube",
        "country": "UK",
        "external_url_suffix": "develop.local.com",
        "gitops": {
            "branch": "test2",
            "chart_source": "platforms/r3-corda/charts",
            "email": "git@email.com",
            "git_protocol": "ssh",
            "git_repo": "github.com/SynthNetics/bevel.git",
            "git_url": "ssh://git@github.com/SynthNetics/bevel.git",
            "password": "git_access_token",
            "private_key": "/home/bevel/build/gitops",
            "release_dir": "platforms/r3-corda/releases/dev",
            "username": "SynthNetics"
        },
        "k8s": {
            "config_file": "/home/bevel/build/config",
            "context": "minikube"
        },
        "location": "London",
        "name": "supplychain",
        "organization": null,
        "services": {
            "doorman": {
                "db_subject": "/C=US/ST=California/L=San Francisco/O=My Company Ltd/OU=DBA/CN=mongoDB",
                "name": "doorman",
                "ports": {
                    "nodePort": 30030,
                    "servicePort": 8080,
                    "targetPort": 8080
                },
                "subject": "CN=Corda Doorman CA,OU=DLT,O=DLT,L=Berlin,C=DE",
                "tls": "on",
                "type": "doorman"
            },
            "nms": {
                "db_subject": "/C=US/ST=California/L=San Francisco/O=My Company Ltd/OU=DBA/CN=mongoDB",
                "name": "networkmap",
                "ports": {
                    "nodePort": 30040,
                    "servicePort": 8080,
                    "targetPort": 8080
                },
                "subject": "CN=Network Map,OU=FRA,O=FRA,L=Berlin,C=DE",
                "tls": "on",
                "type": "networkmap"
            },
            "notary": {
                "dbtcp": {
                    "port": 9101,
                    "targetPort": 1521
                },
                "dbweb": {
                    "port": 8080,
                    "targetPort": 81
                },
                "name": "notary",
                "p2p": {
                    "ambassador": 15010,
                    "port": 10002,
                    "targetPort": 10002
                },
                "rpc": {
                    "port": 10003,
                    "targetPort": 10003
                },
                "rpcadmin": {
                    "port": 10005,
                    "targetPort": 10005
                },
                "subject": "O=Notary,OU=Notary,L=London,C=GB",
                "type": "notary",
                "validating": false
            }
        },
        "state": "London",
        "subject": "CN=DLT Root CA,OU=DLT,O=DLT,L=London,C=GB",
        "type": "doorman-nms-notary",
        "vault": {
            "root_token": "s.WtD9absblrkGSMkMYh3OlbzD",
            "url": "http://192.168.1.21:8217"
        }
    },
    "skip_reason": "Conditional result was False"
}
skipping: [localhost] => (item={'organization': None, 'name': 'manufacturer', 'country': 'CH', 'state': 'Zurich', 'location': 'Zurich', 'subject': 'O=Manufacturer,OU=Manufacturer,L=Zurich,C=CH', 'type': 'node', 'external_url_suffix': 'develop.local.com', 'cloud_provider': 'minikube', 'k8s': {'context': 'minikube', 'config_file': '/home/bevel/build/config'}, 'vault': {'url': 'http://192.168.1.21:8217', 'root_token': 's.WtD9absblrkGSMkMYh3OlbzD'}, 'gitops': {'git_protocol': 'ssh', 'git_url': 'ssh://git@github.com/SynthNetics/bevel.git', 'branch': 'local', 'release_dir': 'platforms/r3-corda/releases/dev', 'chart_source': 'platforms/r3-corda/charts', 'git_repo': 'github.com/SynthNetics/bevel.git', 'username': 'SynthNetics', 'password': 'git_access_token', 'email': 'git@email.com', 'private_key': '/home/bevel/build/gitops'}, 'services': {'peers': [{'peer': None, 'name': 'manufacturer', 'subject': 'O=Manufacturer,OU=Manufacturer,L=47.38/8.54/Zurich,C=CH', 'type': 'node', 'p2p': {'port': 10002, 'targetPort': 10002, 'ambassador': 15020}, 'rpc': {'port': 10003, 'targetPort': 10003}, 'rpcadmin': {'port': 10005, 'targetPort': 10005}, 'dbtcp': {'port': 9101, 'targetPort': 1521}, 'dbweb': {'port': 8080, 'targetPort': 81}, 'springboot': {'targetPort': 20001, 'port': 20001}, 'expressapi': {'targetPort': 3000, 'port': 3000}}]}})  => {
    "ansible_loop_var": "item",
    "changed": false,
    "item": {
        "cloud_provider": "minikube",
        "country": "CH",
        "external_url_suffix": "develop.local.com",
        "gitops": {
            "branch": "local",
            "chart_source": "platforms/r3-corda/charts",
            "email": "git@email.com",
            "git_protocol": "ssh",
            "git_repo": "github.com/SynthNetics/bevel.git",
            "git_url": "ssh://git@github.com/SynthNetics/bevel.git",
            "password": "git_access_token",
            "private_key": "/home/bevel/build/gitops",
            "release_dir": "platforms/r3-corda/releases/dev",
            "username": "SynthNetics"
        },
        "k8s": {
            "config_file": "/home/bevel/build/config",
            "context": "minikube"
        },
        "location": "Zurich",
        "name": "manufacturer",
        "organization": null,
        "services": {
            "peers": [
                {
                    "dbtcp": {
                        "port": 9101,
                        "targetPort": 1521
                    },
                    "dbweb": {
                        "port": 8080,
                        "targetPort": 81
                    },
                    "expressapi": {
                        "port": 3000,
                        "targetPort": 3000
                    },
                    "name": "manufacturer",
                    "p2p": {
                        "ambassador": 15020,
                        "port": 10002,
                        "targetPort": 10002
                    },
                    "peer": null,
                    "rpc": {
                        "port": 10003,
                        "targetPort": 10003
                    },
                    "rpcadmin": {
                        "port": 10005,
                        "targetPort": 10005
                    },
                    "springboot": {
                        "port": 20001,
                        "targetPort": 20001
                    },
                    "subject": "O=Manufacturer,OU=Manufacturer,L=47.38/8.54/Zurich,C=CH",
                    "type": "node"
                }
            ]
        },
        "state": "Zurich",
        "subject": "O=Manufacturer,OU=Manufacturer,L=Zurich,C=CH",
        "type": "node",
        "vault": {
            "root_token": "s.WtD9absblrkGSMkMYh3OlbzD",
            "url": "http://192.168.1.21:8217"
        }
    },
    "skip_reason": "Conditional result was False"
}

TASK [Create CA server for each organization] **********************************
task path: /home/bevel/platforms/hyperledger-fabric/configuration/deploy-network.yaml:63
skipping: [localhost] => (item={'organization': None, 'name': 'supplychain', 'country': 'UK', 'state': 'London', 'location': 'London', 'subject': 'CN=DLT Root CA,OU=DLT,O=DLT,L=London,C=GB', 'type': 'doorman-nms-notary', 'external_url_suffix': 'develop.local.com', 'cloud_provider': 'minikube', 'k8s': {'context': 'minikube', 'config_file': '/home/bevel/build/config'}, 'vault': {'url': 'http://192.168.1.21:8217', 'root_token': 's.WtD9absblrkGSMkMYh3OlbzD'}, 'gitops': {'git_protocol': 'ssh', 'git_url': 'ssh://git@github.com/SynthNetics/bevel.git', 'branch': 'test2', 'release_dir': 'platforms/r3-corda/releases/dev', 'chart_source': 'platforms/r3-corda/charts', 'git_repo': 'github.com/SynthNetics/bevel.git', 'username': 'SynthNetics', 'password': 'git_access_token', 'email': 'git@email.com', 'private_key': '/home/bevel/build/gitops'}, 'services': {'doorman': {'name': 'doorman', 'subject': 'CN=Corda Doorman CA,OU=DLT,O=DLT,L=Berlin,C=DE', 'db_subject': '/C=US/ST=California/L=San Francisco/O=My Company Ltd/OU=DBA/CN=mongoDB', 'type': 'doorman', 'ports': {'nodePort': 30030, 'servicePort': 8080, 'targetPort': 8080}, 'tls': 'on'}, 'nms': {'name': 'networkmap', 'subject': 'CN=Network Map,OU=FRA,O=FRA,L=Berlin,C=DE', 'db_subject': '/C=US/ST=California/L=San Francisco/O=My Company Ltd/OU=DBA/CN=mongoDB', 'type': 'networkmap', 'ports': {'nodePort': 30040, 'servicePort': 8080, 'targetPort': 8080}, 'tls': 'on'}, 'notary': {'name': 'notary', 'subject': 'O=Notary,OU=Notary,L=London,C=GB', 'type': 'notary', 'validating': False, 'p2p': {'port': 10002, 'targetPort': 10002, 'ambassador': 15010}, 'rpc': {'port': 10003, 'targetPort': 10003}, 'rpcadmin': {'port': 10005, 'targetPort': 10005}, 'dbtcp': {'port': 9101, 'targetPort': 1521}, 'dbweb': {'port': 8080, 'targetPort': 81}}}})  => {
    "ansible_loop_var": "item",
    "changed": false,
    "item": {
        "cloud_provider": "minikube",
        "country": "UK",
        "external_url_suffix": "develop.local.com",
        "gitops": {
            "branch": "test2",
            "chart_source": "platforms/r3-corda/charts",
            "email": "git@email.com",
            "git_protocol": "ssh",
            "git_repo": "github.com/SynthNetics/bevel.git",
            "git_url": "ssh://git@github.com/SynthNetics/bevel.git",
            "password": "git_access_token",
            "private_key": "/home/bevel/build/gitops",
            "release_dir": "platforms/r3-corda/releases/dev",
            "username": "SynthNetics"
        },
        "k8s": {
            "config_file": "/home/bevel/build/config",
            "context": "minikube"
        },
        "location": "London",
        "name": "supplychain",
        "organization": null,
        "services": {
            "doorman": {
                "db_subject": "/C=US/ST=California/L=San Francisco/O=My Company Ltd/OU=DBA/CN=mongoDB",
                "name": "doorman",
                "ports": {
                    "nodePort": 30030,
                    "servicePort": 8080,
                    "targetPort": 8080
                },
                "subject": "CN=Corda Doorman CA,OU=DLT,O=DLT,L=Berlin,C=DE",
                "tls": "on",
                "type": "doorman"
            },
            "nms": {
                "db_subject": "/C=US/ST=California/L=San Francisco/O=My Company Ltd/OU=DBA/CN=mongoDB",
                "name": "networkmap",
                "ports": {
                    "nodePort": 30040,
                    "servicePort": 8080,
                    "targetPort": 8080
                },
                "subject": "CN=Network Map,OU=FRA,O=FRA,L=Berlin,C=DE",
                "tls": "on",
                "type": "networkmap"
            },
            "notary": {
                "dbtcp": {
                    "port": 9101,
                    "targetPort": 1521
                },
                "dbweb": {
                    "port": 8080,
                    "targetPort": 81
                },
                "name": "notary",
                "p2p": {
                    "ambassador": 15010,
                    "port": 10002,
                    "targetPort": 10002
                },
                "rpc": {
                    "port": 10003,
                    "targetPort": 10003
                },
                "rpcadmin": {
                    "port": 10005,
                    "targetPort": 10005
                },
                "subject": "O=Notary,OU=Notary,L=London,C=GB",
                "type": "notary",
                "validating": false
            }
        },
        "state": "London",
        "subject": "CN=DLT Root CA,OU=DLT,O=DLT,L=London,C=GB",
        "type": "doorman-nms-notary",
        "vault": {
            "root_token": "s.WtD9absblrkGSMkMYh3OlbzD",
            "url": "http://192.168.1.21:8217"
        }
    },
    "skip_reason": "Conditional result was False"
}
skipping: [localhost] => (item={'organization': None, 'name': 'manufacturer', 'country': 'CH', 'state': 'Zurich', 'location': 'Zurich', 'subject': 'O=Manufacturer,OU=Manufacturer,L=Zurich,C=CH', 'type': 'node', 'external_url_suffix': 'develop.local.com', 'cloud_provider': 'minikube', 'k8s': {'context': 'minikube', 'config_file': '/home/bevel/build/config'}, 'vault': {'url': 'http://192.168.1.21:8217', 'root_token': 's.WtD9absblrkGSMkMYh3OlbzD'}, 'gitops': {'git_protocol': 'ssh', 'git_url': 'ssh://git@github.com/SynthNetics/bevel.git', 'branch': 'local', 'release_dir': 'platforms/r3-corda/releases/dev', 'chart_source': 'platforms/r3-corda/charts', 'git_repo': 'github.com/SynthNetics/bevel.git', 'username': 'SynthNetics', 'password': 'git_access_token', 'email': 'git@email.com', 'private_key': '/home/bevel/build/gitops'}, 'services': {'peers': [{'peer': None, 'name': 'manufacturer', 'subject': 'O=Manufacturer,OU=Manufacturer,L=47.38/8.54/Zurich,C=CH', 'type': 'node', 'p2p': {'port': 10002, 'targetPort': 10002, 'ambassador': 15020}, 'rpc': {'port': 10003, 'targetPort': 10003}, 'rpcadmin': {'port': 10005, 'targetPort': 10005}, 'dbtcp': {'port': 9101, 'targetPort': 1521}, 'dbweb': {'port': 8080, 'targetPort': 81}, 'springboot': {'targetPort': 20001, 'port': 20001}, 'expressapi': {'targetPort': 3000, 'port': 3000}}]}})  => {
    "ansible_loop_var": "item",
    "changed": false,
    "item": {
        "cloud_provider": "minikube",
        "country": "CH",
        "external_url_suffix": "develop.local.com",
        "gitops": {
            "branch": "local",
            "chart_source": "platforms/r3-corda/charts",
            "email": "git@email.com",
            "git_protocol": "ssh",
            "git_repo": "github.com/SynthNetics/bevel.git",
            "git_url": "ssh://git@github.com/SynthNetics/bevel.git",
            "password": "git_access_token",
            "private_key": "/home/bevel/build/gitops",
            "release_dir": "platforms/r3-corda/releases/dev",
            "username": "SynthNetics"
        },
        "k8s": {
            "config_file": "/home/bevel/build/config",
            "context": "minikube"
        },
        "location": "Zurich",
        "name": "manufacturer",
        "organization": null,
        "services": {
            "peers": [
                {
                    "dbtcp": {
                        "port": 9101,
                        "targetPort": 1521
                    },
                    "dbweb": {
                        "port": 8080,
                        "targetPort": 81
                    },
                    "expressapi": {
                        "port": 3000,
                        "targetPort": 3000
                    },
                    "name": "manufacturer",
                    "p2p": {
                        "ambassador": 15020,
                        "port": 10002,
                        "targetPort": 10002
                    },
                    "peer": null,
                    "rpc": {
                        "port": 10003,
                        "targetPort": 10003
                    },
                    "rpcadmin": {
                        "port": 10005,
                        "targetPort": 10005
                    },
                    "springboot": {
                        "port": 20001,
                        "targetPort": 20001
                    },
                    "subject": "O=Manufacturer,OU=Manufacturer,L=47.38/8.54/Zurich,C=CH",
                    "type": "node"
                }
            ]
        },
        "state": "Zurich",
        "subject": "O=Manufacturer,OU=Manufacturer,L=Zurich,C=CH",
        "type": "node",
        "vault": {
            "root_token": "s.WtD9absblrkGSMkMYh3OlbzD",
            "url": "http://192.168.1.21:8217"
        }
    },
    "skip_reason": "Conditional result was False"
}

TASK [Create generate_crypto.sh for each organization] *************************
task path: /home/bevel/platforms/hyperledger-fabric/configuration/deploy-network.yaml:81
skipping: [localhost] => (item={'organization': None, 'name': 'supplychain', 'country': 'UK', 'state': 'London', 'location': 'London', 'subject': 'CN=DLT Root CA,OU=DLT,O=DLT,L=London,C=GB', 'type': 'doorman-nms-notary', 'external_url_suffix': 'develop.local.com', 'cloud_provider': 'minikube', 'k8s': {'context': 'minikube', 'config_file': '/home/bevel/build/config'}, 'vault': {'url': 'http://192.168.1.21:8217', 'root_token': 's.WtD9absblrkGSMkMYh3OlbzD'}, 'gitops': {'git_protocol': 'ssh', 'git_url': 'ssh://git@github.com/SynthNetics/bevel.git', 'branch': 'test2', 'release_dir': 'platforms/r3-corda/releases/dev', 'chart_source': 'platforms/r3-corda/charts', 'git_repo': 'github.com/SynthNetics/bevel.git', 'username': 'SynthNetics', 'password': 'git_access_token', 'email': 'git@email.com', 'private_key': '/home/bevel/build/gitops'}, 'services': {'doorman': {'name': 'doorman', 'subject': 'CN=Corda Doorman CA,OU=DLT,O=DLT,L=Berlin,C=DE', 'db_subject': '/C=US/ST=California/L=San Francisco/O=My Company Ltd/OU=DBA/CN=mongoDB', 'type': 'doorman', 'ports': {'nodePort': 30030, 'servicePort': 8080, 'targetPort': 8080}, 'tls': 'on'}, 'nms': {'name': 'networkmap', 'subject': 'CN=Network Map,OU=FRA,O=FRA,L=Berlin,C=DE', 'db_subject': '/C=US/ST=California/L=San Francisco/O=My Company Ltd/OU=DBA/CN=mongoDB', 'type': 'networkmap', 'ports': {'nodePort': 30040, 'servicePort': 8080, 'targetPort': 8080}, 'tls': 'on'}, 'notary': {'name': 'notary', 'subject': 'O=Notary,OU=Notary,L=London,C=GB', 'type': 'notary', 'validating': False, 'p2p': {'port': 10002, 'targetPort': 10002, 'ambassador': 15010}, 'rpc': {'port': 10003, 'targetPort': 10003}, 'rpcadmin': {'port': 10005, 'targetPort': 10005}, 'dbtcp': {'port': 9101, 'targetPort': 1521}, 'dbweb': {'port': 8080, 'targetPort': 81}}}})  => {
    "ansible_loop_var": "item",
    "changed": false,
    "item": {
        "cloud_provider": "minikube",
        "country": "UK",
        "external_url_suffix": "develop.local.com",
        "gitops": {
            "branch": "test2",
            "chart_source": "platforms/r3-corda/charts",
            "email": "git@email.com",
            "git_protocol": "ssh",
            "git_repo": "github.com/SynthNetics/bevel.git",
            "git_url": "ssh://git@github.com/SynthNetics/bevel.git",
            "password": "git_access_token",
            "private_key": "/home/bevel/build/gitops",
            "release_dir": "platforms/r3-corda/releases/dev",
            "username": "SynthNetics"
        },
        "k8s": {
            "config_file": "/home/bevel/build/config",
            "context": "minikube"
        },
        "location": "London",
        "name": "supplychain",
        "organization": null,
        "services": {
            "doorman": {
                "db_subject": "/C=US/ST=California/L=San Francisco/O=My Company Ltd/OU=DBA/CN=mongoDB",
                "name": "doorman",
                "ports": {
                    "nodePort": 30030,
                    "servicePort": 8080,
                    "targetPort": 8080
                },
                "subject": "CN=Corda Doorman CA,OU=DLT,O=DLT,L=Berlin,C=DE",
                "tls": "on",
                "type": "doorman"
            },
            "nms": {
                "db_subject": "/C=US/ST=California/L=San Francisco/O=My Company Ltd/OU=DBA/CN=mongoDB",
                "name": "networkmap",
                "ports": {
                    "nodePort": 30040,
                    "servicePort": 8080,
                    "targetPort": 8080
                },
                "subject": "CN=Network Map,OU=FRA,O=FRA,L=Berlin,C=DE",
                "tls": "on",
                "type": "networkmap"
            },
            "notary": {
                "dbtcp": {
                    "port": 9101,
                    "targetPort": 1521
                },
                "dbweb": {
                    "port": 8080,
                    "targetPort": 81
                },
                "name": "notary",
                "p2p": {
                    "ambassador": 15010,
                    "port": 10002,
                    "targetPort": 10002
                },
                "rpc": {
                    "port": 10003,
                    "targetPort": 10003
                },
                "rpcadmin": {
                    "port": 10005,
                    "targetPort": 10005
                },
                "subject": "O=Notary,OU=Notary,L=London,C=GB",
                "type": "notary",
                "validating": false
            }
        },
        "state": "London",
        "subject": "CN=DLT Root CA,OU=DLT,O=DLT,L=London,C=GB",
        "type": "doorman-nms-notary",
        "vault": {
            "root_token": "s.WtD9absblrkGSMkMYh3OlbzD",
            "url": "http://192.168.1.21:8217"
        }
    },
    "skip_reason": "Conditional result was False"
}
skipping: [localhost] => (item={'organization': None, 'name': 'manufacturer', 'country': 'CH', 'state': 'Zurich', 'location': 'Zurich', 'subject': 'O=Manufacturer,OU=Manufacturer,L=Zurich,C=CH', 'type': 'node', 'external_url_suffix': 'develop.local.com', 'cloud_provider': 'minikube', 'k8s': {'context': 'minikube', 'config_file': '/home/bevel/build/config'}, 'vault': {'url': 'http://192.168.1.21:8217', 'root_token': 's.WtD9absblrkGSMkMYh3OlbzD'}, 'gitops': {'git_protocol': 'ssh', 'git_url': 'ssh://git@github.com/SynthNetics/bevel.git', 'branch': 'local', 'release_dir': 'platforms/r3-corda/releases/dev', 'chart_source': 'platforms/r3-corda/charts', 'git_repo': 'github.com/SynthNetics/bevel.git', 'username': 'SynthNetics', 'password': 'git_access_token', 'email': 'git@email.com', 'private_key': '/home/bevel/build/gitops'}, 'services': {'peers': [{'peer': None, 'name': 'manufacturer', 'subject': 'O=Manufacturer,OU=Manufacturer,L=47.38/8.54/Zurich,C=CH', 'type': 'node', 'p2p': {'port': 10002, 'targetPort': 10002, 'ambassador': 15020}, 'rpc': {'port': 10003, 'targetPort': 10003}, 'rpcadmin': {'port': 10005, 'targetPort': 10005}, 'dbtcp': {'port': 9101, 'targetPort': 1521}, 'dbweb': {'port': 8080, 'targetPort': 81}, 'springboot': {'targetPort': 20001, 'port': 20001}, 'expressapi': {'targetPort': 3000, 'port': 3000}}]}})  => {
    "ansible_loop_var": "item",
    "changed": false,
    "item": {
        "cloud_provider": "minikube",
        "country": "CH",
        "external_url_suffix": "develop.local.com",
        "gitops": {
            "branch": "local",
            "chart_source": "platforms/r3-corda/charts",
            "email": "git@email.com",
            "git_protocol": "ssh",
            "git_repo": "github.com/SynthNetics/bevel.git",
            "git_url": "ssh://git@github.com/SynthNetics/bevel.git",
            "password": "git_access_token",
            "private_key": "/home/bevel/build/gitops",
            "release_dir": "platforms/r3-corda/releases/dev",
            "username": "SynthNetics"
        },
        "k8s": {
            "config_file": "/home/bevel/build/config",
            "context": "minikube"
        },
        "location": "Zurich",
        "name": "manufacturer",
        "organization": null,
        "services": {
            "peers": [
                {
                    "dbtcp": {
                        "port": 9101,
                        "targetPort": 1521
                    },
                    "dbweb": {
                        "port": 8080,
                        "targetPort": 81
                    },
                    "expressapi": {
                        "port": 3000,
                        "targetPort": 3000
                    },
                    "name": "manufacturer",
                    "p2p": {
                        "ambassador": 15020,
                        "port": 10002,
                        "targetPort": 10002
                    },
                    "peer": null,
                    "rpc": {
                        "port": 10003,
                        "targetPort": 10003
                    },
                    "rpcadmin": {
                        "port": 10005,
                        "targetPort": 10005
                    },
                    "springboot": {
                        "port": 20001,
                        "targetPort": 20001
                    },
                    "subject": "O=Manufacturer,OU=Manufacturer,L=47.38/8.54/Zurich,C=CH",
                    "type": "node"
                }
            ]
        },
        "state": "Zurich",
        "subject": "O=Manufacturer,OU=Manufacturer,L=Zurich,C=CH",
        "type": "node",
        "vault": {
            "root_token": "s.WtD9absblrkGSMkMYh3OlbzD",
            "url": "http://192.168.1.21:8217"
        }
    },
    "skip_reason": "Conditional result was False"
}

TASK [pause] *******************************************************************
task path: /home/bevel/platforms/hyperledger-fabric/configuration/deploy-network.yaml:91
skipping: [localhost] => {
    "changed": false,
    "skip_reason": "Conditional result was False"
}

TASK [Create CA tools for each organization] ***********************************
task path: /home/bevel/platforms/hyperledger-fabric/configuration/deploy-network.yaml:96
skipping: [localhost] => (item={'organization': None, 'name': 'supplychain', 'country': 'UK', 'state': 'London', 'location': 'London', 'subject': 'CN=DLT Root CA,OU=DLT,O=DLT,L=London,C=GB', 'type': 'doorman-nms-notary', 'external_url_suffix': 'develop.local.com', 'cloud_provider': 'minikube', 'k8s': {'context': 'minikube', 'config_file': '/home/bevel/build/config'}, 'vault': {'url': 'http://192.168.1.21:8217', 'root_token': 's.WtD9absblrkGSMkMYh3OlbzD'}, 'gitops': {'git_protocol': 'ssh', 'git_url': 'ssh://git@github.com/SynthNetics/bevel.git', 'branch': 'test2', 'release_dir': 'platforms/r3-corda/releases/dev', 'chart_source': 'platforms/r3-corda/charts', 'git_repo': 'github.com/SynthNetics/bevel.git', 'username': 'SynthNetics', 'password': 'git_access_token', 'email': 'git@email.com', 'private_key': '/home/bevel/build/gitops'}, 'services': {'doorman': {'name': 'doorman', 'subject': 'CN=Corda Doorman CA,OU=DLT,O=DLT,L=Berlin,C=DE', 'db_subject': '/C=US/ST=California/L=San Francisco/O=My Company Ltd/OU=DBA/CN=mongoDB', 'type': 'doorman', 'ports': {'nodePort': 30030, 'servicePort': 8080, 'targetPort': 8080}, 'tls': 'on'}, 'nms': {'name': 'networkmap', 'subject': 'CN=Network Map,OU=FRA,O=FRA,L=Berlin,C=DE', 'db_subject': '/C=US/ST=California/L=San Francisco/O=My Company Ltd/OU=DBA/CN=mongoDB', 'type': 'networkmap', 'ports': {'nodePort': 30040, 'servicePort': 8080, 'targetPort': 8080}, 'tls': 'on'}, 'notary': {'name': 'notary', 'subject': 'O=Notary,OU=Notary,L=London,C=GB', 'type': 'notary', 'validating': False, 'p2p': {'port': 10002, 'targetPort': 10002, 'ambassador': 15010}, 'rpc': {'port': 10003, 'targetPort': 10003}, 'rpcadmin': {'port': 10005, 'targetPort': 10005}, 'dbtcp': {'port': 9101, 'targetPort': 1521}, 'dbweb': {'port': 8080, 'targetPort': 81}}}})  => {
    "ansible_loop_var": "item",
    "changed": false,
    "item": {
        "cloud_provider": "minikube",
        "country": "UK",
        "external_url_suffix": "develop.local.com",
        "gitops": {
            "branch": "test2",
            "chart_source": "platforms/r3-corda/charts",
            "email": "git@email.com",
            "git_protocol": "ssh",
            "git_repo": "github.com/SynthNetics/bevel.git",
            "git_url": "ssh://git@github.com/SynthNetics/bevel.git",
            "password": "git_access_token",
            "private_key": "/home/bevel/build/gitops",
            "release_dir": "platforms/r3-corda/releases/dev",
            "username": "SynthNetics"
        },
        "k8s": {
            "config_file": "/home/bevel/build/config",
            "context": "minikube"
        },
        "location": "London",
        "name": "supplychain",
        "organization": null,
        "services": {
            "doorman": {
                "db_subject": "/C=US/ST=California/L=San Francisco/O=My Company Ltd/OU=DBA/CN=mongoDB",
                "name": "doorman",
                "ports": {
                    "nodePort": 30030,
                    "servicePort": 8080,
                    "targetPort": 8080
                },
                "subject": "CN=Corda Doorman CA,OU=DLT,O=DLT,L=Berlin,C=DE",
                "tls": "on",
                "type": "doorman"
            },
            "nms": {
                "db_subject": "/C=US/ST=California/L=San Francisco/O=My Company Ltd/OU=DBA/CN=mongoDB",
                "name": "networkmap",
                "ports": {
                    "nodePort": 30040,
                    "servicePort": 8080,
                    "targetPort": 8080
                },
                "subject": "CN=Network Map,OU=FRA,O=FRA,L=Berlin,C=DE",
                "tls": "on",
                "type": "networkmap"
            },
            "notary": {
                "dbtcp": {
                    "port": 9101,
                    "targetPort": 1521
                },
                "dbweb": {
                    "port": 8080,
                    "targetPort": 81
                },
                "name": "notary",
                "p2p": {
                    "ambassador": 15010,
                    "port": 10002,
                    "targetPort": 10002
                },
                "rpc": {
                    "port": 10003,
                    "targetPort": 10003
                },
                "rpcadmin": {
                    "port": 10005,
                    "targetPort": 10005
                },
                "subject": "O=Notary,OU=Notary,L=London,C=GB",
                "type": "notary",
                "validating": false
            }
        },
        "state": "London",
        "subject": "CN=DLT Root CA,OU=DLT,O=DLT,L=London,C=GB",
        "type": "doorman-nms-notary",
        "vault": {
            "root_token": "s.WtD9absblrkGSMkMYh3OlbzD",
            "url": "http://192.168.1.21:8217"
        }
    },
    "skip_reason": "Conditional result was False"
}
skipping: [localhost] => (item={'organization': None, 'name': 'manufacturer', 'country': 'CH', 'state': 'Zurich', 'location': 'Zurich', 'subject': 'O=Manufacturer,OU=Manufacturer,L=Zurich,C=CH', 'type': 'node', 'external_url_suffix': 'develop.local.com', 'cloud_provider': 'minikube', 'k8s': {'context': 'minikube', 'config_file': '/home/bevel/build/config'}, 'vault': {'url': 'http://192.168.1.21:8217', 'root_token': 's.WtD9absblrkGSMkMYh3OlbzD'}, 'gitops': {'git_protocol': 'ssh', 'git_url': 'ssh://git@github.com/SynthNetics/bevel.git', 'branch': 'local', 'release_dir': 'platforms/r3-corda/releases/dev', 'chart_source': 'platforms/r3-corda/charts', 'git_repo': 'github.com/SynthNetics/bevel.git', 'username': 'SynthNetics', 'password': 'git_access_token', 'email': 'git@email.com', 'private_key': '/home/bevel/build/gitops'}, 'services': {'peers': [{'peer': None, 'name': 'manufacturer', 'subject': 'O=Manufacturer,OU=Manufacturer,L=47.38/8.54/Zurich,C=CH', 'type': 'node', 'p2p': {'port': 10002, 'targetPort': 10002, 'ambassador': 15020}, 'rpc': {'port': 10003, 'targetPort': 10003}, 'rpcadmin': {'port': 10005, 'targetPort': 10005}, 'dbtcp': {'port': 9101, 'targetPort': 1521}, 'dbweb': {'port': 8080, 'targetPort': 81}, 'springboot': {'targetPort': 20001, 'port': 20001}, 'expressapi': {'targetPort': 3000, 'port': 3000}}]}})  => {
    "ansible_loop_var": "item",
    "changed": false,
    "item": {
        "cloud_provider": "minikube",
        "country": "CH",
        "external_url_suffix": "develop.local.com",
        "gitops": {
            "branch": "local",
            "chart_source": "platforms/r3-corda/charts",
            "email": "git@email.com",
            "git_protocol": "ssh",
            "git_repo": "github.com/SynthNetics/bevel.git",
            "git_url": "ssh://git@github.com/SynthNetics/bevel.git",
            "password": "git_access_token",
            "private_key": "/home/bevel/build/gitops",
            "release_dir": "platforms/r3-corda/releases/dev",
            "username": "SynthNetics"
        },
        "k8s": {
            "config_file": "/home/bevel/build/config",
            "context": "minikube"
        },
        "location": "Zurich",
        "name": "manufacturer",
        "organization": null,
        "services": {
            "peers": [
                {
                    "dbtcp": {
                        "port": 9101,
                        "targetPort": 1521
                    },
                    "dbweb": {
                        "port": 8080,
                        "targetPort": 81
                    },
                    "expressapi": {
                        "port": 3000,
                        "targetPort": 3000
                    },
                    "name": "manufacturer",
                    "p2p": {
                        "ambassador": 15020,
                        "port": 10002,
                        "targetPort": 10002
                    },
                    "peer": null,
                    "rpc": {
                        "port": 10003,
                        "targetPort": 10003
                    },
                    "rpcadmin": {
                        "port": 10005,
                        "targetPort": 10005
                    },
                    "springboot": {
                        "port": 20001,
                        "targetPort": 20001
                    },
                    "subject": "O=Manufacturer,OU=Manufacturer,L=47.38/8.54/Zurich,C=CH",
                    "type": "node"
                }
            ]
        },
        "state": "Zurich",
        "subject": "O=Manufacturer,OU=Manufacturer,L=Zurich,C=CH",
        "type": "node",
        "vault": {
            "root_token": "s.WtD9absblrkGSMkMYh3OlbzD",
            "url": "http://192.168.1.21:8217"
        }
    },
    "skip_reason": "Conditional result was False"
}

TASK [Create CA tools for each organization] ***********************************
task path: /home/bevel/platforms/hyperledger-fabric/configuration/deploy-network.yaml:113
skipping: [localhost] => (item={'organization': None, 'name': 'supplychain', 'country': 'UK', 'state': 'London', 'location': 'London', 'subject': 'CN=DLT Root CA,OU=DLT,O=DLT,L=London,C=GB', 'type': 'doorman-nms-notary', 'external_url_suffix': 'develop.local.com', 'cloud_provider': 'minikube', 'k8s': {'context': 'minikube', 'config_file': '/home/bevel/build/config'}, 'vault': {'url': 'http://192.168.1.21:8217', 'root_token': 's.WtD9absblrkGSMkMYh3OlbzD'}, 'gitops': {'git_protocol': 'ssh', 'git_url': 'ssh://git@github.com/SynthNetics/bevel.git', 'branch': 'test2', 'release_dir': 'platforms/r3-corda/releases/dev', 'chart_source': 'platforms/r3-corda/charts', 'git_repo': 'github.com/SynthNetics/bevel.git', 'username': 'SynthNetics', 'password': 'git_access_token', 'email': 'git@email.com', 'private_key': '/home/bevel/build/gitops'}, 'services': {'doorman': {'name': 'doorman', 'subject': 'CN=Corda Doorman CA,OU=DLT,O=DLT,L=Berlin,C=DE', 'db_subject': '/C=US/ST=California/L=San Francisco/O=My Company Ltd/OU=DBA/CN=mongoDB', 'type': 'doorman', 'ports': {'nodePort': 30030, 'servicePort': 8080, 'targetPort': 8080}, 'tls': 'on'}, 'nms': {'name': 'networkmap', 'subject': 'CN=Network Map,OU=FRA,O=FRA,L=Berlin,C=DE', 'db_subject': '/C=US/ST=California/L=San Francisco/O=My Company Ltd/OU=DBA/CN=mongoDB', 'type': 'networkmap', 'ports': {'nodePort': 30040, 'servicePort': 8080, 'targetPort': 8080}, 'tls': 'on'}, 'notary': {'name': 'notary', 'subject': 'O=Notary,OU=Notary,L=London,C=GB', 'type': 'notary', 'validating': False, 'p2p': {'port': 10002, 'targetPort': 10002, 'ambassador': 15010}, 'rpc': {'port': 10003, 'targetPort': 10003}, 'rpcadmin': {'port': 10005, 'targetPort': 10005}, 'dbtcp': {'port': 9101, 'targetPort': 1521}, 'dbweb': {'port': 8080, 'targetPort': 81}}}})  => {
    "ansible_loop_var": "item",
    "changed": false,
    "item": {
        "cloud_provider": "minikube",
        "country": "UK",
        "external_url_suffix": "develop.local.com",
        "gitops": {
            "branch": "test2",
            "chart_source": "platforms/r3-corda/charts",
            "email": "git@email.com",
            "git_protocol": "ssh",
            "git_repo": "github.com/SynthNetics/bevel.git",
            "git_url": "ssh://git@github.com/SynthNetics/bevel.git",
            "password": "git_access_token",
            "private_key": "/home/bevel/build/gitops",
            "release_dir": "platforms/r3-corda/releases/dev",
            "username": "SynthNetics"
        },
        "k8s": {
            "config_file": "/home/bevel/build/config",
            "context": "minikube"
        },
        "location": "London",
        "name": "supplychain",
        "organization": null,
        "services": {
            "doorman": {
                "db_subject": "/C=US/ST=California/L=San Francisco/O=My Company Ltd/OU=DBA/CN=mongoDB",
                "name": "doorman",
                "ports": {
                    "nodePort": 30030,
                    "servicePort": 8080,
                    "targetPort": 8080
                },
                "subject": "CN=Corda Doorman CA,OU=DLT,O=DLT,L=Berlin,C=DE",
                "tls": "on",
                "type": "doorman"
            },
            "nms": {
                "db_subject": "/C=US/ST=California/L=San Francisco/O=My Company Ltd/OU=DBA/CN=mongoDB",
                "name": "networkmap",
                "ports": {
                    "nodePort": 30040,
                    "servicePort": 8080,
                    "targetPort": 8080
                },
                "subject": "CN=Network Map,OU=FRA,O=FRA,L=Berlin,C=DE",
                "tls": "on",
                "type": "networkmap"
            },
            "notary": {
                "dbtcp": {
                    "port": 9101,
                    "targetPort": 1521
                },
                "dbweb": {
                    "port": 8080,
                    "targetPort": 81
                },
                "name": "notary",
                "p2p": {
                    "ambassador": 15010,
                    "port": 10002,
                    "targetPort": 10002
                },
                "rpc": {
                    "port": 10003,
                    "targetPort": 10003
                },
                "rpcadmin": {
                    "port": 10005,
                    "targetPort": 10005
                },
                "subject": "O=Notary,OU=Notary,L=London,C=GB",
                "type": "notary",
                "validating": false
            }
        },
        "state": "London",
        "subject": "CN=DLT Root CA,OU=DLT,O=DLT,L=London,C=GB",
        "type": "doorman-nms-notary",
        "vault": {
            "root_token": "s.WtD9absblrkGSMkMYh3OlbzD",
            "url": "http://192.168.1.21:8217"
        }
    },
    "skip_reason": "Conditional result was False"
}
skipping: [localhost] => (item={'organization': None, 'name': 'manufacturer', 'country': 'CH', 'state': 'Zurich', 'location': 'Zurich', 'subject': 'O=Manufacturer,OU=Manufacturer,L=Zurich,C=CH', 'type': 'node', 'external_url_suffix': 'develop.local.com', 'cloud_provider': 'minikube', 'k8s': {'context': 'minikube', 'config_file': '/home/bevel/build/config'}, 'vault': {'url': 'http://192.168.1.21:8217', 'root_token': 's.WtD9absblrkGSMkMYh3OlbzD'}, 'gitops': {'git_protocol': 'ssh', 'git_url': 'ssh://git@github.com/SynthNetics/bevel.git', 'branch': 'local', 'release_dir': 'platforms/r3-corda/releases/dev', 'chart_source': 'platforms/r3-corda/charts', 'git_repo': 'github.com/SynthNetics/bevel.git', 'username': 'SynthNetics', 'password': 'git_access_token', 'email': 'git@email.com', 'private_key': '/home/bevel/build/gitops'}, 'services': {'peers': [{'peer': None, 'name': 'manufacturer', 'subject': 'O=Manufacturer,OU=Manufacturer,L=47.38/8.54/Zurich,C=CH', 'type': 'node', 'p2p': {'port': 10002, 'targetPort': 10002, 'ambassador': 15020}, 'rpc': {'port': 10003, 'targetPort': 10003}, 'rpcadmin': {'port': 10005, 'targetPort': 10005}, 'dbtcp': {'port': 9101, 'targetPort': 1521}, 'dbweb': {'port': 8080, 'targetPort': 81}, 'springboot': {'targetPort': 20001, 'port': 20001}, 'expressapi': {'targetPort': 3000, 'port': 3000}}]}})  => {
    "ansible_loop_var": "item",
    "changed": false,
    "item": {
        "cloud_provider": "minikube",
        "country": "CH",
        "external_url_suffix": "develop.local.com",
        "gitops": {
            "branch": "local",
            "chart_source": "platforms/r3-corda/charts",
            "email": "git@email.com",
            "git_protocol": "ssh",
            "git_repo": "github.com/SynthNetics/bevel.git",
            "git_url": "ssh://git@github.com/SynthNetics/bevel.git",
            "password": "git_access_token",
            "private_key": "/home/bevel/build/gitops",
            "release_dir": "platforms/r3-corda/releases/dev",
            "username": "SynthNetics"
        },
        "k8s": {
            "config_file": "/home/bevel/build/config",
            "context": "minikube"
        },
        "location": "Zurich",
        "name": "manufacturer",
        "organization": null,
        "services": {
            "peers": [
                {
                    "dbtcp": {
                        "port": 9101,
                        "targetPort": 1521
                    },
                    "dbweb": {
                        "port": 8080,
                        "targetPort": 81
                    },
                    "expressapi": {
                        "port": 3000,
                        "targetPort": 3000
                    },
                    "name": "manufacturer",
                    "p2p": {
                        "ambassador": 15020,
                        "port": 10002,
                        "targetPort": 10002
                    },
                    "peer": null,
                    "rpc": {
                        "port": 10003,
                        "targetPort": 10003
                    },
                    "rpcadmin": {
                        "port": 10005,
                        "targetPort": 10005
                    },
                    "springboot": {
                        "port": 20001,
                        "targetPort": 20001
                    },
                    "subject": "O=Manufacturer,OU=Manufacturer,L=47.38/8.54/Zurich,C=CH",
                    "type": "node"
                }
            ]
        },
        "state": "Zurich",
        "subject": "O=Manufacturer,OU=Manufacturer,L=Zurich,C=CH",
        "type": "node",
        "vault": {
            "root_token": "s.WtD9absblrkGSMkMYh3OlbzD",
            "url": "http://192.168.1.21:8217"
        }
    },
    "skip_reason": "Conditional result was False"
}

TASK [Create configtx.yaml] ****************************************************
task path: /home/bevel/platforms/hyperledger-fabric/configuration/deploy-network.yaml:132
skipping: [localhost] => {
    "changed": false,
    "skip_reason": "Conditional result was False"
}

TASK [Create channel artifacts for all channels] *******************************
task path: /home/bevel/platforms/hyperledger-fabric/configuration/deploy-network.yaml:139
skipping: [localhost] => {
    "changed": false,
    "skip_reason": "Conditional result was False"
}

TASK [Create genesis block] ****************************************************
task path: /home/bevel/platforms/hyperledger-fabric/configuration/deploy-network.yaml:149
skipping: [localhost] => {
    "changed": false,
    "skip_reason": "Conditional result was False"
}

TASK [Create all orderers] *****************************************************
task path: /home/bevel/platforms/hyperledger-fabric/configuration/deploy-network.yaml:158
skipping: [localhost] => (item={'organization': None, 'name': 'supplychain', 'country': 'UK', 'state': 'London', 'location': 'London', 'subject': 'CN=DLT Root CA,OU=DLT,O=DLT,L=London,C=GB', 'type': 'doorman-nms-notary', 'external_url_suffix': 'develop.local.com', 'cloud_provider': 'minikube', 'k8s': {'context': 'minikube', 'config_file': '/home/bevel/build/config'}, 'vault': {'url': 'http://192.168.1.21:8217', 'root_token': 's.WtD9absblrkGSMkMYh3OlbzD'}, 'gitops': {'git_protocol': 'ssh', 'git_url': 'ssh://git@github.com/SynthNetics/bevel.git', 'branch': 'test2', 'release_dir': 'platforms/r3-corda/releases/dev', 'chart_source': 'platforms/r3-corda/charts', 'git_repo': 'github.com/SynthNetics/bevel.git', 'username': 'SynthNetics', 'password': 'git_access_token', 'email': 'git@email.com', 'private_key': '/home/bevel/build/gitops'}, 'services': {'doorman': {'name': 'doorman', 'subject': 'CN=Corda Doorman CA,OU=DLT,O=DLT,L=Berlin,C=DE', 'db_subject': '/C=US/ST=California/L=San Francisco/O=My Company Ltd/OU=DBA/CN=mongoDB', 'type': 'doorman', 'ports': {'nodePort': 30030, 'servicePort': 8080, 'targetPort': 8080}, 'tls': 'on'}, 'nms': {'name': 'networkmap', 'subject': 'CN=Network Map,OU=FRA,O=FRA,L=Berlin,C=DE', 'db_subject': '/C=US/ST=California/L=San Francisco/O=My Company Ltd/OU=DBA/CN=mongoDB', 'type': 'networkmap', 'ports': {'nodePort': 30040, 'servicePort': 8080, 'targetPort': 8080}, 'tls': 'on'}, 'notary': {'name': 'notary', 'subject': 'O=Notary,OU=Notary,L=London,C=GB', 'type': 'notary', 'validating': False, 'p2p': {'port': 10002, 'targetPort': 10002, 'ambassador': 15010}, 'rpc': {'port': 10003, 'targetPort': 10003}, 'rpcadmin': {'port': 10005, 'targetPort': 10005}, 'dbtcp': {'port': 9101, 'targetPort': 1521}, 'dbweb': {'port': 8080, 'targetPort': 81}}}})  => {
    "ansible_loop_var": "item",
    "changed": false,
    "item": {
        "cloud_provider": "minikube",
        "country": "UK",
        "external_url_suffix": "develop.local.com",
        "gitops": {
            "branch": "test2",
            "chart_source": "platforms/r3-corda/charts",
            "email": "git@email.com",
            "git_protocol": "ssh",
            "git_repo": "github.com/SynthNetics/bevel.git",
            "git_url": "ssh://git@github.com/SynthNetics/bevel.git",
            "password": "git_access_token",
            "private_key": "/home/bevel/build/gitops",
            "release_dir": "platforms/r3-corda/releases/dev",
            "username": "SynthNetics"
        },
        "k8s": {
            "config_file": "/home/bevel/build/config",
            "context": "minikube"
        },
        "location": "London",
        "name": "supplychain",
        "organization": null,
        "services": {
            "doorman": {
                "db_subject": "/C=US/ST=California/L=San Francisco/O=My Company Ltd/OU=DBA/CN=mongoDB",
                "name": "doorman",
                "ports": {
                    "nodePort": 30030,
                    "servicePort": 8080,
                    "targetPort": 8080
                },
                "subject": "CN=Corda Doorman CA,OU=DLT,O=DLT,L=Berlin,C=DE",
                "tls": "on",
                "type": "doorman"
            },
            "nms": {
                "db_subject": "/C=US/ST=California/L=San Francisco/O=My Company Ltd/OU=DBA/CN=mongoDB",
                "name": "networkmap",
                "ports": {
                    "nodePort": 30040,
                    "servicePort": 8080,
                    "targetPort": 8080
                },
                "subject": "CN=Network Map,OU=FRA,O=FRA,L=Berlin,C=DE",
                "tls": "on",
                "type": "networkmap"
            },
            "notary": {
                "dbtcp": {
                    "port": 9101,
                    "targetPort": 1521
                },
                "dbweb": {
                    "port": 8080,
                    "targetPort": 81
                },
                "name": "notary",
                "p2p": {
                    "ambassador": 15010,
                    "port": 10002,
                    "targetPort": 10002
                },
                "rpc": {
                    "port": 10003,
                    "targetPort": 10003
                },
                "rpcadmin": {
                    "port": 10005,
                    "targetPort": 10005
                },
                "subject": "O=Notary,OU=Notary,L=London,C=GB",
                "type": "notary",
                "validating": false
            }
        },
        "state": "London",
        "subject": "CN=DLT Root CA,OU=DLT,O=DLT,L=London,C=GB",
        "type": "doorman-nms-notary",
        "vault": {
            "root_token": "s.WtD9absblrkGSMkMYh3OlbzD",
            "url": "http://192.168.1.21:8217"
        }
    },
    "skip_reason": "Conditional result was False"
}
skipping: [localhost] => (item={'organization': None, 'name': 'manufacturer', 'country': 'CH', 'state': 'Zurich', 'location': 'Zurich', 'subject': 'O=Manufacturer,OU=Manufacturer,L=Zurich,C=CH', 'type': 'node', 'external_url_suffix': 'develop.local.com', 'cloud_provider': 'minikube', 'k8s': {'context': 'minikube', 'config_file': '/home/bevel/build/config'}, 'vault': {'url': 'http://192.168.1.21:8217', 'root_token': 's.WtD9absblrkGSMkMYh3OlbzD'}, 'gitops': {'git_protocol': 'ssh', 'git_url': 'ssh://git@github.com/SynthNetics/bevel.git', 'branch': 'local', 'release_dir': 'platforms/r3-corda/releases/dev', 'chart_source': 'platforms/r3-corda/charts', 'git_repo': 'github.com/SynthNetics/bevel.git', 'username': 'SynthNetics', 'password': 'git_access_token', 'email': 'git@email.com', 'private_key': '/home/bevel/build/gitops'}, 'services': {'peers': [{'peer': None, 'name': 'manufacturer', 'subject': 'O=Manufacturer,OU=Manufacturer,L=47.38/8.54/Zurich,C=CH', 'type': 'node', 'p2p': {'port': 10002, 'targetPort': 10002, 'ambassador': 15020}, 'rpc': {'port': 10003, 'targetPort': 10003}, 'rpcadmin': {'port': 10005, 'targetPort': 10005}, 'dbtcp': {'port': 9101, 'targetPort': 1521}, 'dbweb': {'port': 8080, 'targetPort': 81}, 'springboot': {'targetPort': 20001, 'port': 20001}, 'expressapi': {'targetPort': 3000, 'port': 3000}}]}})  => {
    "ansible_loop_var": "item",
    "changed": false,
    "item": {
        "cloud_provider": "minikube",
        "country": "CH",
        "external_url_suffix": "develop.local.com",
        "gitops": {
            "branch": "local",
            "chart_source": "platforms/r3-corda/charts",
            "email": "git@email.com",
            "git_protocol": "ssh",
            "git_repo": "github.com/SynthNetics/bevel.git",
            "git_url": "ssh://git@github.com/SynthNetics/bevel.git",
            "password": "git_access_token",
            "private_key": "/home/bevel/build/gitops",
            "release_dir": "platforms/r3-corda/releases/dev",
            "username": "SynthNetics"
        },
        "k8s": {
            "config_file": "/home/bevel/build/config",
            "context": "minikube"
        },
        "location": "Zurich",
        "name": "manufacturer",
        "organization": null,
        "services": {
            "peers": [
                {
                    "dbtcp": {
                        "port": 9101,
                        "targetPort": 1521
                    },
                    "dbweb": {
                        "port": 8080,
                        "targetPort": 81
                    },
                    "expressapi": {
                        "port": 3000,
                        "targetPort": 3000
                    },
                    "name": "manufacturer",
                    "p2p": {
                        "ambassador": 15020,
                        "port": 10002,
                        "targetPort": 10002
                    },
                    "peer": null,
                    "rpc": {
                        "port": 10003,
                        "targetPort": 10003
                    },
                    "rpcadmin": {
                        "port": 10005,
                        "targetPort": 10005
                    },
                    "springboot": {
                        "port": 20001,
                        "targetPort": 20001
                    },
                    "subject": "O=Manufacturer,OU=Manufacturer,L=47.38/8.54/Zurich,C=CH",
                    "type": "node"
                }
            ]
        },
        "state": "Zurich",
        "subject": "O=Manufacturer,OU=Manufacturer,L=Zurich,C=CH",
        "type": "node",
        "vault": {
            "root_token": "s.WtD9absblrkGSMkMYh3OlbzD",
            "url": "http://192.168.1.21:8217"
        }
    },
    "skip_reason": "Conditional result was False"
}

TASK [Create all peers] ********************************************************
task path: /home/bevel/platforms/hyperledger-fabric/configuration/deploy-network.yaml:178
skipping: [localhost] => (item={'organization': None, 'name': 'supplychain', 'country': 'UK', 'state': 'London', 'location': 'London', 'subject': 'CN=DLT Root CA,OU=DLT,O=DLT,L=London,C=GB', 'type': 'doorman-nms-notary', 'external_url_suffix': 'develop.local.com', 'cloud_provider': 'minikube', 'k8s': {'context': 'minikube', 'config_file': '/home/bevel/build/config'}, 'vault': {'url': 'http://192.168.1.21:8217', 'root_token': 's.WtD9absblrkGSMkMYh3OlbzD'}, 'gitops': {'git_protocol': 'ssh', 'git_url': 'ssh://git@github.com/SynthNetics/bevel.git', 'branch': 'test2', 'release_dir': 'platforms/r3-corda/releases/dev', 'chart_source': 'platforms/r3-corda/charts', 'git_repo': 'github.com/SynthNetics/bevel.git', 'username': 'SynthNetics', 'password': 'git_access_token', 'email': 'git@email.com', 'private_key': '/home/bevel/build/gitops'}, 'services': {'doorman': {'name': 'doorman', 'subject': 'CN=Corda Doorman CA,OU=DLT,O=DLT,L=Berlin,C=DE', 'db_subject': '/C=US/ST=California/L=San Francisco/O=My Company Ltd/OU=DBA/CN=mongoDB', 'type': 'doorman', 'ports': {'nodePort': 30030, 'servicePort': 8080, 'targetPort': 8080}, 'tls': 'on'}, 'nms': {'name': 'networkmap', 'subject': 'CN=Network Map,OU=FRA,O=FRA,L=Berlin,C=DE', 'db_subject': '/C=US/ST=California/L=San Francisco/O=My Company Ltd/OU=DBA/CN=mongoDB', 'type': 'networkmap', 'ports': {'nodePort': 30040, 'servicePort': 8080, 'targetPort': 8080}, 'tls': 'on'}, 'notary': {'name': 'notary', 'subject': 'O=Notary,OU=Notary,L=London,C=GB', 'type': 'notary', 'validating': False, 'p2p': {'port': 10002, 'targetPort': 10002, 'ambassador': 15010}, 'rpc': {'port': 10003, 'targetPort': 10003}, 'rpcadmin': {'port': 10005, 'targetPort': 10005}, 'dbtcp': {'port': 9101, 'targetPort': 1521}, 'dbweb': {'port': 8080, 'targetPort': 81}}}})  => {
    "ansible_loop_var": "item",
    "changed": false,
    "item": {
        "cloud_provider": "minikube",
        "country": "UK",
        "external_url_suffix": "develop.local.com",
        "gitops": {
            "branch": "test2",
            "chart_source": "platforms/r3-corda/charts",
            "email": "git@email.com",
            "git_protocol": "ssh",
            "git_repo": "github.com/SynthNetics/bevel.git",
            "git_url": "ssh://git@github.com/SynthNetics/bevel.git",
            "password": "git_access_token",
            "private_key": "/home/bevel/build/gitops",
            "release_dir": "platforms/r3-corda/releases/dev",
            "username": "SynthNetics"
        },
        "k8s": {
            "config_file": "/home/bevel/build/config",
            "context": "minikube"
        },
        "location": "London",
        "name": "supplychain",
        "organization": null,
        "services": {
            "doorman": {
                "db_subject": "/C=US/ST=California/L=San Francisco/O=My Company Ltd/OU=DBA/CN=mongoDB",
                "name": "doorman",
                "ports": {
                    "nodePort": 30030,
                    "servicePort": 8080,
                    "targetPort": 8080
                },
                "subject": "CN=Corda Doorman CA,OU=DLT,O=DLT,L=Berlin,C=DE",
                "tls": "on",
                "type": "doorman"
            },
            "nms": {
                "db_subject": "/C=US/ST=California/L=San Francisco/O=My Company Ltd/OU=DBA/CN=mongoDB",
                "name": "networkmap",
                "ports": {
                    "nodePort": 30040,
                    "servicePort": 8080,
                    "targetPort": 8080
                },
                "subject": "CN=Network Map,OU=FRA,O=FRA,L=Berlin,C=DE",
                "tls": "on",
                "type": "networkmap"
            },
            "notary": {
                "dbtcp": {
                    "port": 9101,
                    "targetPort": 1521
                },
                "dbweb": {
                    "port": 8080,
                    "targetPort": 81
                },
                "name": "notary",
                "p2p": {
                    "ambassador": 15010,
                    "port": 10002,
                    "targetPort": 10002
                },
                "rpc": {
                    "port": 10003,
                    "targetPort": 10003
                },
                "rpcadmin": {
                    "port": 10005,
                    "targetPort": 10005
                },
                "subject": "O=Notary,OU=Notary,L=London,C=GB",
                "type": "notary",
                "validating": false
            }
        },
        "state": "London",
        "subject": "CN=DLT Root CA,OU=DLT,O=DLT,L=London,C=GB",
        "type": "doorman-nms-notary",
        "vault": {
            "root_token": "s.WtD9absblrkGSMkMYh3OlbzD",
            "url": "http://192.168.1.21:8217"
        }
    },
    "skip_reason": "Conditional result was False"
}
skipping: [localhost] => (item={'organization': None, 'name': 'manufacturer', 'country': 'CH', 'state': 'Zurich', 'location': 'Zurich', 'subject': 'O=Manufacturer,OU=Manufacturer,L=Zurich,C=CH', 'type': 'node', 'external_url_suffix': 'develop.local.com', 'cloud_provider': 'minikube', 'k8s': {'context': 'minikube', 'config_file': '/home/bevel/build/config'}, 'vault': {'url': 'http://192.168.1.21:8217', 'root_token': 's.WtD9absblrkGSMkMYh3OlbzD'}, 'gitops': {'git_protocol': 'ssh', 'git_url': 'ssh://git@github.com/SynthNetics/bevel.git', 'branch': 'local', 'release_dir': 'platforms/r3-corda/releases/dev', 'chart_source': 'platforms/r3-corda/charts', 'git_repo': 'github.com/SynthNetics/bevel.git', 'username': 'SynthNetics', 'password': 'git_access_token', 'email': 'git@email.com', 'private_key': '/home/bevel/build/gitops'}, 'services': {'peers': [{'peer': None, 'name': 'manufacturer', 'subject': 'O=Manufacturer,OU=Manufacturer,L=47.38/8.54/Zurich,C=CH', 'type': 'node', 'p2p': {'port': 10002, 'targetPort': 10002, 'ambassador': 15020}, 'rpc': {'port': 10003, 'targetPort': 10003}, 'rpcadmin': {'port': 10005, 'targetPort': 10005}, 'dbtcp': {'port': 9101, 'targetPort': 1521}, 'dbweb': {'port': 8080, 'targetPort': 81}, 'springboot': {'targetPort': 20001, 'port': 20001}, 'expressapi': {'targetPort': 3000, 'port': 3000}}]}})  => {
    "ansible_loop_var": "item",
    "changed": false,
    "item": {
        "cloud_provider": "minikube",
        "country": "CH",
        "external_url_suffix": "develop.local.com",
        "gitops": {
            "branch": "local",
            "chart_source": "platforms/r3-corda/charts",
            "email": "git@email.com",
            "git_protocol": "ssh",
            "git_repo": "github.com/SynthNetics/bevel.git",
            "git_url": "ssh://git@github.com/SynthNetics/bevel.git",
            "password": "git_access_token",
            "private_key": "/home/bevel/build/gitops",
            "release_dir": "platforms/r3-corda/releases/dev",
            "username": "SynthNetics"
        },
        "k8s": {
            "config_file": "/home/bevel/build/config",
            "context": "minikube"
        },
        "location": "Zurich",
        "name": "manufacturer",
        "organization": null,
        "services": {
            "peers": [
                {
                    "dbtcp": {
                        "port": 9101,
                        "targetPort": 1521
                    },
                    "dbweb": {
                        "port": 8080,
                        "targetPort": 81
                    },
                    "expressapi": {
                        "port": 3000,
                        "targetPort": 3000
                    },
                    "name": "manufacturer",
                    "p2p": {
                        "ambassador": 15020,
                        "port": 10002,
                        "targetPort": 10002
                    },
                    "peer": null,
                    "rpc": {
                        "port": 10003,
                        "targetPort": 10003
                    },
                    "rpcadmin": {
                        "port": 10005,
                        "targetPort": 10005
                    },
                    "springboot": {
                        "port": 20001,
                        "targetPort": 20001
                    },
                    "subject": "O=Manufacturer,OU=Manufacturer,L=47.38/8.54/Zurich,C=CH",
                    "type": "node"
                }
            ]
        },
        "state": "Zurich",
        "subject": "O=Manufacturer,OU=Manufacturer,L=Zurich,C=CH",
        "type": "node",
        "vault": {
            "root_token": "s.WtD9absblrkGSMkMYh3OlbzD",
            "url": "http://192.168.1.21:8217"
        }
    },
    "skip_reason": "Conditional result was False"
}

TASK [Create all create-channel jobs] ******************************************
task path: /home/bevel/platforms/hyperledger-fabric/configuration/deploy-network.yaml:198
skipping: [localhost] => {
    "changed": false,
    "skip_reason": "Conditional result was False"
}

TASK [Create all join-channel jobs] ********************************************
task path: /home/bevel/platforms/hyperledger-fabric/configuration/deploy-network.yaml:209
skipping: [localhost] => {
    "changed": false,
    "skip_reason": "Conditional result was False"
}

TASK [Create all anchor-peer jobs] *********************************************
task path: /home/bevel/platforms/hyperledger-fabric/configuration/deploy-network.yaml:220
skipping: [localhost] => {
    "changed": false,
    "skip_reason": "Conditional result was False"
}

TASK [Create CLI pod for each peer with it enabled] ****************************
task path: /home/bevel/platforms/hyperledger-fabric/configuration/deploy-network.yaml:230
skipping: [localhost] => (item={'organization': None, 'name': 'supplychain', 'country': 'UK', 'state': 'London', 'location': 'London', 'subject': 'CN=DLT Root CA,OU=DLT,O=DLT,L=London,C=GB', 'type': 'doorman-nms-notary', 'external_url_suffix': 'develop.local.com', 'cloud_provider': 'minikube', 'k8s': {'context': 'minikube', 'config_file': '/home/bevel/build/config'}, 'vault': {'url': 'http://192.168.1.21:8217', 'root_token': 's.WtD9absblrkGSMkMYh3OlbzD'}, 'gitops': {'git_protocol': 'ssh', 'git_url': 'ssh://git@github.com/SynthNetics/bevel.git', 'branch': 'test2', 'release_dir': 'platforms/r3-corda/releases/dev', 'chart_source': 'platforms/r3-corda/charts', 'git_repo': 'github.com/SynthNetics/bevel.git', 'username': 'SynthNetics', 'password': 'git_access_token', 'email': 'git@email.com', 'private_key': '/home/bevel/build/gitops'}, 'services': {'doorman': {'name': 'doorman', 'subject': 'CN=Corda Doorman CA,OU=DLT,O=DLT,L=Berlin,C=DE', 'db_subject': '/C=US/ST=California/L=San Francisco/O=My Company Ltd/OU=DBA/CN=mongoDB', 'type': 'doorman', 'ports': {'nodePort': 30030, 'servicePort': 8080, 'targetPort': 8080}, 'tls': 'on'}, 'nms': {'name': 'networkmap', 'subject': 'CN=Network Map,OU=FRA,O=FRA,L=Berlin,C=DE', 'db_subject': '/C=US/ST=California/L=San Francisco/O=My Company Ltd/OU=DBA/CN=mongoDB', 'type': 'networkmap', 'ports': {'nodePort': 30040, 'servicePort': 8080, 'targetPort': 8080}, 'tls': 'on'}, 'notary': {'name': 'notary', 'subject': 'O=Notary,OU=Notary,L=London,C=GB', 'type': 'notary', 'validating': False, 'p2p': {'port': 10002, 'targetPort': 10002, 'ambassador': 15010}, 'rpc': {'port': 10003, 'targetPort': 10003}, 'rpcadmin': {'port': 10005, 'targetPort': 10005}, 'dbtcp': {'port': 9101, 'targetPort': 1521}, 'dbweb': {'port': 8080, 'targetPort': 81}}}})  => {
    "ansible_loop_var": "org",
    "changed": false,
    "org": {
        "cloud_provider": "minikube",
        "country": "UK",
        "external_url_suffix": "develop.local.com",
        "gitops": {
            "branch": "test2",
            "chart_source": "platforms/r3-corda/charts",
            "email": "git@email.com",
            "git_protocol": "ssh",
            "git_repo": "github.com/SynthNetics/bevel.git",
            "git_url": "ssh://git@github.com/SynthNetics/bevel.git",
            "password": "git_access_token",
            "private_key": "/home/bevel/build/gitops",
            "release_dir": "platforms/r3-corda/releases/dev",
            "username": "SynthNetics"
        },
        "k8s": {
            "config_file": "/home/bevel/build/config",
            "context": "minikube"
        },
        "location": "London",
        "name": "supplychain",
        "organization": null,
        "services": {
            "doorman": {
                "db_subject": "/C=US/ST=California/L=San Francisco/O=My Company Ltd/OU=DBA/CN=mongoDB",
                "name": "doorman",
                "ports": {
                    "nodePort": 30030,
                    "servicePort": 8080,
                    "targetPort": 8080
                },
                "subject": "CN=Corda Doorman CA,OU=DLT,O=DLT,L=Berlin,C=DE",
                "tls": "on",
                "type": "doorman"
            },
            "nms": {
                "db_subject": "/C=US/ST=California/L=San Francisco/O=My Company Ltd/OU=DBA/CN=mongoDB",
                "name": "networkmap",
                "ports": {
                    "nodePort": 30040,
                    "servicePort": 8080,
                    "targetPort": 8080
                },
                "subject": "CN=Network Map,OU=FRA,O=FRA,L=Berlin,C=DE",
                "tls": "on",
                "type": "networkmap"
            },
            "notary": {
                "dbtcp": {
                    "port": 9101,
                    "targetPort": 1521
                },
                "dbweb": {
                    "port": 8080,
                    "targetPort": 81
                },
                "name": "notary",
                "p2p": {
                    "ambassador": 15010,
                    "port": 10002,
                    "targetPort": 10002
                },
                "rpc": {
                    "port": 10003,
                    "targetPort": 10003
                },
                "rpcadmin": {
                    "port": 10005,
                    "targetPort": 10005
                },
                "subject": "O=Notary,OU=Notary,L=London,C=GB",
                "type": "notary",
                "validating": false
            }
        },
        "state": "London",
        "subject": "CN=DLT Root CA,OU=DLT,O=DLT,L=London,C=GB",
        "type": "doorman-nms-notary",
        "vault": {
            "root_token": "s.WtD9absblrkGSMkMYh3OlbzD",
            "url": "http://192.168.1.21:8217"
        }
    },
    "skip_reason": "Conditional result was False"
}
skipping: [localhost] => (item={'organization': None, 'name': 'manufacturer', 'country': 'CH', 'state': 'Zurich', 'location': 'Zurich', 'subject': 'O=Manufacturer,OU=Manufacturer,L=Zurich,C=CH', 'type': 'node', 'external_url_suffix': 'develop.local.com', 'cloud_provider': 'minikube', 'k8s': {'context': 'minikube', 'config_file': '/home/bevel/build/config'}, 'vault': {'url': 'http://192.168.1.21:8217', 'root_token': 's.WtD9absblrkGSMkMYh3OlbzD'}, 'gitops': {'git_protocol': 'ssh', 'git_url': 'ssh://git@github.com/SynthNetics/bevel.git', 'branch': 'local', 'release_dir': 'platforms/r3-corda/releases/dev', 'chart_source': 'platforms/r3-corda/charts', 'git_repo': 'github.com/SynthNetics/bevel.git', 'username': 'SynthNetics', 'password': 'git_access_token', 'email': 'git@email.com', 'private_key': '/home/bevel/build/gitops'}, 'services': {'peers': [{'peer': None, 'name': 'manufacturer', 'subject': 'O=Manufacturer,OU=Manufacturer,L=47.38/8.54/Zurich,C=CH', 'type': 'node', 'p2p': {'port': 10002, 'targetPort': 10002, 'ambassador': 15020}, 'rpc': {'port': 10003, 'targetPort': 10003}, 'rpcadmin': {'port': 10005, 'targetPort': 10005}, 'dbtcp': {'port': 9101, 'targetPort': 1521}, 'dbweb': {'port': 8080, 'targetPort': 81}, 'springboot': {'targetPort': 20001, 'port': 20001}, 'expressapi': {'targetPort': 3000, 'port': 3000}}]}})  => {
    "ansible_loop_var": "org",
    "changed": false,
    "org": {
        "cloud_provider": "minikube",
        "country": "CH",
        "external_url_suffix": "develop.local.com",
        "gitops": {
            "branch": "local",
            "chart_source": "platforms/r3-corda/charts",
            "email": "git@email.com",
            "git_protocol": "ssh",
            "git_repo": "github.com/SynthNetics/bevel.git",
            "git_url": "ssh://git@github.com/SynthNetics/bevel.git",
            "password": "git_access_token",
            "private_key": "/home/bevel/build/gitops",
            "release_dir": "platforms/r3-corda/releases/dev",
            "username": "SynthNetics"
        },
        "k8s": {
            "config_file": "/home/bevel/build/config",
            "context": "minikube"
        },
        "location": "Zurich",
        "name": "manufacturer",
        "organization": null,
        "services": {
            "peers": [
                {
                    "dbtcp": {
                        "port": 9101,
                        "targetPort": 1521
                    },
                    "dbweb": {
                        "port": 8080,
                        "targetPort": 81
                    },
                    "expressapi": {
                        "port": 3000,
                        "targetPort": 3000
                    },
                    "name": "manufacturer",
                    "p2p": {
                        "ambassador": 15020,
                        "port": 10002,
                        "targetPort": 10002
                    },
                    "peer": null,
                    "rpc": {
                        "port": 10003,
                        "targetPort": 10003
                    },
                    "rpcadmin": {
                        "port": 10005,
                        "targetPort": 10005
                    },
                    "springboot": {
                        "port": 20001,
                        "targetPort": 20001
                    },
                    "subject": "O=Manufacturer,OU=Manufacturer,L=47.38/8.54/Zurich,C=CH",
                    "type": "node"
                }
            ]
        },
        "state": "Zurich",
        "subject": "O=Manufacturer,OU=Manufacturer,L=Zurich,C=CH",
        "type": "node",
        "vault": {
            "root_token": "s.WtD9absblrkGSMkMYh3OlbzD",
            "url": "http://192.168.1.21:8217"
        }
    },
    "skip_reason": "Conditional result was False"
}
META: ran handlers
META: ran handlers

PLAY [ansible_provisioners] ****************************************************
META: ran handlers

TASK [Remove build directory] **************************************************
task path: /home/bevel/platforms/hyperledger-fabric/configuration/chaincode-ops.yaml:26
skipping: [localhost] => {
    "changed": false,
    "skip_reason": "Conditional result was False"
}

TASK [Install chaincode] *******************************************************
task path: /home/bevel/platforms/hyperledger-fabric/configuration/chaincode-ops.yaml:31
skipping: [localhost] => {
    "changed": false,
    "skip_reason": "Conditional result was False"
}

TASK [Instantiate chaincode] ***************************************************
task path: /home/bevel/platforms/hyperledger-fabric/configuration/chaincode-ops.yaml:42
skipping: [localhost] => {
    "changed": false,
    "skip_reason": "Conditional result was False"
}

TASK [Approve chaincode] *******************************************************
task path: /home/bevel/platforms/hyperledger-fabric/configuration/chaincode-ops.yaml:51
skipping: [localhost] => {
    "changed": false,
    "skip_reason": "Conditional result was False"
}

TASK [Commit chaincode] ********************************************************
task path: /home/bevel/platforms/hyperledger-fabric/configuration/chaincode-ops.yaml:60
skipping: [localhost] => {
    "changed": false,
    "skip_reason": "Conditional result was False"
}

TASK [Invoke chaincode] ********************************************************
task path: /home/bevel/platforms/hyperledger-fabric/configuration/chaincode-ops.yaml:72
skipping: [localhost] => {
    "changed": false,
    "skip_reason": "Conditional result was False"
}
META: ran handlers
META: ran handlers

PLAY [ansible_provisioners] ****************************************************
META: ran handlers

TASK [Remove build directory] **************************************************
task path: /home/bevel/platforms/r3-corda/configuration/deploy-network.yaml:16
<localhost> ESTABLISH LOCAL CONNECTION FOR USER: root
<localhost> EXEC /bin/sh -c 'echo ~root && sleep 0'
<localhost> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp `"&& mkdir "` echo /root/.ansible/tmp/ansible-tmp-1666377460.8861547-1824-179494686272489 `" && echo ansible-tmp-1666377460.8861547-1824-179494686272489="` echo /root/.ansible/tmp/ansible-tmp-1666377460.8861547-1824-179494686272489 `" ) && sleep 0'
Using module file /usr/local/lib/python3.8/dist-packages/ansible/modules/file.py
<localhost> PUT /root/.ansible/tmp/ansible-local-44xot_wk5/tmpelt9x3os TO /root/.ansible/tmp/ansible-tmp-1666377460.8861547-1824-179494686272489/AnsiballZ_file.py
<localhost> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1666377460.8861547-1824-179494686272489/ /root/.ansible/tmp/ansible-tmp-1666377460.8861547-1824-179494686272489/AnsiballZ_file.py && sleep 0'
<localhost> EXEC /bin/sh -c '/usr/bin/python3 /root/.ansible/tmp/ansible-tmp-1666377460.8861547-1824-179494686272489/AnsiballZ_file.py && sleep 0'
<localhost> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1666377460.8861547-1824-179494686272489/ > /dev/null 2>&1 && sleep 0'
changed: [localhost] => {
    "changed": true,
    "diff": {
        "after": {
            "path": "./build",
            "state": "absent"
        },
        "before": {
            "path": "./build",
            "path_content": {
                "directories": [
                    "./build/corda",
                    "./build/test",
                    "./build/corda/cordarootca",
                    "./build/corda/cordadoormanca",
                    "./build/corda/mongorootca",
                    "./build/corda/mongodbca",
                    "./build/corda/cordanetworkmap",
                    "./build/corda/notary"
                ],
                "files": [
                    "./build/corda/cordarootca/keys.jks",
                    "./build/corda/cordarootca/cordarootca.pem",
                    "./build/corda/cordarootca/cordarootca.key",
                    "./build/corda/cordadoormanca/tempkeys.jks",
                    "./build/corda/cordadoormanca/keys.jks",
                    "./build/corda/mongorootca/tempmongoCA.crt",
                    "./build/corda/mongorootca/mongoCA.crt",
                    "./build/corda/mongodbca/tempmongodb-doorman.pem",
                    "./build/corda/mongodbca/mongodb-doorman.pem",
                    "./build/corda/mongodbca/tempmongodb-networkmap.pem",
                    "./build/corda/mongodbca/mongodb-networkmap.pem",
                    "./build/corda/cordanetworkmap/tempkeys.jks",
                    "./build/corda/cordanetworkmap/keys.jks",
                    "./build/test/mongodb-doorman.yaml",
                    "./build/test/doorman.yaml",
                    "./build/test/mongodb-networkmap.yaml",
                    "./build/test/networkmap.yaml"
                ]
            },
            "state": "directory"
        }
    },
    "invocation": {
        "module_args": {
            "_diff_peek": null,
            "_original_basename": null,
            "access_time": null,
            "access_time_format": "%Y%m%d%H%M.%S",
            "attributes": null,
            "follow": true,
            "force": false,
            "group": null,
            "mode": null,
            "modification_time": null,
            "modification_time_format": "%Y%m%d%H%M.%S",
            "owner": null,
            "path": "./build",
            "recurse": false,
            "selevel": null,
            "serole": null,
            "setype": null,
            "seuser": null,
            "src": null,
            "state": "absent",
            "unsafe_writes": false
        }
    },
    "path": "./build",
    "state": "absent"
}

TASK [Create Storage Class] ****************************************************
task path: /home/bevel/platforms/r3-corda/configuration/deploy-network.yaml:23

TASK [create/storageclass : set_fact] ******************************************
task path: /home/bevel/platforms/r3-corda/configuration/roles/create/storageclass/tasks/main.yaml:11
ok: [localhost] => {
    "ansible_facts": {
        "cloud_provider": "minikube"
    },
    "changed": false
}

TASK [Check if storageclass exists] ********************************************
task path: /home/bevel/platforms/r3-corda/configuration/roles/create/storageclass/tasks/main.yaml:15
redirecting (type: modules) ansible.builtin.k8s_info to kubernetes.core.k8s_info
redirecting (type: modules) ansible.builtin.k8s_info to kubernetes.core.k8s_info
redirecting (type: modules) ansible.builtin.k8s_info to kubernetes.core.k8s_info
redirecting (type: modules) ansible.builtin.k8s_info to kubernetes.core.k8s_info

TASK [/home/bevel/platforms/r3-corda/configuration/../../shared/configuration/roles/check/k8_component : Check StorageClass minikubestorageclass is created] ***
task path: /home/bevel/platforms/shared/configuration/roles/check/k8_component/tasks/main.yaml:13
<localhost> ESTABLISH LOCAL CONNECTION FOR USER: root
<localhost> EXEC /bin/sh -c 'echo ~root && sleep 0'
<localhost> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp `"&& mkdir "` echo /root/.ansible/tmp/ansible-tmp-1666377461.2962382-1856-32745093224785 `" && echo ansible-tmp-1666377461.2962382-1856-32745093224785="` echo /root/.ansible/tmp/ansible-tmp-1666377461.2962382-1856-32745093224785 `" ) && sleep 0'
redirecting (type: modules) ansible.builtin.k8s_info to kubernetes.core.k8s_info
Loading collection cloud.common from /usr/local/lib/python3.8/dist-packages/ansible_collections/cloud/common
Using module file /usr/local/lib/python3.8/dist-packages/ansible_collections/kubernetes/core/plugins/modules/k8s_info.py
<localhost> PUT /root/.ansible/tmp/ansible-local-44xot_wk5/tmpob_j7n3s TO /root/.ansible/tmp/ansible-tmp-1666377461.2962382-1856-32745093224785/AnsiballZ_k8s_info.py
<localhost> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1666377461.2962382-1856-32745093224785/ /root/.ansible/tmp/ansible-tmp-1666377461.2962382-1856-32745093224785/AnsiballZ_k8s_info.py && sleep 0'
<localhost> EXEC /bin/sh -c '/usr/bin/python3 /root/.ansible/tmp/ansible-tmp-1666377461.2962382-1856-32745093224785/AnsiballZ_k8s_info.py && sleep 0'
<localhost> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1666377461.2962382-1856-32745093224785/ > /dev/null 2>&1 && sleep 0'
ok: [localhost] => {
    "api_found": true,
    "changed": false,
    "invocation": {
        "module_args": {
            "api_key": null,
            "api_version": "v1",
            "ca_cert": null,
            "client_cert": null,
            "client_key": null,
            "context": "minikube",
            "field_selectors": [],
            "host": null,
            "impersonate_groups": null,
            "impersonate_user": null,
            "kind": "StorageClass",
            "kubeconfig": "/home/bevel/build/config",
            "label_selectors": [],
            "name": "minikubestorageclass",
            "namespace": null,
            "no_proxy": null,
            "password": null,
            "persist_config": null,
            "proxy": null,
            "proxy_headers": null,
            "username": null,
            "validate_certs": null,
            "wait": false,
            "wait_condition": null,
            "wait_sleep": 5,
            "wait_timeout": 120
        }
    },
    "resources": [
        {
            "apiVersion": "storage.k8s.io/v1",
            "kind": "StorageClass",
            "metadata": {
                "creationTimestamp": "2022-10-21T18:37:36Z",
                "labels": {
                    "kustomize.toolkit.fluxcd.io/name": "flux-local",
                    "kustomize.toolkit.fluxcd.io/namespace": "flux-local"
                },
                "managedFields": [
                    {
                        "apiVersion": "storage.k8s.io/v1",
                        "fieldsType": "FieldsV1",
                        "fieldsV1": {
                            "f:metadata": {
                                "f:labels": {
                                    "f:kustomize.toolkit.fluxcd.io/name": {},
                                    "f:kustomize.toolkit.fluxcd.io/namespace": {}
                                }
                            },
                            "f:parameters": {
                                "f:encrypted": {}
                            },
                            "f:provisioner": {},
                            "f:reclaimPolicy": {},
                            "f:volumeBindingMode": {}
                        },
                        "manager": "kustomize-controller",
                        "operation": "Apply",
                        "time": "2022-10-21T18:37:36Z"
                    }
                ],
                "name": "minikubestorageclass",
                "resourceVersion": "4075582",
                "uid": "5113790e-ee64-48f4-b109-fe272157a1e4"
            },
            "parameters": {
                "encrypted": "true"
            },
            "provisioner": "k8s.io/minikube-hostpath",
            "reclaimPolicy": "Delete",
            "volumeBindingMode": "Immediate"
        }
    ]
}

TASK [/home/bevel/platforms/r3-corda/configuration/../../shared/configuration/roles/check/k8_component : Wait for StorageClass minikubestorageclass] ***
task path: /home/bevel/platforms/shared/configuration/roles/check/k8_component/tasks/main.yaml:23
skipping: [localhost] => {
    "changed": false,
    "skip_reason": "Conditional result was False"
}

TASK [/home/bevel/platforms/r3-corda/configuration/../../shared/configuration/roles/check/k8_component : Check StorageClass minikubestorageclass is created] ***
task path: /home/bevel/platforms/shared/configuration/roles/check/k8_component/tasks/main.yaml:38
skipping: [localhost] => {
    "changed": false,
    "skip_reason": "Conditional result was False"
}

TASK [/home/bevel/platforms/r3-corda/configuration/../../shared/configuration/roles/check/k8_component : Wait for StorageClass minikubestorageclass] ***
task path: /home/bevel/platforms/shared/configuration/roles/check/k8_component/tasks/main.yaml:51
skipping: [localhost] => {
    "changed": false,
    "skip_reason": "Conditional result was False"
}
META: role_complete for localhost

TASK [create/storageclass : Set the storageclass check result to a local variable] ***
task path: /home/bevel/platforms/r3-corda/configuration/roles/create/storageclass/tasks/main.yaml:24
ok: [localhost] => {
    "ansible_facts": {
        "storageclass_state": {
            "api_found": true,
            "changed": false,
            "failed": false,
            "resources": [
                {
                    "apiVersion": "storage.k8s.io/v1",
                    "kind": "StorageClass",
                    "metadata": {
                        "creationTimestamp": "2022-10-21T18:37:36Z",
                        "labels": {
                            "kustomize.toolkit.fluxcd.io/name": "flux-local",
                            "kustomize.toolkit.fluxcd.io/namespace": "flux-local"
                        },
                        "managedFields": [
                            {
                                "apiVersion": "storage.k8s.io/v1",
                                "fieldsType": "FieldsV1",
                                "fieldsV1": {
                                    "f:metadata": {
                                        "f:labels": {
                                            "f:kustomize.toolkit.fluxcd.io/name": {},
                                            "f:kustomize.toolkit.fluxcd.io/namespace": {}
                                        }
                                    },
                                    "f:parameters": {
                                        "f:encrypted": {}
                                    },
                                    "f:provisioner": {},
                                    "f:reclaimPolicy": {},
                                    "f:volumeBindingMode": {}
                                },
                                "manager": "kustomize-controller",
                                "operation": "Apply",
                                "time": "2022-10-21T18:37:36Z"
                            }
                        ],
                        "name": "minikubestorageclass",
                        "resourceVersion": "4075582",
                        "uid": "5113790e-ee64-48f4-b109-fe272157a1e4"
                    },
                    "parameters": {
                        "encrypted": "true"
                    },
                    "provisioner": "k8s.io/minikube-hostpath",
                    "reclaimPolicy": "Delete",
                    "volumeBindingMode": "Immediate"
                }
            ]
        }
    },
    "changed": false
}

TASK [Create storageclass] *****************************************************
task path: /home/bevel/platforms/r3-corda/configuration/roles/create/storageclass/tasks/main.yaml:28
skipping: [localhost] => {
    "changed": false,
    "skip_reason": "Conditional result was False"
}

TASK [Push the created deployment files to repository] *************************
task path: /home/bevel/platforms/r3-corda/configuration/roles/create/storageclass/tasks/main.yaml:39

TASK [/home/bevel/platforms/r3-corda/configuration/../../shared/configuration/roles/git_push : Check if directory: /home/bevel/platforms/r3-corda/configuration/../../../ exists] ***
task path: /home/bevel/platforms/shared/configuration/roles/git_push/tasks/main.yaml:9
<localhost> ESTABLISH LOCAL CONNECTION FOR USER: root
<localhost> EXEC /bin/sh -c 'echo ~root && sleep 0'
<localhost> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp `"&& mkdir "` echo /root/.ansible/tmp/ansible-tmp-1666377462.9119265-1895-627280338274 `" && echo ansible-tmp-1666377462.9119265-1895-627280338274="` echo /root/.ansible/tmp/ansible-tmp-1666377462.9119265-1895-627280338274 `" ) && sleep 0'
Using module file /usr/local/lib/python3.8/dist-packages/ansible/modules/file.py
<localhost> PUT /root/.ansible/tmp/ansible-local-44xot_wk5/tmp165q_mtx TO /root/.ansible/tmp/ansible-tmp-1666377462.9119265-1895-627280338274/AnsiballZ_file.py
<localhost> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1666377462.9119265-1895-627280338274/ /root/.ansible/tmp/ansible-tmp-1666377462.9119265-1895-627280338274/AnsiballZ_file.py && sleep 0'
<localhost> EXEC /bin/sh -c '/usr/bin/python3 /root/.ansible/tmp/ansible-tmp-1666377462.9119265-1895-627280338274/AnsiballZ_file.py && sleep 0'
<localhost> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1666377462.9119265-1895-627280338274/ > /dev/null 2>&1 && sleep 0'
ok: [localhost] => {
    "changed": false,
    "diff": {
        "after": {
            "path": "/home/bevel/platforms/r3-corda/configuration/../../../"
        },
        "before": {
            "path": "/home/bevel/platforms/r3-corda/configuration/../../../"
        }
    },
    "gid": 0,
    "group": "root",
    "invocation": {
        "module_args": {
            "_diff_peek": null,
            "_original_basename": null,
            "access_time": null,
            "access_time_format": "%Y%m%d%H%M.%S",
            "attributes": null,
            "follow": true,
            "force": false,
            "group": null,
            "mode": null,
            "modification_time": null,
            "modification_time_format": "%Y%m%d%H%M.%S",
            "owner": null,
            "path": "/home/bevel/platforms/r3-corda/configuration/../../../",
            "recurse": false,
            "selevel": null,
            "serole": null,
            "setype": null,
            "seuser": null,
            "src": null,
            "state": "directory",
            "unsafe_writes": false
        }
    },
    "mode": "0755",
    "owner": "root",
    "path": "/home/bevel/platforms/r3-corda/configuration/../../../",
    "size": 552,
    "state": "directory",
    "uid": 0
}

TASK [/home/bevel/platforms/r3-corda/configuration/../../shared/configuration/roles/git_push : Execute git push for ssh] ***
task path: /home/bevel/platforms/shared/configuration/roles/git_push/tasks/main.yaml:15
<localhost> ESTABLISH LOCAL CONNECTION FOR USER: root
<localhost> EXEC /bin/sh -c 'echo ~root && sleep 0'
<localhost> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp `"&& mkdir "` echo /root/.ansible/tmp/ansible-tmp-1666377463.1753883-1921-119604274510089 `" && echo ansible-tmp-1666377463.1753883-1921-119604274510089="` echo /root/.ansible/tmp/ansible-tmp-1666377463.1753883-1921-119604274510089 `" ) && sleep 0'
Using module file /usr/local/lib/python3.8/dist-packages/ansible/modules/command.py
<localhost> PUT /root/.ansible/tmp/ansible-local-44xot_wk5/tmpsa747clw TO /root/.ansible/tmp/ansible-tmp-1666377463.1753883-1921-119604274510089/AnsiballZ_command.py
<localhost> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1666377463.1753883-1921-119604274510089/ /root/.ansible/tmp/ansible-tmp-1666377463.1753883-1921-119604274510089/AnsiballZ_command.py && sleep 0'
<localhost> EXEC /bin/sh -c '/usr/bin/python3 /root/.ansible/tmp/ansible-tmp-1666377463.1753883-1921-119604274510089/AnsiballZ_command.py && sleep 0'
<localhost> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1666377463.1753883-1921-119604274510089/ > /dev/null 2>&1 && sleep 0'
fatal: [localhost]: FAILED! => {
    "changed": true,
    "cmd": "cd \"/home/bevel/platforms/r3-corda/configuration/../../../\"\necho \"---------------GIT PUSH---------------\"\nexport GIT_SSH_COMMAND='ssh -i /home/bevel/build/gitops'\ngit config user.email git@email.com\ngit config user.name SynthNetics\ngit --git-dir=/home/bevel/platforms/r3-corda/configuration/../../..//.git pull\ngit --git-dir=/home/bevel/platforms/r3-corda/configuration/../../..//.git add -A .\n\n# To ignore a directory add it add reset path\nreset_path=platforms/r3-corda/configuration\nif [ -n \"$reset_path\" ]; then\n    git --git-dir=/home/bevel/platforms/r3-corda/configuration/../../..//.git reset \"platforms/r3-corda/configuration\"\nfi  \n\ngit --git-dir=/home/bevel/platforms/r3-corda/configuration/../../..//.git commit -s -m \"[ci skip] Pushing deployment file for storageclass\" || true\ngit --git-dir=/home/bevel/platforms/r3-corda/configuration/../../..//.git push ssh://git@github.com/SynthNetics/bevel.git HEAD:test2  \n",
    "delta": "0:00:01.310938",
    "end": "2022-10-21 18:37:44.636200",
    "invocation": {
        "module_args": {
            "_raw_params": "cd \"/home/bevel/platforms/r3-corda/configuration/../../../\"\necho \"---------------GIT PUSH---------------\"\nexport GIT_SSH_COMMAND='ssh -i /home/bevel/build/gitops'\ngit config user.email git@email.com\ngit config user.name SynthNetics\ngit --git-dir=/home/bevel/platforms/r3-corda/configuration/../../..//.git pull\ngit --git-dir=/home/bevel/platforms/r3-corda/configuration/../../..//.git add -A .\n\n# To ignore a directory add it add reset path\nreset_path=platforms/r3-corda/configuration\nif [ -n \"$reset_path\" ]; then\n    git --git-dir=/home/bevel/platforms/r3-corda/configuration/../../..//.git reset \"platforms/r3-corda/configuration\"\nfi  \n\ngit --git-dir=/home/bevel/platforms/r3-corda/configuration/../../..//.git commit -s -m \"[ci skip] Pushing deployment file for storageclass\" || true\ngit --git-dir=/home/bevel/platforms/r3-corda/configuration/../../..//.git push ssh://git@github.com/SynthNetics/bevel.git HEAD:test2  \n",
            "_uses_shell": true,
            "argv": null,
            "chdir": null,
            "creates": null,
            "executable": null,
            "removes": null,
            "stdin": null,
            "stdin_add_newline": true,
            "strip_empty_ends": true,
            "warn": false
        }
    },
    "msg": "non-zero return code",
    "rc": 1,
    "start": "2022-10-21 18:37:43.325262",
    "stderr": "Warning: Permanently added the ECDSA host key for IP address '140.82.114.3' to the list of known hosts.\r\nFrom github.com:SynthNetics/bevel\n   35e12239..63692713  test2       -> origin/test2\n   ebdeb29f..795db409  local       -> origin/local\n   35e12239..4ac170cf  synthnetics -> origin/synthnetics\nerror: Your local changes to the following files would be overwritten by merge:\n\tplatforms/r3-corda/configuration/roles/create/k8_component/vars/main.yaml\nPlease commit your changes or stash them before you merge.\nAborting\nTo ssh://github.com/SynthNetics/bevel.git\n ! [rejected]          HEAD -> test2 (non-fast-forward)\nerror: failed to push some refs to 'ssh://git@github.com/SynthNetics/bevel.git'\nhint: Updates were rejected because the tip of your current branch is behind\nhint: its remote counterpart. Integrate the remote changes (e.g.\nhint: 'git pull ...') before pushing again.\nhint: See the 'Note about fast-forwards' in 'git push --help' for details.",
    "stderr_lines": [
        "Warning: Permanently added the ECDSA host key for IP address '140.82.114.3' to the list of known hosts.",
        "From github.com:SynthNetics/bevel",
        "   35e12239..63692713  test2       -> origin/test2",
        "   ebdeb29f..795db409  local       -> origin/local",
        "   35e12239..4ac170cf  synthnetics -> origin/synthnetics",
        "error: Your local changes to the following files would be overwritten by merge:",
        "\tplatforms/r3-corda/configuration/roles/create/k8_component/vars/main.yaml",
        "Please commit your changes or stash them before you merge.",
        "Aborting",
        "To ssh://github.com/SynthNetics/bevel.git",
        " ! [rejected]          HEAD -> test2 (non-fast-forward)",
        "error: failed to push some refs to 'ssh://git@github.com/SynthNetics/bevel.git'",
        "hint: Updates were rejected because the tip of your current branch is behind",
        "hint: its remote counterpart. Integrate the remote changes (e.g.",
        "hint: 'git pull ...') before pushing again.",
        "hint: See the 'Note about fast-forwards' in 'git push --help' for details."
    ],
    "stdout": "---------------GIT PUSH---------------\nUnstaged changes after reset:\nM\tplatforms/r3-corda/configuration/roles/create/k8_component/vars/main.yaml\n[test2 2927b6ad] [ci skip] Pushing deployment file for storageclass\n 2 files changed, 8394 insertions(+)\n create mode 100644 AnsiblePlaybookLogsTest2",
    "stdout_lines": [
        "---------------GIT PUSH---------------",
        "Unstaged changes after reset:",
        "M\tplatforms/r3-corda/configuration/roles/create/k8_component/vars/main.yaml",
        "[test2 2927b6ad] [ci skip] Pushing deployment file for storageclass",
        " 2 files changed, 8394 insertions(+)",
        " create mode 100644 AnsiblePlaybookLogsTest2"
    ]
}
...ignoring

TASK [/home/bevel/platforms/r3-corda/configuration/../../shared/configuration/roles/git_push : Execute git push for https] ***
task path: /home/bevel/platforms/shared/configuration/roles/git_push/tasks/main.yaml:42
skipping: [localhost] => {
    "changed": false,
    "skip_reason": "Conditional result was False"
}

TASK [/home/bevel/platforms/r3-corda/configuration/../../shared/configuration/roles/git_push : stdout for SSH gitpush] ***
task path: /home/bevel/platforms/shared/configuration/roles/git_push/tasks/main.yaml:67
ok: [localhost] => {
    "msg": [
        "---------------GIT PUSH---------------",
        "Unstaged changes after reset:",
        "M\tplatforms/r3-corda/configuration/roles/create/k8_component/vars/main.yaml",
        "[test2 2927b6ad] [ci skip] Pushing deployment file for storageclass",
        " 2 files changed, 8394 insertions(+)",
        " create mode 100644 AnsiblePlaybookLogsTest2"
    ]
}

TASK [/home/bevel/platforms/r3-corda/configuration/../../shared/configuration/roles/git_push : stderr for SSH gitpush] ***
task path: /home/bevel/platforms/shared/configuration/roles/git_push/tasks/main.yaml:76
ok: [localhost] => {
    "msg": [
        "Warning: Permanently added the ECDSA host key for IP address '140.82.114.3' to the list of known hosts.\r",
        "From github.com:SynthNetics/bevel",
        "   35e12239..63692713  test2       -> origin/test2",
        "   ebdeb29f..795db409  local       -> origin/local",
        "   35e12239..4ac170cf  synthnetics -> origin/synthnetics",
        "error: Your local changes to the following files would be overwritten by merge:",
        "\tplatforms/r3-corda/configuration/roles/create/k8_component/vars/main.yaml",
        "Please commit your changes or stash them before you merge.",
        "Aborting",
        "To ssh://github.com/SynthNetics/bevel.git",
        " ! [rejected]          HEAD -> test2 (non-fast-forward)",
        "error: failed to push some refs to 'ssh://git@github.com/SynthNetics/bevel.git'",
        "hint: Updates were rejected because the tip of your current branch is behind",
        "hint: its remote counterpart. Integrate the remote changes (e.g.",
        "hint: 'git pull ...') before pushing again.",
        "hint: See the 'Note about fast-forwards' in 'git push --help' for details."
    ]
}

TASK [/home/bevel/platforms/r3-corda/configuration/../../shared/configuration/roles/git_push : stdout for gitpush] ***
task path: /home/bevel/platforms/shared/configuration/roles/git_push/tasks/main.yaml:86
skipping: [localhost] => {}

TASK [/home/bevel/platforms/r3-corda/configuration/../../shared/configuration/roles/git_push : stderr for git_push] ***
task path: /home/bevel/platforms/shared/configuration/roles/git_push/tasks/main.yaml:94
skipping: [localhost] => {}
META: role_complete for localhost

TASK [Wait for Storageclass creation for minikubestorageclass] *****************
task path: /home/bevel/platforms/r3-corda/configuration/roles/create/storageclass/tasks/main.yaml:50
skipping: [localhost] => {
    "changed": false,
    "skip_reason": "Conditional result was False"
}
META: role_complete for localhost

TASK [create/storageclass : set_fact] ******************************************
task path: /home/bevel/platforms/r3-corda/configuration/roles/create/storageclass/tasks/main.yaml:11
ok: [localhost] => {
    "ansible_facts": {
        "cloud_provider": "minikube"
    },
    "changed": false
}

TASK [Check if storageclass exists] ********************************************
task path: /home/bevel/platforms/r3-corda/configuration/roles/create/storageclass/tasks/main.yaml:15

TASK [/home/bevel/platforms/r3-corda/configuration/../../shared/configuration/roles/check/k8_component : Check StorageClass minikubestorageclass is created] ***
task path: /home/bevel/platforms/shared/configuration/roles/check/k8_component/tasks/main.yaml:13
<localhost> ESTABLISH LOCAL CONNECTION FOR USER: root
<localhost> EXEC /bin/sh -c 'echo ~root && sleep 0'
<localhost> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp `"&& mkdir "` echo /root/.ansible/tmp/ansible-tmp-1666377465.1545-2005-187067459257797 `" && echo ansible-tmp-1666377465.1545-2005-187067459257797="` echo /root/.ansible/tmp/ansible-tmp-1666377465.1545-2005-187067459257797 `" ) && sleep 0'
redirecting (type: modules) ansible.builtin.k8s_info to kubernetes.core.k8s_info
Using module file /usr/local/lib/python3.8/dist-packages/ansible_collections/kubernetes/core/plugins/modules/k8s_info.py
<localhost> PUT /root/.ansible/tmp/ansible-local-44xot_wk5/tmpzqmcberm TO /root/.ansible/tmp/ansible-tmp-1666377465.1545-2005-187067459257797/AnsiballZ_k8s_info.py
<localhost> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1666377465.1545-2005-187067459257797/ /root/.ansible/tmp/ansible-tmp-1666377465.1545-2005-187067459257797/AnsiballZ_k8s_info.py && sleep 0'
<localhost> EXEC /bin/sh -c '/usr/bin/python3 /root/.ansible/tmp/ansible-tmp-1666377465.1545-2005-187067459257797/AnsiballZ_k8s_info.py && sleep 0'
<localhost> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1666377465.1545-2005-187067459257797/ > /dev/null 2>&1 && sleep 0'
ok: [localhost] => {
    "api_found": true,
    "changed": false,
    "invocation": {
        "module_args": {
            "api_key": null,
            "api_version": "v1",
            "ca_cert": null,
            "client_cert": null,
            "client_key": null,
            "context": "minikube",
            "field_selectors": [],
            "host": null,
            "impersonate_groups": null,
            "impersonate_user": null,
            "kind": "StorageClass",
            "kubeconfig": "/home/bevel/build/config",
            "label_selectors": [],
            "name": "minikubestorageclass",
            "namespace": null,
            "no_proxy": null,
            "password": null,
            "persist_config": null,
            "proxy": null,
            "proxy_headers": null,
            "username": null,
            "validate_certs": null,
            "wait": false,
            "wait_condition": null,
            "wait_sleep": 5,
            "wait_timeout": 120
        }
    },
    "resources": [
        {
            "apiVersion": "storage.k8s.io/v1",
            "kind": "StorageClass",
            "metadata": {
                "creationTimestamp": "2022-10-21T18:37:36Z",
                "labels": {
                    "kustomize.toolkit.fluxcd.io/name": "flux-local",
                    "kustomize.toolkit.fluxcd.io/namespace": "flux-local"
                },
                "managedFields": [
                    {
                        "apiVersion": "storage.k8s.io/v1",
                        "fieldsType": "FieldsV1",
                        "fieldsV1": {
                            "f:metadata": {
                                "f:labels": {
                                    "f:kustomize.toolkit.fluxcd.io/name": {},
                                    "f:kustomize.toolkit.fluxcd.io/namespace": {}
                                }
                            },
                            "f:parameters": {
                                "f:encrypted": {}
                            },
                            "f:provisioner": {},
                            "f:reclaimPolicy": {},
                            "f:volumeBindingMode": {}
                        },
                        "manager": "kustomize-controller",
                        "operation": "Apply",
                        "time": "2022-10-21T18:37:36Z"
                    }
                ],
                "name": "minikubestorageclass",
                "resourceVersion": "4075582",
                "uid": "5113790e-ee64-48f4-b109-fe272157a1e4"
            },
            "parameters": {
                "encrypted": "true"
            },
            "provisioner": "k8s.io/minikube-hostpath",
            "reclaimPolicy": "Delete",
            "volumeBindingMode": "Immediate"
        }
    ]
}

TASK [/home/bevel/platforms/r3-corda/configuration/../../shared/configuration/roles/check/k8_component : Wait for StorageClass minikubestorageclass] ***
task path: /home/bevel/platforms/shared/configuration/roles/check/k8_component/tasks/main.yaml:23
skipping: [localhost] => {
    "changed": false,
    "skip_reason": "Conditional result was False"
}

TASK [/home/bevel/platforms/r3-corda/configuration/../../shared/configuration/roles/check/k8_component : Check StorageClass minikubestorageclass is created] ***
task path: /home/bevel/platforms/shared/configuration/roles/check/k8_component/tasks/main.yaml:38
skipping: [localhost] => {
    "changed": false,
    "skip_reason": "Conditional result was False"
}

TASK [/home/bevel/platforms/r3-corda/configuration/../../shared/configuration/roles/check/k8_component : Wait for StorageClass minikubestorageclass] ***
task path: /home/bevel/platforms/shared/configuration/roles/check/k8_component/tasks/main.yaml:51
skipping: [localhost] => {
    "changed": false,
    "skip_reason": "Conditional result was False"
}
META: role_complete for localhost

TASK [create/storageclass : Set the storageclass check result to a local variable] ***
task path: /home/bevel/platforms/r3-corda/configuration/roles/create/storageclass/tasks/main.yaml:24
ok: [localhost] => {
    "ansible_facts": {
        "storageclass_state": {
            "api_found": true,
            "changed": false,
            "failed": false,
            "resources": [
                {
                    "apiVersion": "storage.k8s.io/v1",
                    "kind": "StorageClass",
                    "metadata": {
                        "creationTimestamp": "2022-10-21T18:37:36Z",
                        "labels": {
                            "kustomize.toolkit.fluxcd.io/name": "flux-local",
                            "kustomize.toolkit.fluxcd.io/namespace": "flux-local"
                        },
                        "managedFields": [
                            {
                                "apiVersion": "storage.k8s.io/v1",
                                "fieldsType": "FieldsV1",
                                "fieldsV1": {
                                    "f:metadata": {
                                        "f:labels": {
                                            "f:kustomize.toolkit.fluxcd.io/name": {},
                                            "f:kustomize.toolkit.fluxcd.io/namespace": {}
                                        }
                                    },
                                    "f:parameters": {
                                        "f:encrypted": {}
                                    },
                                    "f:provisioner": {},
                                    "f:reclaimPolicy": {},
                                    "f:volumeBindingMode": {}
                                },
                                "manager": "kustomize-controller",
                                "operation": "Apply",
                                "time": "2022-10-21T18:37:36Z"
                            }
                        ],
                        "name": "minikubestorageclass",
                        "resourceVersion": "4075582",
                        "uid": "5113790e-ee64-48f4-b109-fe272157a1e4"
                    },
                    "parameters": {
                        "encrypted": "true"
                    },
                    "provisioner": "k8s.io/minikube-hostpath",
                    "reclaimPolicy": "Delete",
                    "volumeBindingMode": "Immediate"
                }
            ]
        }
    },
    "changed": false
}

TASK [Create storageclass] *****************************************************
task path: /home/bevel/platforms/r3-corda/configuration/roles/create/storageclass/tasks/main.yaml:28
skipping: [localhost] => {
    "changed": false,
    "skip_reason": "Conditional result was False"
}

TASK [Push the created deployment files to repository] *************************
task path: /home/bevel/platforms/r3-corda/configuration/roles/create/storageclass/tasks/main.yaml:39

TASK [/home/bevel/platforms/r3-corda/configuration/../../shared/configuration/roles/git_push : Check if directory: /home/bevel/platforms/r3-corda/configuration/../../../ exists] ***
task path: /home/bevel/platforms/shared/configuration/roles/git_push/tasks/main.yaml:9
<localhost> ESTABLISH LOCAL CONNECTION FOR USER: root
<localhost> EXEC /bin/sh -c 'echo ~root && sleep 0'
<localhost> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp `"&& mkdir "` echo /root/.ansible/tmp/ansible-tmp-1666377466.333091-2044-245186349608854 `" && echo ansible-tmp-1666377466.333091-2044-245186349608854="` echo /root/.ansible/tmp/ansible-tmp-1666377466.333091-2044-245186349608854 `" ) && sleep 0'
Using module file /usr/local/lib/python3.8/dist-packages/ansible/modules/file.py
<localhost> PUT /root/.ansible/tmp/ansible-local-44xot_wk5/tmpkebtuygd TO /root/.ansible/tmp/ansible-tmp-1666377466.333091-2044-245186349608854/AnsiballZ_file.py
<localhost> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1666377466.333091-2044-245186349608854/ /root/.ansible/tmp/ansible-tmp-1666377466.333091-2044-245186349608854/AnsiballZ_file.py && sleep 0'
<localhost> EXEC /bin/sh -c '/usr/bin/python3 /root/.ansible/tmp/ansible-tmp-1666377466.333091-2044-245186349608854/AnsiballZ_file.py && sleep 0'
<localhost> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1666377466.333091-2044-245186349608854/ > /dev/null 2>&1 && sleep 0'
ok: [localhost] => {
    "changed": false,
    "diff": {
        "after": {
            "path": "/home/bevel/platforms/r3-corda/configuration/../../../"
        },
        "before": {
            "path": "/home/bevel/platforms/r3-corda/configuration/../../../"
        }
    },
    "gid": 0,
    "group": "root",
    "invocation": {
        "module_args": {
            "_diff_peek": null,
            "_original_basename": null,
            "access_time": null,
            "access_time_format": "%Y%m%d%H%M.%S",
            "attributes": null,
            "follow": true,
            "force": false,
            "group": null,
            "mode": null,
            "modification_time": null,
            "modification_time_format": "%Y%m%d%H%M.%S",
            "owner": null,
            "path": "/home/bevel/platforms/r3-corda/configuration/../../../",
            "recurse": false,
            "selevel": null,
            "serole": null,
            "setype": null,
            "seuser": null,
            "src": null,
            "state": "directory",
            "unsafe_writes": false
        }
    },
    "mode": "0755",
    "owner": "root",
    "path": "/home/bevel/platforms/r3-corda/configuration/../../../",
    "size": 552,
    "state": "directory",
    "uid": 0
}

TASK [/home/bevel/platforms/r3-corda/configuration/../../shared/configuration/roles/git_push : Execute git push for ssh] ***
task path: /home/bevel/platforms/shared/configuration/roles/git_push/tasks/main.yaml:15
<localhost> ESTABLISH LOCAL CONNECTION FOR USER: root
<localhost> EXEC /bin/sh -c 'echo ~root && sleep 0'
<localhost> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp `"&& mkdir "` echo /root/.ansible/tmp/ansible-tmp-1666377466.5620782-2070-221115129609603 `" && echo ansible-tmp-1666377466.5620782-2070-221115129609603="` echo /root/.ansible/tmp/ansible-tmp-1666377466.5620782-2070-221115129609603 `" ) && sleep 0'
Using module file /usr/local/lib/python3.8/dist-packages/ansible/modules/command.py
<localhost> PUT /root/.ansible/tmp/ansible-local-44xot_wk5/tmp0o7c0twa TO /root/.ansible/tmp/ansible-tmp-1666377466.5620782-2070-221115129609603/AnsiballZ_command.py
<localhost> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1666377466.5620782-2070-221115129609603/ /root/.ansible/tmp/ansible-tmp-1666377466.5620782-2070-221115129609603/AnsiballZ_command.py && sleep 0'
<localhost> EXEC /bin/sh -c '/usr/bin/python3 /root/.ansible/tmp/ansible-tmp-1666377466.5620782-2070-221115129609603/AnsiballZ_command.py && sleep 0'
<localhost> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1666377466.5620782-2070-221115129609603/ > /dev/null 2>&1 && sleep 0'
fatal: [localhost]: FAILED! => {
    "changed": true,
    "cmd": "cd \"/home/bevel/platforms/r3-corda/configuration/../../../\"\necho \"---------------GIT PUSH---------------\"\nexport GIT_SSH_COMMAND='ssh -i /home/bevel/build/gitops'\ngit config user.email git@email.com\ngit config user.name SynthNetics\ngit --git-dir=/home/bevel/platforms/r3-corda/configuration/../../..//.git pull\ngit --git-dir=/home/bevel/platforms/r3-corda/configuration/../../..//.git add -A .\n\n# To ignore a directory add it add reset path\nreset_path=platforms/r3-corda/configuration\nif [ -n \"$reset_path\" ]; then\n    git --git-dir=/home/bevel/platforms/r3-corda/configuration/../../..//.git reset \"platforms/r3-corda/configuration\"\nfi  \n\ngit --git-dir=/home/bevel/platforms/r3-corda/configuration/../../..//.git commit -s -m \"[ci skip] Pushing deployment file for storageclass\" || true\ngit --git-dir=/home/bevel/platforms/r3-corda/configuration/../../..//.git push ssh://git@github.com/SynthNetics/bevel.git HEAD:local  \n",
    "delta": "0:00:00.847652",
    "end": "2022-10-21 18:37:47.553312",
    "invocation": {
        "module_args": {
            "_raw_params": "cd \"/home/bevel/platforms/r3-corda/configuration/../../../\"\necho \"---------------GIT PUSH---------------\"\nexport GIT_SSH_COMMAND='ssh -i /home/bevel/build/gitops'\ngit config user.email git@email.com\ngit config user.name SynthNetics\ngit --git-dir=/home/bevel/platforms/r3-corda/configuration/../../..//.git pull\ngit --git-dir=/home/bevel/platforms/r3-corda/configuration/../../..//.git add -A .\n\n# To ignore a directory add it add reset path\nreset_path=platforms/r3-corda/configuration\nif [ -n \"$reset_path\" ]; then\n    git --git-dir=/home/bevel/platforms/r3-corda/configuration/../../..//.git reset \"platforms/r3-corda/configuration\"\nfi  \n\ngit --git-dir=/home/bevel/platforms/r3-corda/configuration/../../..//.git commit -s -m \"[ci skip] Pushing deployment file for storageclass\" || true\ngit --git-dir=/home/bevel/platforms/r3-corda/configuration/../../..//.git push ssh://git@github.com/SynthNetics/bevel.git HEAD:local  \n",
            "_uses_shell": true,
            "argv": null,
            "chdir": null,
            "creates": null,
            "executable": null,
            "removes": null,
            "stdin": null,
            "stdin_add_newline": true,
            "strip_empty_ends": true,
            "warn": false
        }
    },
    "msg": "non-zero return code",
    "rc": 1,
    "start": "2022-10-21 18:37:46.705660",
    "stderr": "error: Your local changes to the following files would be overwritten by merge:\n\tplatforms/r3-corda/configuration/roles/create/k8_component/vars/main.yaml\nPlease commit your changes or stash them before you merge.\nAborting\nTo ssh://github.com/SynthNetics/bevel.git\n ! [rejected]          HEAD -> local (non-fast-forward)\nerror: failed to push some refs to 'ssh://git@github.com/SynthNetics/bevel.git'\nhint: Updates were rejected because a pushed branch tip is behind its remote\nhint: counterpart. Check out this branch and integrate the remote changes\nhint: (e.g. 'git pull ...') before pushing again.\nhint: See the 'Note about fast-forwards' in 'git push --help' for details.",
    "stderr_lines": [
        "error: Your local changes to the following files would be overwritten by merge:",
        "\tplatforms/r3-corda/configuration/roles/create/k8_component/vars/main.yaml",
        "Please commit your changes or stash them before you merge.",
        "Aborting",
        "To ssh://github.com/SynthNetics/bevel.git",
        " ! [rejected]          HEAD -> local (non-fast-forward)",
        "error: failed to push some refs to 'ssh://git@github.com/SynthNetics/bevel.git'",
        "hint: Updates were rejected because a pushed branch tip is behind its remote",
        "hint: counterpart. Check out this branch and integrate the remote changes",
        "hint: (e.g. 'git pull ...') before pushing again.",
        "hint: See the 'Note about fast-forwards' in 'git push --help' for details."
    ],
    "stdout": "---------------GIT PUSH---------------\nUnstaged changes after reset:\nM\tplatforms/r3-corda/configuration/roles/create/k8_component/vars/main.yaml\n[test2 3042eb7b] [ci skip] Pushing deployment file for storageclass\n 1 file changed, 372 insertions(+)",
    "stdout_lines": [
        "---------------GIT PUSH---------------",
        "Unstaged changes after reset:",
        "M\tplatforms/r3-corda/configuration/roles/create/k8_component/vars/main.yaml",
        "[test2 3042eb7b] [ci skip] Pushing deployment file for storageclass",
        " 1 file changed, 372 insertions(+)"
    ]
}
...ignoring

TASK [/home/bevel/platforms/r3-corda/configuration/../../shared/configuration/roles/git_push : Execute git push for https] ***
task path: /home/bevel/platforms/shared/configuration/roles/git_push/tasks/main.yaml:42
skipping: [localhost] => {
    "changed": false,
    "skip_reason": "Conditional result was False"
}

TASK [/home/bevel/platforms/r3-corda/configuration/../../shared/configuration/roles/git_push : stdout for SSH gitpush] ***
task path: /home/bevel/platforms/shared/configuration/roles/git_push/tasks/main.yaml:67
ok: [localhost] => {
    "msg": [
        "---------------GIT PUSH---------------",
        "Unstaged changes after reset:",
        "M\tplatforms/r3-corda/configuration/roles/create/k8_component/vars/main.yaml",
        "[test2 3042eb7b] [ci skip] Pushing deployment file for storageclass",
        " 1 file changed, 372 insertions(+)"
    ]
}

TASK [/home/bevel/platforms/r3-corda/configuration/../../shared/configuration/roles/git_push : stderr for SSH gitpush] ***
task path: /home/bevel/platforms/shared/configuration/roles/git_push/tasks/main.yaml:76
ok: [localhost] => {
    "msg": [
        "error: Your local changes to the following files would be overwritten by merge:",
        "\tplatforms/r3-corda/configuration/roles/create/k8_component/vars/main.yaml",
        "Please commit your changes or stash them before you merge.",
        "Aborting",
        "To ssh://github.com/SynthNetics/bevel.git",
        " ! [rejected]          HEAD -> local (non-fast-forward)",
        "error: failed to push some refs to 'ssh://git@github.com/SynthNetics/bevel.git'",
        "hint: Updates were rejected because a pushed branch tip is behind its remote",
        "hint: counterpart. Check out this branch and integrate the remote changes",
        "hint: (e.g. 'git pull ...') before pushing again.",
        "hint: See the 'Note about fast-forwards' in 'git push --help' for details."
    ]
}

TASK [/home/bevel/platforms/r3-corda/configuration/../../shared/configuration/roles/git_push : stdout for gitpush] ***
task path: /home/bevel/platforms/shared/configuration/roles/git_push/tasks/main.yaml:86
skipping: [localhost] => {}

TASK [/home/bevel/platforms/r3-corda/configuration/../../shared/configuration/roles/git_push : stderr for git_push] ***
task path: /home/bevel/platforms/shared/configuration/roles/git_push/tasks/main.yaml:94
skipping: [localhost] => {}
META: role_complete for localhost

TASK [Wait for Storageclass creation for minikubestorageclass] *****************
task path: /home/bevel/platforms/r3-corda/configuration/roles/create/storageclass/tasks/main.yaml:50
skipping: [localhost] => {
    "changed": false,
    "skip_reason": "Conditional result was False"
}
META: role_complete for localhost

TASK [Create namespace, service accounts and clusterrolebinding] ***************
task path: /home/bevel/platforms/r3-corda/configuration/deploy-network.yaml:32

TASK [Check if namespace exists] ***********************************************
task path: /home/bevel/platforms/r3-corda/configuration/roles/create/namespace_serviceaccount/tasks/main.yaml:9
redirecting (type: modules) ansible.builtin.k8s_info to kubernetes.core.k8s_info
redirecting (type: modules) ansible.builtin.k8s_info to kubernetes.core.k8s_info
redirecting (type: modules) ansible.builtin.k8s_info to kubernetes.core.k8s_info
redirecting (type: modules) ansible.builtin.k8s_info to kubernetes.core.k8s_info

TASK [/home/bevel/platforms/r3-corda/configuration/../../shared/configuration/roles/check/k8_component : Check Namespace supplychain-ns is created] ***
task path: /home/bevel/platforms/shared/configuration/roles/check/k8_component/tasks/main.yaml:13
<localhost> ESTABLISH LOCAL CONNECTION FOR USER: root
<localhost> EXEC /bin/sh -c 'echo ~root && sleep 0'
<localhost> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp `"&& mkdir "` echo /root/.ansible/tmp/ansible-tmp-1666377468.1661227-2153-241467300215257 `" && echo ansible-tmp-1666377468.1661227-2153-241467300215257="` echo /root/.ansible/tmp/ansible-tmp-1666377468.1661227-2153-241467300215257 `" ) && sleep 0'
redirecting (type: modules) ansible.builtin.k8s_info to kubernetes.core.k8s_info
Using module file /usr/local/lib/python3.8/dist-packages/ansible_collections/kubernetes/core/plugins/modules/k8s_info.py
<localhost> PUT /root/.ansible/tmp/ansible-local-44xot_wk5/tmpq5vy6zqq TO /root/.ansible/tmp/ansible-tmp-1666377468.1661227-2153-241467300215257/AnsiballZ_k8s_info.py
<localhost> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1666377468.1661227-2153-241467300215257/ /root/.ansible/tmp/ansible-tmp-1666377468.1661227-2153-241467300215257/AnsiballZ_k8s_info.py && sleep 0'
<localhost> EXEC /bin/sh -c '/usr/bin/python3 /root/.ansible/tmp/ansible-tmp-1666377468.1661227-2153-241467300215257/AnsiballZ_k8s_info.py && sleep 0'
<localhost> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1666377468.1661227-2153-241467300215257/ > /dev/null 2>&1 && sleep 0'
ok: [localhost] => {
    "api_found": true,
    "changed": false,
    "invocation": {
        "module_args": {
            "api_key": null,
            "api_version": "v1",
            "ca_cert": null,
            "client_cert": null,
            "client_key": null,
            "context": "minikube",
            "field_selectors": [],
            "host": null,
            "impersonate_groups": null,
            "impersonate_user": null,
            "kind": "Namespace",
            "kubeconfig": "/home/bevel/build/config",
            "label_selectors": [],
            "name": "supplychain-ns",
            "namespace": null,
            "no_proxy": null,
            "password": null,
            "persist_config": null,
            "proxy": null,
            "proxy_headers": null,
            "username": null,
            "validate_certs": null,
            "wait": false,
            "wait_condition": null,
            "wait_sleep": 5,
            "wait_timeout": 120
        }
    },
    "resources": [
        {
            "apiVersion": "v1",
            "kind": "Namespace",
            "metadata": {
                "creationTimestamp": "2022-10-21T18:37:34Z",
                "labels": {
                    "kubernetes.io/metadata.name": "supplychain-ns",
                    "kustomize.toolkit.fluxcd.io/name": "flux-local",
                    "kustomize.toolkit.fluxcd.io/namespace": "flux-local"
                },
                "managedFields": [
                    {
                        "apiVersion": "v1",
                        "fieldsType": "FieldsV1",
                        "fieldsV1": {
                            "f:metadata": {
                                "f:labels": {
                                    "f:kustomize.toolkit.fluxcd.io/name": {},
                                    "f:kustomize.toolkit.fluxcd.io/namespace": {}
                                }
                            }
                        },
                        "manager": "kustomize-controller",
                        "operation": "Apply",
                        "time": "2022-10-21T18:37:34Z"
                    }
                ],
                "name": "supplychain-ns",
                "resourceVersion": "4075573",
                "uid": "d208f999-4641-43eb-99f7-861d887576c9"
            },
            "spec": {
                "finalizers": [
                    "kubernetes"
                ]
            },
            "status": {
                "phase": "Active"
            }
        }
    ]
}

TASK [/home/bevel/platforms/r3-corda/configuration/../../shared/configuration/roles/check/k8_component : Wait for Namespace supplychain-ns] ***
task path: /home/bevel/platforms/shared/configuration/roles/check/k8_component/tasks/main.yaml:23
skipping: [localhost] => {
    "changed": false,
    "skip_reason": "Conditional result was False"
}

TASK [/home/bevel/platforms/r3-corda/configuration/../../shared/configuration/roles/check/k8_component : Check Namespace supplychain-ns is created] ***
task path: /home/bevel/platforms/shared/configuration/roles/check/k8_component/tasks/main.yaml:38
skipping: [localhost] => {
    "changed": false,
    "skip_reason": "Conditional result was False"
}

TASK [/home/bevel/platforms/r3-corda/configuration/../../shared/configuration/roles/check/k8_component : Wait for Namespace supplychain-ns] ***
task path: /home/bevel/platforms/shared/configuration/roles/check/k8_component/tasks/main.yaml:51
skipping: [localhost] => {
    "changed": false,
    "skip_reason": "Conditional result was False"
}
META: role_complete for localhost

TASK [create/namespace_serviceaccount : Set the result of namespace check to a local variable] ***
task path: /home/bevel/platforms/r3-corda/configuration/roles/create/namespace_serviceaccount/tasks/main.yaml:18
ok: [localhost] => {
    "ansible_facts": {
        "get_namespace": {
            "api_found": true,
            "changed": false,
            "failed": false,
            "resources": [
                {
                    "apiVersion": "v1",
                    "kind": "Namespace",
                    "metadata": {
                        "creationTimestamp": "2022-10-21T18:37:34Z",
                        "labels": {
                            "kubernetes.io/metadata.name": "supplychain-ns",
                            "kustomize.toolkit.fluxcd.io/name": "flux-local",
                            "kustomize.toolkit.fluxcd.io/namespace": "flux-local"
                        },
                        "managedFields": [
                            {
                                "apiVersion": "v1",
                                "fieldsType": "FieldsV1",
                                "fieldsV1": {
                                    "f:metadata": {
                                        "f:labels": {
                                            "f:kustomize.toolkit.fluxcd.io/name": {},
                                            "f:kustomize.toolkit.fluxcd.io/namespace": {}
                                        }
                                    }
                                },
                                "manager": "kustomize-controller",
                                "operation": "Apply",
                                "time": "2022-10-21T18:37:34Z"
                            }
                        ],
                        "name": "supplychain-ns",
                        "resourceVersion": "4075573",
                        "uid": "d208f999-4641-43eb-99f7-861d887576c9"
                    },
                    "spec": {
                        "finalizers": [
                            "kubernetes"
                        ]
                    },
                    "status": {
                        "phase": "Active"
                    }
                }
            ]
        }
    },
    "changed": false
}

TASK [Create namespace for supplychain] ****************************************
task path: /home/bevel/platforms/r3-corda/configuration/roles/create/namespace_serviceaccount/tasks/main.yaml:23
skipping: [localhost] => {
    "changed": false,
    "skip_reason": "Conditional result was False"
}

TASK [Create vault auth service account for supplychain] ***********************
task path: /home/bevel/platforms/r3-corda/configuration/roles/create/namespace_serviceaccount/tasks/main.yaml:34

TASK [create/k8_component : stat] **********************************************
task path: /home/bevel/platforms/r3-corda/configuration/roles/create/k8_component/tasks/main.yaml:17
<localhost> ESTABLISH LOCAL CONNECTION FOR USER: root
<localhost> EXEC /bin/sh -c 'echo ~root && sleep 0'
<localhost> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp `"&& mkdir "` echo /root/.ansible/tmp/ansible-tmp-1666377469.1140797-2192-157724926948217 `" && echo ansible-tmp-1666377469.1140797-2192-157724926948217="` echo /root/.ansible/tmp/ansible-tmp-1666377469.1140797-2192-157724926948217 `" ) && sleep 0'
Using module file /usr/local/lib/python3.8/dist-packages/ansible/modules/stat.py
<localhost> PUT /root/.ansible/tmp/ansible-local-44xot_wk5/tmp864100ww TO /root/.ansible/tmp/ansible-tmp-1666377469.1140797-2192-157724926948217/AnsiballZ_stat.py
<localhost> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1666377469.1140797-2192-157724926948217/ /root/.ansible/tmp/ansible-tmp-1666377469.1140797-2192-157724926948217/AnsiballZ_stat.py && sleep 0'
<localhost> EXEC /bin/sh -c '/usr/bin/python3 /root/.ansible/tmp/ansible-tmp-1666377469.1140797-2192-157724926948217/AnsiballZ_stat.py && sleep 0'
<localhost> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1666377469.1140797-2192-157724926948217/ > /dev/null 2>&1 && sleep 0'
ok: [localhost] => {
    "changed": false,
    "invocation": {
        "module_args": {
            "checksum_algorithm": "sha1",
            "follow": false,
            "get_attributes": true,
            "get_checksum": true,
            "get_md5": false,
            "get_mime": true,
            "path": "/home/bevel/platforms/r3-corda/configuration/../../../platforms/r3-corda/releases/dev/supplychain-ns/vaultAuth.yaml"
        }
    },
    "stat": {
        "atime": 1666377464.0916588,
        "attr_flags": "",
        "attributes": [],
        "block_size": 4096,
        "blocks": 8,
        "charset": "unknown",
        "checksum": "c8833eba23a3f730489b499bca58c70389374edd",
        "ctime": 1666377316.000464,
        "dev": 41,
        "device_type": 0,
        "executable": false,
        "exists": true,
        "gid": 0,
        "gr_name": "root",
        "inode": 11310525,
        "isblk": false,
        "ischr": false,
        "isdir": false,
        "isfifo": false,
        "isgid": false,
        "islnk": false,
        "isreg": true,
        "issock": false,
        "isuid": false,
        "mimetype": "unknown",
        "mode": "0644",
        "mtime": 1666319181.0490868,
        "nlink": 1,
        "path": "/home/bevel/platforms/r3-corda/configuration/../../../platforms/r3-corda/releases/dev/supplychain-ns/vaultAuth.yaml",
        "pw_name": "root",
        "readable": true,
        "rgrp": true,
        "roth": true,
        "rusr": true,
        "size": 92,
        "uid": 0,
        "version": "59642",
        "wgrp": false,
        "woth": false,
        "writeable": true,
        "wusr": true,
        "xgrp": false,
        "xoth": false,
        "xusr": false
    }
}

TASK [Ensures /home/bevel/platforms/r3-corda/configuration/../../../platforms/r3-corda/releases/dev/supplychain-ns dir exists] ***
task path: /home/bevel/platforms/r3-corda/configuration/roles/create/k8_component/tasks/main.yaml:22
skipping: [localhost] => {
    "changed": false,
    "skip_reason": "Conditional result was False"
}

TASK [create/k8_component : create vaultAuth file for supplychain-ns] **********
task path: /home/bevel/platforms/r3-corda/configuration/roles/create/k8_component/tasks/main.yaml:32
skipping: [localhost] => {
    "changed": false,
    "skip_reason": "Conditional result was False"
}

TASK [Helm lint] ***************************************************************
task path: /home/bevel/platforms/r3-corda/configuration/roles/create/k8_component/tasks/main.yaml:44
skipping: [localhost] => {
    "changed": false,
    "skip_reason": "Conditional result was False"
}
META: role_complete for localhost

TASK [Create vault reviewer for supplychain] ***********************************
task path: /home/bevel/platforms/r3-corda/configuration/roles/create/namespace_serviceaccount/tasks/main.yaml:44

TASK [create/k8_component : stat] **********************************************
task path: /home/bevel/platforms/r3-corda/configuration/roles/create/k8_component/tasks/main.yaml:17
<localhost> ESTABLISH LOCAL CONNECTION FOR USER: root
<localhost> EXEC /bin/sh -c 'echo ~root && sleep 0'
<localhost> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp `"&& mkdir "` echo /root/.ansible/tmp/ansible-tmp-1666377469.6226065-2227-57192728453679 `" && echo ansible-tmp-1666377469.6226065-2227-57192728453679="` echo /root/.ansible/tmp/ansible-tmp-1666377469.6226065-2227-57192728453679 `" ) && sleep 0'
Using module file /usr/local/lib/python3.8/dist-packages/ansible/modules/stat.py
<localhost> PUT /root/.ansible/tmp/ansible-local-44xot_wk5/tmph45oogf5 TO /root/.ansible/tmp/ansible-tmp-1666377469.6226065-2227-57192728453679/AnsiballZ_stat.py
<localhost> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1666377469.6226065-2227-57192728453679/ /root/.ansible/tmp/ansible-tmp-1666377469.6226065-2227-57192728453679/AnsiballZ_stat.py && sleep 0'
<localhost> EXEC /bin/sh -c '/usr/bin/python3 /root/.ansible/tmp/ansible-tmp-1666377469.6226065-2227-57192728453679/AnsiballZ_stat.py && sleep 0'
<localhost> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1666377469.6226065-2227-57192728453679/ > /dev/null 2>&1 && sleep 0'
ok: [localhost] => {
    "changed": false,
    "invocation": {
        "module_args": {
            "checksum_algorithm": "sha1",
            "follow": false,
            "get_attributes": true,
            "get_checksum": true,
            "get_md5": false,
            "get_mime": true,
            "path": "/home/bevel/platforms/r3-corda/configuration/../../../platforms/r3-corda/releases/dev/supplychain-ns/vault-reviewer.yaml"
        }
    },
    "stat": {
        "atime": 1666377464.0916588,
        "attr_flags": "",
        "attributes": [],
        "block_size": 4096,
        "blocks": 8,
        "charset": "unknown",
        "checksum": "fae14a5a51a3c1776efbeb4a965944911975db67",
        "ctime": 1666377316.0014641,
        "dev": 41,
        "device_type": 0,
        "executable": false,
        "exists": true,
        "gid": 0,
        "gr_name": "root",
        "inode": 11310553,
        "isblk": false,
        "ischr": false,
        "isdir": false,
        "isfifo": false,
        "isgid": false,
        "islnk": false,
        "isreg": true,
        "issock": false,
        "isuid": false,
        "mimetype": "unknown",
        "mode": "0644",
        "mtime": 1666319182.8460896,
        "nlink": 1,
        "path": "/home/bevel/platforms/r3-corda/configuration/../../../platforms/r3-corda/releases/dev/supplychain-ns/vault-reviewer.yaml",
        "pw_name": "root",
        "readable": true,
        "rgrp": true,
        "roth": true,
        "rusr": true,
        "size": 96,
        "uid": 0,
        "version": "59642",
        "wgrp": false,
        "woth": false,
        "writeable": true,
        "wusr": true,
        "xgrp": false,
        "xoth": false,
        "xusr": false
    }
}

TASK [Ensures /home/bevel/platforms/r3-corda/configuration/../../../platforms/r3-corda/releases/dev/supplychain-ns dir exists] ***
task path: /home/bevel/platforms/r3-corda/configuration/roles/create/k8_component/tasks/main.yaml:22
skipping: [localhost] => {
    "changed": false,
    "skip_reason": "Conditional result was False"
}

TASK [create/k8_component : create vault-reviewer file for supplychain-ns] *****
task path: /home/bevel/platforms/r3-corda/configuration/roles/create/k8_component/tasks/main.yaml:32
skipping: [localhost] => {
    "changed": false,
    "skip_reason": "Conditional result was False"
}

TASK [Helm lint] ***************************************************************
task path: /home/bevel/platforms/r3-corda/configuration/roles/create/k8_component/tasks/main.yaml:44
skipping: [localhost] => {
    "changed": false,
    "skip_reason": "Conditional result was False"
}
META: role_complete for localhost

TASK [Create clusterrolebinding for supplychain] *******************************
task path: /home/bevel/platforms/r3-corda/configuration/roles/create/namespace_serviceaccount/tasks/main.yaml:54

TASK [create/k8_component : stat] **********************************************
task path: /home/bevel/platforms/r3-corda/configuration/roles/create/k8_component/tasks/main.yaml:17
<localhost> ESTABLISH LOCAL CONNECTION FOR USER: root
<localhost> EXEC /bin/sh -c 'echo ~root && sleep 0'
<localhost> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp `"&& mkdir "` echo /root/.ansible/tmp/ansible-tmp-1666377470.0731182-2262-168133303369885 `" && echo ansible-tmp-1666377470.0731182-2262-168133303369885="` echo /root/.ansible/tmp/ansible-tmp-1666377470.0731182-2262-168133303369885 `" ) && sleep 0'
Using module file /usr/local/lib/python3.8/dist-packages/ansible/modules/stat.py
<localhost> PUT /root/.ansible/tmp/ansible-local-44xot_wk5/tmpdwfhe4i5 TO /root/.ansible/tmp/ansible-tmp-1666377470.0731182-2262-168133303369885/AnsiballZ_stat.py
<localhost> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1666377470.0731182-2262-168133303369885/ /root/.ansible/tmp/ansible-tmp-1666377470.0731182-2262-168133303369885/AnsiballZ_stat.py && sleep 0'
<localhost> EXEC /bin/sh -c '/usr/bin/python3 /root/.ansible/tmp/ansible-tmp-1666377470.0731182-2262-168133303369885/AnsiballZ_stat.py && sleep 0'
<localhost> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1666377470.0731182-2262-168133303369885/ > /dev/null 2>&1 && sleep 0'
ok: [localhost] => {
    "changed": false,
    "invocation": {
        "module_args": {
            "checksum_algorithm": "sha1",
            "follow": false,
            "get_attributes": true,
            "get_checksum": true,
            "get_md5": false,
            "get_mime": true,
            "path": "/home/bevel/platforms/r3-corda/configuration/../../../platforms/r3-corda/releases/dev/supplychain-ns/reviewer_rbac.yaml"
        }
    },
    "stat": {
        "atime": 1666377464.0916588,
        "attr_flags": "",
        "attributes": [],
        "block_size": 4096,
        "blocks": 8,
        "charset": "unknown",
        "checksum": "5f06b545cc1678b7c1e5c86b28dd663861add284",
        "ctime": 1666377316.000464,
        "dev": 41,
        "device_type": 0,
        "executable": false,
        "exists": true,
        "gid": 0,
        "gr_name": "root",
        "inode": 11310581,
        "isblk": false,
        "ischr": false,
        "isdir": false,
        "isfifo": false,
        "isgid": false,
        "islnk": false,
        "isreg": true,
        "issock": false,
        "isuid": false,
        "mimetype": "unknown",
        "mode": "0644",
        "mtime": 1666319184.2160919,
        "nlink": 1,
        "path": "/home/bevel/platforms/r3-corda/configuration/../../../platforms/r3-corda/releases/dev/supplychain-ns/reviewer_rbac.yaml",
        "pw_name": "root",
        "readable": true,
        "rgrp": true,
        "roth": true,
        "rusr": true,
        "size": 325,
        "uid": 0,
        "version": "59642",
        "wgrp": false,
        "woth": false,
        "writeable": true,
        "wusr": true,
        "xgrp": false,
        "xoth": false,
        "xusr": false
    }
}

TASK [Ensures /home/bevel/platforms/r3-corda/configuration/../../../platforms/r3-corda/releases/dev/supplychain-ns dir exists] ***
task path: /home/bevel/platforms/r3-corda/configuration/roles/create/k8_component/tasks/main.yaml:22
skipping: [localhost] => {
    "changed": false,
    "skip_reason": "Conditional result was False"
}

TASK [create/k8_component : create reviewer_rbac file for supplychain-ns] ******
task path: /home/bevel/platforms/r3-corda/configuration/roles/create/k8_component/tasks/main.yaml:32
skipping: [localhost] => {
    "changed": false,
    "skip_reason": "Conditional result was False"
}

TASK [Helm lint] ***************************************************************
task path: /home/bevel/platforms/r3-corda/configuration/roles/create/k8_component/tasks/main.yaml:44
skipping: [localhost] => {
    "changed": false,
    "skip_reason": "Conditional result was False"
}
META: role_complete for localhost

TASK [Push the created deployment files to repository] *************************
task path: /home/bevel/platforms/r3-corda/configuration/roles/create/namespace_serviceaccount/tasks/main.yaml:63

TASK [/home/bevel/platforms/r3-corda/configuration/../../shared/configuration/roles/git_push : Check if directory: /home/bevel/platforms/r3-corda/configuration/../../../ exists] ***
task path: /home/bevel/platforms/shared/configuration/roles/git_push/tasks/main.yaml:9
<localhost> ESTABLISH LOCAL CONNECTION FOR USER: root
<localhost> EXEC /bin/sh -c 'echo ~root && sleep 0'
<localhost> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp `"&& mkdir "` echo /root/.ansible/tmp/ansible-tmp-1666377470.521738-2297-168225326814255 `" && echo ansible-tmp-1666377470.521738-2297-168225326814255="` echo /root/.ansible/tmp/ansible-tmp-1666377470.521738-2297-168225326814255 `" ) && sleep 0'
Using module file /usr/local/lib/python3.8/dist-packages/ansible/modules/file.py
<localhost> PUT /root/.ansible/tmp/ansible-local-44xot_wk5/tmp4bnk2r6g TO /root/.ansible/tmp/ansible-tmp-1666377470.521738-2297-168225326814255/AnsiballZ_file.py
<localhost> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1666377470.521738-2297-168225326814255/ /root/.ansible/tmp/ansible-tmp-1666377470.521738-2297-168225326814255/AnsiballZ_file.py && sleep 0'
<localhost> EXEC /bin/sh -c '/usr/bin/python3 /root/.ansible/tmp/ansible-tmp-1666377470.521738-2297-168225326814255/AnsiballZ_file.py && sleep 0'
<localhost> EXEC /bin/sh -c 'rm -f -r /root/.ansible/tmp/ansible-tmp-1666377470.521738-2297-168225326814255/ > /dev/null 2>&1 && sleep 0'
ok: [localhost] => {
    "changed": false,
    "diff": {
        "after": {
            "path": "/home/bevel/platforms/r3-corda/configuration/../../../"
        },
        "before": {
            "path": "/home/bevel/platforms/r3-corda/configuration/../../../"
        }
    },
    "gid": 0,
    "group": "root",
    "invocation": {
        "module_args": {
            "_diff_peek": null,
            "_original_basename": null,
            "access_time": null,
            "access_time_format": "%Y%m%d%H%M.%S",
            "attributes": null,
            "follow": true,
            "force": false,
            "group": null,
            "mode": null,
            "modification_time": null,
            "modification_time_format": "%Y%m%d%H%M.%S",
            "owner": null,
            "path": "/home/bevel/platforms/r3-corda/configuration/../../../",
            "recurse": false,
            "selevel": null,
            "serole": null,
            "setype": null,
            "seuser": null,
            "src": null,
            "state": "directory",
            "unsafe_writes": false
        }
    },
    "mode": "0755",
    "owner": "root",
    "path": "/home/bevel/platforms/r3-corda/configuration/../../../",
    "size": 552,
    "state": "directory",
    "uid": 0
}

TASK [/home/bevel/platforms/r3-corda/configuration/../../shared/configuration/roles/git_push : Execute git push for ssh] ***
task path: /home/bevel/platforms/shared/configuration/roles/git_push/tasks/main.yaml:15
<localhost> ESTABLISH LOCAL CONNECTION FOR USER: root
<localhost> EXEC /bin/sh -c 'echo ~root && sleep 0'
<localhost> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /root/.ansible/tmp `"&& mkdir "` echo /root/.ansible/tmp/ansible-tmp-1666377470.748213-2323-212008388329552 `" && echo ansible-tmp-1666377470.748213-2323-212008388329552="` echo /root/.ansible/tmp/ansible-tmp-1666377470.748213-2323-212008388329552 `" ) && sleep 0'
Using module file /usr/local/lib/python3.8/dist-packages/ansible/modules/command.py
<localhost> PUT /root/.ansible/tmp/ansible-local-44xot_wk5/tmpui9350tw TO /root/.ansible/tmp/ansible-tmp-1666377470.748213-2323-212008388329552/AnsiballZ_command.py
<localhost> EXEC /bin/sh -c 'chmod u+x /root/.ansible/tmp/ansible-tmp-1666377470.748213-2323-212008388329552/ /root/.ansible/tmp/ansible-tmp-1666377470.748213-2323-212008388329552/AnsiballZ_command.py && sleep 0'
<localhost> EXEC /bin/sh -c '/usr/bin/python3 /root/.ansible/tmp/ansible-tmp-1666377470.748213-2323-212008388329552/AnsiballZ_command.py && sleep 0'
